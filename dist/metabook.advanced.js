window.$q=document&&document.Gr&&document.Gr.src;var g="undefined"===typeof g?{}:g;Array.prototype.indexOf||(Array.prototype.indexOf=function(a,q){q||(q=0);for(var k=this.length;q<k;){if(this[q]===a)return q;q++}return-1});Object.keys||(Object.keys=function(a){if(a!==Object(a))throw new TypeError("Object.keys called on non-object");var q=[],k;for(k in a)Object.prototype.hasOwnProperty.call(a,k)&&q.push(k);return q});
String.prototype.trim||(String.prototype.trim=function(){var a=/^\s+/,q=/\s+$/;return function(){return this.replace(a,"").replace(q,"")}});(function(){function a(a,c){return function(){a.apply(c,arguments)}}function q(h){if("object"!==typeof this)throw new TypeError('Use "new" to make Promises');if("function"!==typeof h)throw new TypeError("not a function");this.Vh=this.ug=null;this.Sh=[];A(h,a(m,this),a(e,this))}function k(a){var c=this;null===this.ug?this.Sh.push(a):y(function(){var b=c.ug?a.Xt:a.Yt;if(null===b)(c.ug?a.resolve:a.reject)(c.Vh);else{var f;try{f=b(c.Vh)}catch(e){a.reject(e);return}a.resolve(f)}})}function m(h){try{if(h===
this)throw new TypeError("A promise cannot be resolved with itself.");if(h&&("object"===typeof h||"function"===typeof h)){var c=h.then;if("function"===typeof c){A(a(c,h),a(m,this),a(e,this));return}}this.ug=!0;this.Vh=h;v.call(this)}catch(b){e.call(this,b)}}function e(a){this.ug=!1;this.Vh=a;v.call(this)}function v(){for(var a=0,c=this.Sh.length;a<c;a++)k.call(this,this.Sh[a]);this.Sh=null}function l(a,c,b,f){this.Xt="function"===typeof a?a:null;this.Yt="function"===typeof c?c:null;this.resolve=b;
this.reject=f}function A(a,c,b){var f=!1;try{a(function(a){f||(f=!0,c(a))},function(a){f||(f=!0,b(a))})}catch(e){f||(f=!0,b(e))}}var t;t="object"===typeof window&&window?window:global;var y=t.Promise&&t.Promise.IA||t.setImmediate||function(a){setTimeout(a,1)},w=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};q.prototype["catch"]=function(a){return this.then(null,a)};q.prototype.then=function(a,c){var b=this;return new q(function(f,e){k.call(b,new l(a,c,f,e))})};
q.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&w(arguments[0])?arguments[0]:arguments);return new q(function(c,b){function f(d,x){try{if(x&&("object"===typeof x||"function"===typeof x)){var y=x.then;if("function"===typeof y){y.call(x,function(a){f(d,a)},b);return}}a[d]=x;0===--e&&c(a)}catch(J){b(J)}}if(0===a.length)return c([]);for(var e=a.length,y=0;y<a.length;y++)f(y,a[y])})};q.resolve=function(a){return a&&"object"===typeof a&&a.constructor===q?a:new q(function(c){c(a)})};
q.reject=function(a){return new q(function(c,b){b(a)})};q.race=function(a){return new q(function(c,b){for(var f=0,e=a.length;f<e;f++)a[f].then(c,b)})};"undefined"!==typeof module&&module.Xr?module.Xr=q:t.Promise||(t.Promise=q)})();g.va=g.zq=g.async=function(){function a(a,m){return new Promise(function(l,k){setTimeout(function(){var t;try{t=m?a.call(null,m):a(),l(t)}catch(y){k(y)}},1)})}function q(){return(new Date).getTime()}function k(a,m,l,k,t,y){function w(){for(var f=q()+m,F=!1;c<b;){var r=a[c++];if(r){if("number"===typeof r){F=r;break}else try{r()}catch(d){y(d)}if(q()>f)break}}!(c<b)||k&&k()?(clearTimeout(h),h=!1,t(!1)):h=setTimeout(w,F||l)}var h=!1;"number"!==typeof m&&(m=100);"number"!==typeof l&&(l=100);var c=0,b=
a.length;w()}function m(a,m,l,k,t,y,w,h,c){function b(){try{var J=q(),G=J,D=J+y;for(l&&l(0===f?"start":"resume",f,F,r,d,x);f<F&&(G=q())<D;){var E=m[f];l&&(c&&0===f%c||f+1===F)&&l("element",f,F,E,d,G-x);try{a(E)}catch(P){var O={Sb:E,Ws:f,At:F,Vv:m};if(h&&h(P,E,O))continue;if(t)return t(P);throw P;}l&&(c&&0===f%c||f+1===F)&&l("after",f,F,E,d+(q()-J),x,q()-G);f++}r+=1;if(f<F)d+=G-J,l&&l("suspend",f,F,r,d,x),K=setTimeout(b,w);else{G=q();d+=G-J;clearTimeout(K);K=!1;l&&l("finishing",f,F,r,d,x);var L=k&&
q()-G,G=q();d+=G-J;l&&l("done",f,F,r,d,x,L);k&&k.call&&k(m,G-x,d)}}catch(z){t&&t(z)}}var f=0,F=m.length,r=0,d=0,x=q(),K=!1;y||(y=100);w||(w=y);c||(c=0);K=setTimeout(b,w)}a.yb=function(a,m){m||(m={});var l=m.slice||100,A=m.pf||100,t=m.stop||!1;return new Promise(function(y,w){k(a,l,A,t,y,w)})};a.xb=function(a,k,l){l||(l={});var A=l.slice,t=l.pf,y=l.qC,w=l.ym,h=l.watch,c=l.hasOwnProperty("sync")?l.aa:l.hasOwnProperty("async")?!l.async:!1,b=l.Hb;1>h&&(h*=k.length);return new Promise(function(f,l){if(c){for(var r=
0,d=k.length;r<d;){var x=k[r++];try{a(k[x])}catch(K){var J={Sb:x,Ws:r,At:d,Vv:k};if(!y||!y(K,x,J)){if(l)return l(K);throw K;}}}f&&f(k)}else m(a,k,w,b?function(){b();f&&f(k)}:f,l,A,t,y,h)})};a.ly=function(a,m,l){var k;return function(){var t=this,y=arguments,w=l&&!k;clearTimeout(k);k=setTimeout(function(){k=null;l||a.apply(t,y)},m);w&&a.apply(t,y)}};a.GC=function(a,m,l,k,t){var y=Number(new Date)+(k||2E3);t=t||100;(function h(){a()?m():Number(new Date)<y?setTimeout(h,t):l(Error("timed out for "+a+
": "+arguments))})()};a.oC=function(a,m){var l;return function(){a&&(l=a.apply(m||this,arguments),a=null);return l}};return a}();(function(a){function q(a){"string"!==typeof a&&(a=String(a));if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function k(a){"string"!==typeof a&&(a=String(a));return a}function m(a){this.map={};a instanceof m?a.forEach(function(a,b){this.append(b,a)},this):a&&Object.getOwnPropertyNames(a).forEach(function(x){this.append(x,a[x])},this)}function e(a){if(a.ci)return Promise.reject(new TypeError("Already read"));a.ci=!0}function v(a){return new Promise(function(x,
b){a.onload=function(){x(a.result)};a.onerror=function(){b(a.error)}})}function l(a){var x=new FileReader;x.readAsArrayBuffer(a);return v(x)}function A(){this.ci=!1;this.Ym=function(a){this.Qh=a;if("string"===typeof a)this.Rh=a;else if(f.zg&&Blob.prototype.isPrototypeOf(a))this.Ph=a;else if(f.Zk&&FormData.prototype.isPrototypeOf(a))this.Xm=a;else if(!a)this.Rh="";else if(!f.on||!ArrayBuffer.prototype.isPrototypeOf(a))throw Error("unsupported BodyInit type");};f.zg?(this.zg=function(){var a=e(this);
if(a)return a;if(this.Ph)return Promise.resolve(this.Ph);if(this.Xm)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this.Rh]))},this.on=function(){return this.zg().then(l)},this.text=function(){var a=e(this);if(a)return a;if(this.Ph){var a=this.Ph,x=new FileReader;x.readAsText(a);return v(x)}if(this.Xm)throw Error("could not read FormData body as text");return Promise.resolve(this.Rh)}):this.text=function(){var a=e(this);return a?a:Promise.resolve(this.Rh)};f.Zk&&
(this.Zk=function(){return this.text().then(y)});return this}function t(a,x){x=x||{};var b=x.body;if(t.prototype.isPrototypeOf(a)){if(a.ci)throw new TypeError("Already read");this.url=a.url;this.Mf=a.Mf;x.headers||(this.headers=new m(a.headers));this.method=a.method;this.mode=a.mode;b||(b=a.Qh,a.ci=!0)}else this.url=a;this.Mf=x.Mf||this.Mf||"omit";if(x.headers||!this.headers)this.headers=new m(x.headers);var f=x.method||this.method||"GET",c=f.toUpperCase();this.method=-1<F.indexOf(c)?c:f;this.mode=
x.mode||this.mode||null;this.referrer=null;if(("GET"===this.method||"HEAD"===this.method)&&b)throw new TypeError("Body not allowed for GET or HEAD requests");this.Ym(b)}function y(a){var x=new FormData;a.trim().split("&").forEach(function(a){if(a){var b=a.split("=");a=b.shift().replace(/\+/g," ");b=b.join("=").replace(/\+/g," ");x.append(decodeURIComponent(a),decodeURIComponent(b))}});return x}function w(a){var x=new m;a.getAllResponseHeaders().trim().split("\n").forEach(function(a){var b=a.trim().split(":");
a=b.shift().trim();b=b.join(":").trim();x.append(a,b)});return x}function h(a,x){x||(x={});this.Ym(a);this.type="default";this.status=x.status;this.statusText=x.statusText;this.headers=x.headers instanceof m?x.headers:new m(x.headers);this.url=x.url||""}if(!a.Tk){m.prototype.append=function(a,x){a=q(a);x=k(x);var b=this.map[a];b||(b=[],this.map[a]=b);b.push(x)};m.prototype["delete"]=function(a){delete this.map[q(a)]};m.prototype.get=function(a){return(a=this.map[q(a)])?a[0]:null};m.prototype.has=
function(a){return this.map.hasOwnProperty(q(a))};m.prototype.set=function(a,x){this.map[q(a)]=[k(x)]};m.prototype.forEach=function(a,x){Object.getOwnPropertyNames(this.map).forEach(function(b){this.map[b].forEach(function(f){a.call(x,f,b,this)},this)},this)};var c;if(c="FileReader"in a&&"Blob"in a)try{c=!0}catch(b){c=!1}var f={zg:c,Zk:"FormData"in a,on:"ArrayBuffer"in a},F="DELETE GET HEAD OPTIONS POST PUT".split(" ");t.prototype.clone=function(){return new t(this)};A.call(t.prototype);A.call(h.prototype);
h.prototype.clone=function(){return new h(this.Qh,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})};h.error=function(){var a=new h(null,{status:0,statusText:""});a.type="error";return a};var r=[301,302,303,307,308];h.cD=function(a,x){if(-1===r.indexOf(x))throw new RangeError("Invalid status code");return new h(null,{status:x,headers:{location:a}})};a.mw=m;a.rw=t;a.sw=h;a.Tk=function(a,x){return new Promise(function(b,c){var G;G=t.prototype.isPrototypeOf(a)&&
!x?a:new t(a,x);var D=new XMLHttpRequest;D.onload=function(){var a=1223===D.status?204:D.status;if(100>a||599<a)c(new TypeError("Network request failed"));else{var x=D.statusText,f=w(D),d;d="responseURL"in D?D.hh:/^X-Request-URL:/m.test(D.getAllResponseHeaders())?D.getResponseHeader("X-Request-URL"):void 0;b(new h("response"in D?D.response:D.responseText,{status:a,statusText:x,headers:f,url:d}))}};D.onerror=function(){c(new TypeError("Network request failed"))};D.open(G.method,G.url,!0);"include"===
G.Mf&&(D.withCredentials=!0);"responseType"in D&&f.zg&&(D.responseType="blob");G.headers.forEach(function(a,x){D.setRequestHeader(x,a)}).UF.send("undefined"===typeof G.Qh?null:G.Qh)})};a.Tk.HC=!0}})(self||window||this);var xa={};
(function(a){function q(){this.length=0;this.Ae=[]}q.prototype={contains:function(a){return-1!==this.Ae.indexOf(a)},item:function(a){return this.Ae[a]},indexOf:function(a){return this.Ae.indexOf(a)},push:function(a){this.Ae.push(a);this.length+=1},splice:function(){this.Ae.splice.apply(this.Ae,arguments);this.length=this.Ae.length}};a.v={throwDOMException:function(k,m,e){var v=new DOMException.constructor(0,m);v.name=k;v.message=m;v.stack=arguments.callee.caller;a.ia&&console.log(k,m,e,v);throw v;
},callback:function(a,m,e,v){e.target=m;"function"===typeof m[a]&&m[a].apply(m,[e]);"function"===typeof v&&v()},quote:function(a){return"'"+a+"'"},StringList:q}})(xa);(function(a){a.Af=function(){return{encode:function(a){return JSON.stringify(a)},decode:function(a){return JSON.parse(a)}}}()})(xa);
(function(a){function q(){return{encode:function(a){return k.indexOf(typeof a)+"-"+JSON.stringify(a)},decode:function(a){return"undefined"===typeof a?void 0:JSON.parse(a.substring(2))}}}var k=" number string boolean object undefined".split(" "),m={number:q(),"boolean":q(),object:q(),string:{encode:function(a){return k.indexOf("string")+"-"+a},decode:function(a){return""+a.substring(2)}},undefined:{encode:function(){return k.indexOf("undefined")+"-undefined"},decode:function(){}}};a.Qa=function(){return{Va:function(a){return m[typeof a].Va(a)},
Yd:function(a){return m[k[a.substring(0,1)]].Yd(a)}}}()})(xa);(function(a){a.Event=function(a,k){return{type:a,debug:k,bubbles:!1,cancelable:!1,eventPhase:0,timeStamp:new Date}}})(xa);(function(a){function q(){this.onblocked=this.onupgradeneeded=null}function k(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"}q.prototype=k;a.IDBRequest=k;a.Fm=q})(xa);
(function(a,q){function k(a,e,k,l){this.lower=a;this.upper=e;this.lowerOpen=k;this.upperOpen=l}k.only=function(a){return new k(a,a,!0,!0)};k.lowerBound=function(a,e){return new k(a,q,e,q)};k.upperBound=function(a){return new k(q,a,q,open)};k.bound=function(a,e,v,l){return new k(a,e,v,l)};a.IDBKeyRange=k})(xa);
(function(a,q){function k(m,e,k,l,A,t){this.uc=m;this.source=this.Ba=k;this.Tm=l;this.key=q;this.direction=e;this.Bf=A;this.ok=t;this.source.transaction.ye||a.v.Ga("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.qg=-1;this.nk=q;this["continue"]()}k.prototype.Lh=function(m,e,k,l){var A=this,t=["SELECT * FROM ",a.v.quote(A.Ba.name)],y=[];t.push("WHERE ",A.Bf," NOT NULL");A.uc&&(A.uc.lower||A.uc.upper)&&(t.push("AND"),A.uc.lower&&(t.push(A.Bf+(A.uc.lowerOpen?
" >=":" >")+" ?"),y.push(a.Qa.Va(A.uc.lower))),A.uc.lower&&A.uc.upper&&t.push("AND"),A.uc.upper&&(t.push(A.Bf+(A.uc.upperOpen?" <= ":" < ")+" ?"),y.push(a.Qa.Va(A.uc.upper))));"undefined"!==typeof m&&(A.nk=m,A.qg=0);A.nk!==q&&(t.push("AND "+A.Bf+" >= ?"),y.push(a.Qa.Va(A.nk)));t.push("ORDER BY ",A.Bf);t.push("LIMIT 1 OFFSET "+A.qg);a.ia&&console.log(t.join(" "),y);e.executeSql(t.join(" "),y,function(e,h){if(1===h.rows.length){var c=a.Qa.Yd(h.rows.item(0)[A.Bf]),b="value"===A.ok?a.Af.Yd(h.rows.item(0)[A.ok]):
a.Qa.Yd(h.rows.item(0)[A.ok]);k(c,b)}else a.ia&&console.log("Reached end of cursors"),k(q,q)},function(e,h){a.ia&&console.log("Could not execute Cursor.continue");l(h)})};k.prototype["continue"]=function(a){var e=this;this.Ba.transaction.Bb(function(k,l,A,t){e.qg++;e.Lh(a,k,function(a,l){e.key=a;e.value=l;A("undefined"!==typeof e.key?e:q,e.Tm)},function(a){t(a)})})};k.prototype.advance=function(m){0>=m&&a.v.Ga("Type Error - Count is invalid - 0 or negative",m);var e=this;this.Ba.transaction.Bb(function(a,
l,k,t){e.qg+=m;e.Lh(q,a,function(a,l){e.key=a;e.value=l;k("undefined"!==typeof e.key?e:q,e.Tm)},function(a){t(a)})})};k.prototype.update=function(m){var e=this;return this.Ba.transaction.Bb(function(k,l,A,t){e.Lh(q,k,function(l){var w="UPDATE "+a.v.quote(e.Ba.name)+" SET value = ? WHERE key = ?";a.ia&&console.log(w,m,l);k.executeSql(w,[a.Af.Va(m),a.Qa.Va(l)],function(a,c){1===c.rowsAffected?A(l):t("No rowns with key found"+l)},function(a,c){t(c)})},function(a){t(a)})})};k.prototype["delete"]=function(){var m=
this;return this.Ba.transaction.Bb(function(e,k,l,A){m.Lh(q,e,function(t){var y="DELETE FROM  "+a.v.quote(m.Ba.name)+" WHERE key = ?";a.ia&&console.log(y,t);e.executeSql(y,[a.Qa.Va(t)],function(a,h){1===h.rowsAffected?l(q):A("No rowns with key found"+t)},function(a,h){A(h)})},function(a){A(a)})})};a.IDBCursor=k})(xa);
(function(a,q){function k(a,e){this.Ri=a;this.Ba=this.source=e}k.prototype.Rq=function(m,e,k){var l=this,q=l.Ba.transaction;q.Bb(function(t,y,w){l.Ba.Rm(t,function(){function h(){a.v.Ga(0,"Could not create new index",arguments)}2!==q.mode&&a.v.Ga(0,"Invalid State error, not a version transaction",l.transaction);var c=JSON.parse(l.Ba.Sc.Qi);"undefined"!==typeof c[m]&&a.v.Ga(0,"Index already exists on store",c);c[m]={columnName:m,keyPath:e,optionalParams:k};l.Ba.Sc.Qi=JSON.stringify(c);c=["ALTER TABLE",
a.v.quote(l.Ba.name),"ADD",m,"BLOB"].join(" ");a.ia&&console.log(c);t.executeSql(c,[],function(b){b.executeSql("SELECT * FROM "+a.v.quote(l.Ba.name),[],function(b,c){(function d(x){if(x<c.rows.length)try{a.Af.Yd(c.rows.item(x).value);var y=eval("value['"+e+"']");b.executeSql("UPDATE "+a.v.quote(l.Ba.name)+" set "+m+" = ? where key = ?",[a.Qa.Va(y),c.rows.item(x).key],function(){d(x+1)},h)}catch(J){d(x+1)}else a.ia&&console.log("Updating the indexes in table",l.Ba.Sc),b.executeSql("UPDATE __sys__ set indexList = ? where name = ?",
[l.Ba.Sc.Qi,l.Ba.name],function(){l.Ba.Nh("createIndex",!0);w(l)},h)})(0)},h)},h)},"createObjectStore")})};k.prototype.openCursor=function(m,e){var k=new a.IDBRequest;new a.IDBCursor(m,e,this.source,k,this.Ri,"value");return k};k.prototype.openKeyCursor=function(k,e){var v=new a.IDBRequest;new a.IDBCursor(k,e,this.source,v,this.Ri,"key");return v};k.prototype.mk=function(k,e){var v=this;return v.Ba.transaction.Bb(function(l,A,t,y){A=["SELECT * FROM ",a.v.quote(v.Ba.name)," WHERE",v.Ri,"NOT NULL"];
var w=[];"undefined"!==typeof k&&(A.push("AND",v.Ri," = ?"),w.push(a.Qa.Va(k)));a.ia&&console.log("Trying to fetch data for Index",A.join(" "),w);l.executeSql(A.join(" "),w,function(h,c){var b;b="count"===typeof e?c.rows.length:0===c.rows.length?q:"key"===e?a.Qa.Yd(c.rows.item(0).key):a.Af.Yd(c.rows.item(0).value);t(b)},y)})};k.prototype.get=function(a){return this.mk(a,"value")};k.prototype.getKey=function(a){return this.mk(a,"key")};k.prototype.count=function(a){return this.mk(a,"count")};a.IDBIndex=
k})(xa);
(function(a){function q(k,m,e){this.name=k;this.transaction=m;this.rg={};this.Nh("createObjectStore","undefined"===typeof e?!0:e);this.indexNames=new a.v.Lq}q.prototype.Nh=function(a,m){this.rg[a]=m};q.prototype.ze=function(k,m){var e=!0;if("undefined"!==typeof m)e="undefined"===typeof this.rg[m]?!0:this.rg[m];else for(var v in this.rg)this.rg[v]||(e=!1);if(e)k();else{a.ia&&console.log("Waiting for to be ready",m);var l=this;window.setTimeout(function(){l.ze(k,m)},100)}};q.prototype.Rm=function(k,m,
e){var v=this;this.ze(function(){v.Sc?(a.ia&&console.log("Store properties - cached",v.Sc),m(v.Sc)):k.executeSql("SELECT * FROM __sys__ where name = ?",[v.name],function(e,k){1!==k.rows.length?m():(v.Sc={name:k.rows.item(0).name,indexList:k.rows.item(0).Qi,autoInc:k.rows.item(0).rn,keyPath:k.rows.item(0).keyPath},a.ia&&console.log("Store properties",v.Sc),m(v.Sc))},function(){m()})},e)};q.prototype.Qm=function(k,m,e,v){function l(){k.executeSql("SELECT * FROM sqlite_sequence where name like ?",[q.name],
function(a,e){1!==e.rows.length?v(0):v(e.rows.item(0).RD)},function(e,l){a.v.Ga(0,"Data Error - Could not get the auto increment value for key",l)})}var q=this;q.Rm(k,function(k){k||a.v.Ga(0,"Data Error - Could not locate defination for this table",k);if(k.keyPath)if("undefined"!==typeof e&&a.v.Ga(0,"Data Error - The object store uses in-line keys and the key parameter was provided",k),m)try{var y=eval("value['"+k.keyPath+"']");y?v(y):"true"===k.rn?l():a.v.Ga(0,"Data Error - Could not eval key from keyPath")}catch(w){a.v.Ga(0,
"Data Error - Could not eval key from keyPath",w)}else a.v.Ga(0,"Data Error - KeyPath was specified, but value was not");else"undefined"!==typeof e?v(e):"false"===k.rn?a.v.Ga(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",k):l()})};q.prototype.Sm=function(k,m,e,v,l){var q={};"undefined"!==typeof e&&(q.key=a.Qa.Va(e));var t=JSON.parse(this.Sc.Qi),y;for(y in t)try{q[t[y].Vx]=a.Qa.Va(eval("value['"+t[y].keyPath+"']"))}catch(w){l(w)}var h=
["INSERT INTO ",a.v.quote(this.name),"("],c=[" VALUES ("],t=[];for(y in q)h.push(y+","),c.push("?,"),t.push(q[y]);h.push("value )");c.push("?)");t.push(a.Af.Va(m));m=h.join(" ")+c.join(" ");a.ia&&console.log("SQL for adding",m,t);k.executeSql(m,t,function(){v(e)},function(a,c){l(c)})};q.prototype.add=function(a,m){var e=this;return e.transaction.Bb(function(v,l,q,t){e.Qm(v,a,m,function(l){e.Sm(v,a,l,q,t)})})};q.prototype.put=function(k,m){var e=this;return e.transaction.Bb(function(v,l,q,t){e.Qm(v,
k,m,function(l){v.executeSql("DELETE FROM "+a.v.quote(e.name)+" where key = ?",[a.Qa.Va(l)],function(w,h){a.ia&&console.log("Did the row with the",l,"exist? ",h.rowsAffected);e.Sm(w,k,l,q,t)},function(a,h){t(h)})})})};q.prototype.get=function(k){var m=this;return m.transaction.Bb(function(e,v,l,q){m.ze(function(){var t=a.Qa.Va(k);a.ia&&console.log("Fetching",m.name,t);e.executeSql("SELECT * FROM "+a.v.quote(m.name)+" where key = ?",[t],function(e,w){a.ia&&console.log("Fetched data",w);try{if(0===
w.rows.length)return l();l(a.Af.Yd(w.rows.item(0).value))}catch(h){a.ia&&console.log(h),l(void 0)}},function(a,l){q(l)})})})};q.prototype["delete"]=function(k){var m=this;return m.transaction.Bb(function(e,v,l,q){m.ze(function(){var t=a.Qa.Va(k);a.ia&&console.log("Fetching",m.name,t);e.executeSql("DELETE FROM "+a.v.quote(m.name)+" where key = ?",[t],function(e,w){a.ia&&console.log("Deleted from database",w.rowsAffected);l()},function(a,l){q(l)})})})};q.prototype.clear=function(){var k=this;return k.transaction.Bb(function(m,
e,v,l){k.ze(function(){m.executeSql("DELETE FROM "+a.v.quote(k.name),[],function(l,e){a.ia&&console.log("Cleared all records from database",e.rowsAffected);v()},function(a,e){l(e)})})})};q.prototype.count=function(k){var m=this;return m.transaction.Bb(function(e,v,l,q){m.ze(function(){var t="SELECT * FROM "+a.v.quote(m.name)+("undefined"!==typeof k?" WHERE key = ?":""),y=[];"undefined"!==typeof k&&y.push(a.Qa.Va(k));e.executeSql(t,y,function(a,h){l(h.rows.length)},function(a,h){q(h)})})})};q.prototype.openCursor=
function(k,m){var e=new a.IDBRequest;new a.IDBCursor(k,m,this,e,"key","value");return e};q.prototype.index=function(k){return new a.IDBIndex(k,this)};q.prototype.createIndex=function(k,m,e){e=e||{};this.Nh("createIndex",!1);var q=new a.IDBIndex(k,this);this.ze(function(){q.Rq(k,m,e)},"createObjectStore");this.indexNames.push(k);return q};q.prototype.deleteIndex=function(k){var m=new a.IDBIndex(k,this,!1);m.xw(k);return m};a.IDBObjectStore=q})(xa);
(function(a){function q(k,m,e){if("number"===typeof m)this.mode=m,2!==m&&a.ia&&console.log("Mode should be a string, but was specified as ",m);else if("string"===typeof m)switch(m){case "readonly":this.mode=1;break;case "readwrite":this.mode=0;break;default:this.mode=0}this.km="string"===typeof k?[k]:k;for(k=0;k<this.km.length;k++)e.objectStoreNames.contains(this.km[k])||a.v.Ga(0,"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",
this.km[k]);this.ye=!0;this.Um=!1;this.Mh=[];this.db=e;this.onabort=this.onerror=this.oncomplete=this.error=null}q.prototype.Sq=function(){if(this.Um&&2!==this.mode)a.ia&&console.log("Looks like the request set is already running",this.mode);else{this.Um=!0;var k=this;window.setTimeout(function(){2===k.mode||k.ye||a.v.Ga(0,"A request was placed against a transaction which is currently not active, or which is finished",k.ye);k.db.Pm.transaction(function(m){function e(e,h){h&&(l.kf=h);l.kf.readyState=
"done";l.kf.result=e;delete l.kf.error;var c=a.Event("success");a.v.Vd("onsuccess",l.kf,c);A++;t()}function q(e){l.kf.readyState="done";l.kf.error="DOMError";var h=a.Event("error",arguments);a.v.Vd("onerror",l.kf,h);A++;t()}k.zw=m;var l=null,A=0;try{var t=function(){A>=k.Mh.length?(k.ye=!1,k.Mh=[]):(l=k.Mh[A],l.tC(m,l.dx,e,q))};t()}catch(y){a.ia&&console.log("An exception occured in transaction",arguments),"function"===typeof k.onerror&&k.onerror()}},function(){a.ia&&console.log("An error in transaction",
arguments);"function"===typeof k.onerror&&k.onerror()},function(){a.ia&&console.log("Transaction completed",arguments);"function"===typeof k.oncomplete&&k.oncomplete()})},1)}};q.prototype.Bb=function(k){this.ye||2===this.mode||a.v.Ga(0,"A request was placed against a transaction which is currently not active, or which is finished.",this.yw);var m=new a.IDBRequest;m.source=this.db;this.Mh.push({op:k,args:void 0,req:m});this.Sq();return m};q.prototype.objectStore=function(k){return new a.IDBObjectStore(k,
this)};q.prototype.abort=function(){!this.ye&&a.v.Ga(0,"A request was placed against a transaction which is currently not active, or which is finished",this.ye)};q.prototype.READ_ONLY=0;q.prototype.READ_WRITE=1;q.prototype.VERSION_CHANGE=2;a.IDBTransaction=q})(xa);
(function(a){function q(k,m,e,q){this.Pm=k;this.version=e;this.objectStoreNames=new a.v.Lq;for(k=0;k<q.rows.length;k++)this.objectStoreNames.push(q.rows.item(k).name);this.name=m;this.onabort=this.onerror=this.onversionchange=null}q.prototype.createObjectStore=function(k,m){var e=this;m=m||{};m.keyPath=m.keyPath||null;var q=new a.IDBObjectStore(k,e.sg,!1);e.sg.Bb(function(l,A,t){function y(){a.v.Ga(0,"Could not create new object store",arguments)}e.sg||a.v.Ga(0,"Invalid State error",e.transaction);
A=["CREATE TABLE",a.v.quote(k),"(key BLOB",m.autoIncrement?", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");a.ia&&console.log(A);l.executeSql(A,[],function(a){a.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[k,m.keyPath,m.autoIncrement?!0:!1,"{}"],function(){q.Nh("createObjectStore",!0);t(q)},y)},y)});e.objectStoreNames.push(k);return q};q.prototype.deleteObjectStore=function(k){function m(){a.v.Ga(0,"Could not delete ObjectStore",arguments)}var e=this;!e.objectStoreNames.contains(k)&&
m("Object Store does not exist");e.objectStoreNames.splice(e.objectStoreNames.indexOf(k),1);e.sg.Bb(function(){e.sg||a.v.Ga(0,"Invalid State error",e.transaction);e.Pm.transaction(function(e){e.executeSql("SELECT * FROM __sys__ where name = ?",[k],function(e,q){0<q.rows.length&&e.executeSql("DROP TABLE "+a.v.quote(k),[],function(){e.executeSql("DELETE FROM __sys__ WHERE name = ?",[k],function(){},m)},m)})})})};q.prototype.close=function(){};q.prototype.transaction=function(k,m){return new a.IDBTransaction(k,
m||1,this)};a.IDBDatabase=q})(xa);
(function(a){if(window.openDatabase){var q=window.openDatabase("__sysdb__",1,"System Database",4194304);q.transaction(function(k){k.executeSql("SELECT * FROM dbVersions",[],function(){},function(){q.transaction(function(k){k.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){a.v.Ga("Could not create table __sysdb__ to save DB versions")})})})},function(){a.ia&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});
a.ke={open:function(k,m){function e(){if(!A){var e=a.Event("error",arguments);l.readyState="done";l.error="DOMError";a.v.Vd("onerror",l,e);A=!0}}function v(t){var y=window.openDatabase(k,1,k,4194304);l.readyState="done";"undefined"===typeof m&&(m=t||1);(0>=m||t>m)&&a.v.Ga(0,"An attempt was made to open a database using a lower version than the existing version.",m);y.transaction(function(w){w.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",
[],function(){w.executeSql("SELECT * FROM __sys__",[],function(h,c){var b=a.Event("success");l.source=l.result=new a.IDBDatabase(y,k,m,c);t<m?q.transaction(function(b){b.executeSql("UPDATE dbVersions set version = ? where name = ?",[m,k],function(){var b=a.Event("upgradeneeded");b.oldVersion=t;b.newVersion=m;l.transaction=l.result.sg=new a.IDBTransaction([],2,l.source);a.v.Vd("onupgradeneeded",l,b,function(){var b=a.Event("success");a.v.Vd("onsuccess",l,b)})},e)},e):a.v.Vd("onsuccess",l,b)},e)},e)},
e)}var l=new a.Fm,A=!1;q.transaction(function(a){a.executeSql("SELECT * FROM dbVersions where name = ?",[k],function(a,l){0===l.rows.length?a.executeSql("INSERT INTO dbVersions VALUES (?,?)",[k,m||1],function(){v(0)},e):v(l.rows.item(0).version)},e)},e);return l},deleteDatabase:function(k){function m(e){if(!l){v.readyState="done";v.error="DOMError";var y=a.Event("error");y.message=e;y.debug=arguments;a.v.Vd("onerror",v,y);l=!0}}function e(){q.transaction(function(e){e.executeSql("DELETE FROM dbVersions where name = ? ",
[k],function(){v.result=void 0;var e=a.Event("success");e.newVersion=null;e.oldVersion=A;a.v.Vd("onsuccess",v,e)},m)},m)}var v=new a.Fm,l=!1,A=null;q.transaction(function(l){l.executeSql("SELECT * FROM dbVersions where name = ?",[k],function(l,w){if(0===w.rows.length){v.result=void 0;var h=a.Event("success");h.newVersion=null;h.oldVersion=A;a.v.Vd("onsuccess",v,h)}else A=w.rows.item(0).version,window.openDatabase(k,1,k,4194304).transaction(function(c){c.executeSql("SELECT * FROM __sys__",[],function(b,
c){var h=c.rows;(function d(x){x>=h.length?b.executeSql("DROP TABLE __sys__",[],function(){e()},m):b.executeSql("DROP TABLE "+a.v.quote(h.item(x).name),[],function(){d(x+1)},function(){d(x+1)})})(0)},function(){e()})},m)})},m);return v},cmp:function(k,m){return a.Qa.Va(k)>a.Qa.Va(m)?1:k===m?0:-1}}}})(xa);
(function(a,q){"undefined"!==typeof a.openDatabase&&(a.ke=q.ke,a.ke&&(a.ke.Tq=function(){a.indexedDB=q.ke;a.IDBDatabase=q.IDBDatabase;a.IDBTransaction=q.IDBTransaction;a.IDBCursor=q.IDBCursor;a.IDBKeyRange=q.IDBKeyRange},a.ke.ww=function(a){q.ia=a}));a.indexedDB=a.indexedDB||a.webkitIndexedDB||a.mozIndexedDB||a.kC||a.msIndexedDB;"undefined"===typeof a.indexedDB&&"undefined"!==typeof a.openDatabase?a.ke.Tq():(a.IDBDatabase=a.IDBDatabase||a.NF,a.IDBTransaction=a.IDBTransaction||a.webkitIDBTransaction,
a.IDBCursor=a.IDBCursor||a.webkitIDBCursor,a.IDBKeyRange=a.IDBKeyRange||a.webkitIDBKeyRange,a.IDBTransaction.READ_ONLY=a.IDBTransaction.READ_ONLY||"readonly",a.IDBTransaction.READ_WRITE=a.IDBTransaction.READ_WRITE||"readwrite")})(window,xa);g.ur={AElig:"\u00c6",Aacgr:"\u0386",Aacute:"\u00c1",Abreve:"\u0102",Acirc:"\u00c2",Acy:"\u0410",Agr:"\u0391",Agrave:"\u00c0",Alpha:"\u0391",Amacr:"\u0100",Aogon:"\u0104",Aring:"\u00c5",Atilde:"\u00c3",Auml:"\u00c4",Barwed:"\u2306",Bcy:"\u0411",Beta:"\u0392",Bgr:"\u0392",CHcy:"\u0427",Cacute:"\u0106",Cap:"\u22d2",Ccaron:"\u010c",Ccedil:"\u00c7",Ccirc:"\u0108",Cdot:"\u010a",Chi:"\u03a7",Cup:"\u22d3",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040f",Dagger:"\u2021",Dcaron:"\u010e",Dcy:"\u0414",Delta:"\u0394",
Dgr:"\u0394",Dot:"\u00a8",DotDot:"\u20dc",Dstrok:"\u0110",EEacgr:"\u0389",EEgr:"\u0397",ENG:"\u014a",ETH:"\u00d0",Eacgr:"\u0388",Eacute:"\u00c9",Ecaron:"\u011a",Ecirc:"\u00ca",Ecy:"\u042d",Edot:"\u0116",Egr:"\u0395",Egrave:"\u00c8",Emacr:"\u0112",Eogon:"\u0118",Epsilon:"\u0395",Eta:"\u0397",Euml:"\u00cb",Fcy:"\u0424",GJcy:"\u0403",Gamma:"\u0393",Gbreve:"\u011e",Gcedil:"\u0122",Gcirc:"\u011c",Gcy:"\u0413",Gdot:"\u0120",Gg:"\u22d9",Ggr:"\u0393",Gt:"\u226b",HARDcy:"\u042a",Hcirc:"\u0124",Hstrok:"\u0126",
IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacgr:"\u038a",Iacute:"\u00cd",Icirc:"\u00ce",Icy:"\u0418",Idigr:"\u03aa",Idot:"\u0130",Igr:"\u0399",Igrave:"\u00cc",Imacr:"\u012a",Iogon:"\u012e",Iota:"\u0399",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\u00cf",Jcirc:"\u0134",Jcy:"\u0419",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KHgr:"\u03a7",KJcy:"\u040c",Kappa:"\u039a",Kcedil:"\u0136",Kcy:"\u041a",Kgr:"\u039a",LJcy:"\u0409",Lacute:"\u0139",Lambda:"\u039b",Larr:"\u219e",Lcaron:"\u013d",Lcedil:"\u013b",Lcy:"\u041b",
Lgr:"\u039b",Ll:"\u22d8",Lmidot:"\u013f",Lstrok:"\u0141",Lt:"\u226a",Mcy:"\u041c",Mgr:"\u039c",Mu:"\u039c",NJcy:"\u040a",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041d",Ngr:"\u039d",Ntilde:"\u00d1",Nu:"\u039d",OElig:"\u0152",OHacgr:"\u038f",OHgr:"\u03a9",Oacgr:"\u038c",Oacute:"\u00d3",Ocirc:"\u00d4",Ocy:"\u041e",Odblac:"\u0150",Ogr:"\u039f",Ograve:"\u00d2",Omacr:"\u014c",Omega:"\u03a9",Omicron:"\u039f",Oslash:"\u00d8",Otilde:"\u00d5",Ouml:"\u00d6",PHgr:"\u03a6",PSgr:"\u03a8",Pcy:"\u041f",
Pgr:"\u03a0",Phi:"\u03a6",Pi:"\u03a0",Prime:"\u2033",Psi:"\u03a8",Racute:"\u0154",Rarr:"\u21a0",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Rgr:"\u03a1",Rho:"\u03a1",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042c",Sacute:"\u015a",Scaron:"\u0160",Scedil:"\u015e",Scirc:"\u015c",Scy:"\u0421",Sgr:"\u03a3",Sigma:"\u03a3",Sub:"\u22d0",Sup:"\u22d1",THORN:"\u00de",THgr:"\u0398",TSHcy:"\u040b",TScy:"\u0426",Tau:"\u03a4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tgr:"\u03a4",Theta:"\u0398",Tstrok:"\u0166",
Uacgr:"\u038e",Uacute:"\u00da",Ubrcy:"\u040e",Ubreve:"\u016c",Ucirc:"\u00db",Ucy:"\u0423",Udblac:"\u0170",Ugr:"\u03a5",Ugrave:"\u00d9",Umacr:"\u016a",Uogon:"\u0172",Upsi:"\u03a5",Upsilon:"\u03a5",Uring:"\u016e",Utilde:"\u0168",Uuml:"\u00dc",Vcy:"\u0412",Vdash:"\u22a9",Verbar:"\u2016",Vvdash:"\u22aa",Wcirc:"\u0174",Xgr:"\u039e",Xi:"\u039e",YAcy:"\u042f",YIcy:"\u0407",YUcy:"\u042e",Yacute:"\u00dd",Ycirc:"\u0176",Ycy:"\u042b",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017d",Zcy:"\u0417",Zdot:"\u017b",
Zeta:"\u0396",Zgr:"\u0396",aacgr:"\u03ac",aacute:"\u00e1",abreve:"\u0103",acirc:"\u00e2",acute:"\u00b4",acy:"\u0430",aelig:"\u00e6",agr:"\u03b1",agrave:"\u00e0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03b1",amacr:"\u0101",amalg:"\u2210",amp:"&",and:"\u2227",ang:"\u2220",ang90:"\u221f",angmsd:"\u2221",angsph:"\u2222",angst:"\u212b",aogon:"\u0105",ap:"\u2248",ape:"\u224a",apos:"'",aposmod:"\u02bc",aring:"\u00e5",ast:"*",asymp:"\u2248",atilde:"\u00e3",auml:"\u00e4","b.Delta":"\u0394","b.Gamma":"\u0393",
"b.Lambda":"\u039b","b.Omega":"\u03a9","b.Phi":"\u03a6","b.Pi":"\u03a0","b.Psi":"\u03a8","b.Sigma":"\u03a3","b.Theta":"\u0398","b.Upsi":"\u03a5","b.Xi":"\u039e","b.alpha":"\u03b1","b.beta":"\u03b2","b.chi":"\u03c7","b.delta":"\u03b4","b.epsi":"\u03b5","b.epsis":"\u03b5","b.epsiv":"\u03b5","b.eta":"\u03b7","b.gamma":"\u03b3","b.gammad":"\u03dc","b.iota":"\u03b9","b.kappa":"\u03ba","b.kappav":"\u03f0","b.lambda":"\u03bb","b.mu":"\u03bc","b.nu":"\u03bd","b.omega":"\u03ce","b.phis":"\u03c6","b.phiv":"\u03d5",
"b.pi":"\u03c0","b.piv":"\u03d6","b.psi":"\u03c8","b.rho":"\u03c1","b.rhov":"\u03f1","b.sigma":"\u03c3","b.sigmav":"\u03c2","b.tau":"\u03c4","b.thetas":"\u03b8","b.thetav":"\u03d1","b.upsi":"\u03c5","b.xi":"\u03be","b.zeta":"\u03b6",barwed:"\u22bc",bcong:"\u224c",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",bepsi:"\u220d",bernou:"\u212c",beta:"\u03b2",beth:"\u2136",bgr:"\u03b2",blackstar:"\u2726",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bottom:"\u22a5",bowtie:"\u22c8",
boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255d",boxUR:"\u255a",boxUl:"\u255c",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256c",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256b",boxVl:"\u2562",boxVr:"\u255f",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250c",boxh:"\u2500",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252c",boxhu:"\u2534",boxuL:"\u255b",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",
boxvH:"\u256a",boxvL:"\u2561",boxvR:"\u255e",boxvh:"\u253c",boxvl:"\u2524",boxvr:"\u251c",bprime:"\u2035",breve:"\u02d8",brvbar:"\u00a6",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bull:"\u2022",bump:"\u224e",bumpe:"\u224f",cacute:"\u0107",cap:"\u2229",caret:"\u2041",caron:"\u02c7",ccaron:"\u010d",ccedil:"\u00e7",ccirc:"\u0109",cdot:"\u010b",cedil:"\u00b8",cent:"\u00a2",chcy:"\u0447",check:"\u2713",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",cire:"\u2257",clubs:"\u2663",colon:":",colone:"\u2254",comma:",",
commat:"@",comp:"\u2201",compfn:"\u2218",cong:"\u2245",conint:"\u222e",coprod:"\u2210",copy:"\u00a9",copysr:"\u2117",crarr:"\u21b5",cross:"\u2717",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cup:"\u222a",cupre:"\u227c",curarr:"\u21b7",curren:"\u00a4",cuvee:"\u22ce",cuwed:"\u22cf",dArr:"\u21d3",dagger:"\u2020",daleth:"\u2138",darr:"\u2193",darr2:"\u21ca",dash:"\u2010",dashv:"\u22a3",dblac:"\u02dd",dcaron:"\u010f",dcy:"\u0434",deg:"\u00b0",delta:"\u03b4",dgr:"\u03b4",dharl:"\u21c3",dharr:"\u21c2",
diam:"\u22c4",diams:"\u2666",die:"\u00a8",divide:"\u00f7",divonx:"\u22c7",djcy:"\u0452",dlarr:"\u2199",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",dot:"\u02d9",drarr:"\u2198",drcorn:"\u231f",drcrop:"\u230c",dscy:"\u0455",dstrok:"\u0111",dtri:"\u25bf",dtrif:"\u25be",dzcy:"\u045f",eDot:"\u2251",eacgr:"\u03ad",eacute:"\u00e9",ecaron:"\u011b",ecir:"\u2256",ecirc:"\u00ea",ecolon:"\u2255",ecy:"\u044d",edot:"\u0117",eeacgr:"\u03ae",eegr:"\u03b7",efDot:"\u2252",egr:"\u03b5",egrave:"\u00e8",egs:"\u22dd",ell:"\u2113",
els:"\u22dc",emacr:"\u0113",empty:"\u2205",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",eng:"\u014b",ensp:"\u2002",eogon:"\u0119",epsi:"\u03b5",epsilon:"\u03b5",epsis:"\u220a",epsiv:"\u03bf",equals:"=",equiv:"\u2261",erDot:"\u2253",esdot:"\u2250",eta:"\u03b7",eth:"\u00f0",euml:"\u00eb",euro:"\u20ac",excl:"!",exist:"\u2203",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",filig:"\ufb01",flat:"\u266d",fllig:"\ufb02",fnof:"\u0192",forall:"\u2200",fork:"\u22d4",frac12:"\u00bd",
frac13:"\u2153",frac14:"\u00bc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\u00be",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",gE:"\u2267",gEl:"\u2a8c",gacute:"\u01f5",gamma:"\u03b3",gammad:"\u03dc",gap:"\u2a86",gbreve:"\u011f",gcedil:"\u0123",gcirc:"\u011d",gcy:"\u0433",gdot:"\u0121",ge:"\u2265",gel:"\u22db",ges:"\u2265",ggr:"\u03b3",gimel:"\u2137",gjcy:"\u0453",gl:"\u2277",
gnE:"\u2269",gnap:"\u2a8a",gne:"\u2269",gnsim:"\u22e7",grave:"`",gsdot:"\u22d7",gsim:"\u2273",gt:">",gvnE:"\u2269",hArr:"\u21d4",hairsp:"\u200a",half:"\u00bd",hamilt:"\u210b",hardcy:"\u044a",harr:"\u2194",harrw:"\u21ad",hcirc:"\u0125",hearts:"\u2665",hellip:"\u2026",horbar:"\u2015",hstrok:"\u0127",hybull:"\u2043",hyphen:"-",iacgr:"\u03af",iacute:"\u00ed",icirc:"\u00ee",icy:"\u0438",idiagr:"\u0390",idigr:"\u03ca",iecy:"\u0435",iexcl:"\u00a1",iff:"\u21d4",igr:"\u03b9",igrave:"\u00ec",ijlig:"\u0133",
imacr:"\u012b",image:"\u2111",incare:"\u2105",infin:"\u221e",inodot:"\u0131","int":"\u222b",intcal:"\u22ba",iocy:"\u0451",iogon:"\u012f",iota:"\u03b9",iquest:"\u00bf",isin:"\u2208",itilde:"\u0129",iukcy:"\u0456",iuml:"\u00ef",jcirc:"\u0135",jcy:"\u0439",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03ba",kappav:"\u03f0",kcedil:"\u0137",kcy:"\u043a",kgr:"\u03ba",kgreen:"\u0138",khcy:"\u0445",khgr:"\u03c7",kjcy:"\u045c",lAarr:"\u21da",lArr:"\u21d0",lE:"\u2266",lEg:"\u2a8b",lacute:"\u013a",lagran:"\u2112",
lambda:"\u03bb",lang:"\u2329",lap:"\u2a85",laquo:"\u00ab",larr:"\u2190",larr2:"\u21c7",larrhk:"\u21a9",larrlp:"\u21ab",larrtl:"\u21a2",lcaron:"\u013e",lcedil:"\u013c",lceil:"\u2308",lcub:"{",lcy:"\u043b",ldot:"\u22d6",ldquo:"\u201c",ldquor:"\u201e",le:"\u2264",leg:"\u22da",les:"\u2264",lfloor:"\u230a",lg:"\u2276",lgr:"\u03bb",lhard:"\u21bd",lharu:"\u21bc",lhblk:"\u2584",ljcy:"\u0459",lmidot:"\u0140",lnE:"\u2268",lnap:"\u2a89",lne:"\u2268",lnsim:"\u22e6",lowast:"\u2217",lowbar:"_",loz:"\u25ca",lozf:"\u2726",
lpar:"(",lrarr2:"\u21c6",lrhar2:"\u21cb",lrm:"\u200e",lsaquo:"\u2039",lsh:"\u21b0",lsim:"\u2272",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",lstrok:"\u0142",lt:"<",lthree:"\u22cb",ltimes:"\u22c9",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",lvnE:"\u2268",macr:"\u00af",male:"\u2642",malt:"\u2720",map:"\u21a6",marker:"\u25ae",mcy:"\u043c",mdash:"\u2014",mgr:"\u03bc",micro:"\u00b5",mid:"\u2223",middot:"\u00b7",minus:"\u2212",minusb:"\u229f",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",mu:"\u03bc",mumap:"\u22b8",
nVDash:"\u22af",nVdash:"\u22ae",nabla:"\u2207",nacute:"\u0144",nap:"\u2249",napos:"\u0149",natur:"\u266e",nbsp:"\u00a0",ncaron:"\u0148",ncedil:"\u0146",ncong:"\u2247",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearr:"\u2197",nequiv:"\u2262",nexist:"\u2204",nge:"\u2271",nges:"\u2271",ngr:"\u03bd",ngt:"\u226f",nhArr:"\u21ce",nharr:"\u21ae",ni:"\u220b",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nle:"\u2270",nles:"\u2270",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nmid:"\u2224",not:"\u00ac",
notin:"\u2209",npar:"\u2226",npr:"\u2280",npre:"\u22e0",nrArr:"\u21cf",nrarr:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsce:"\u22e1",nsim:"\u2241",nsime:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsub:"\u2284",nsubE:"\u2288",nsube:"\u2288",nsup:"\u2285",nsupE:"\u2289",nsupe:"\u2289",ntilde:"\u00f1",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22ad",nvdash:"\u22ac",oS:"\u24c8",oacgr:"\u03cc",oacute:"\u00f3",oast:"\u229b",ocir:"\u229a",ocirc:"\u00f4",ocy:"\u043e",odash:"\u229d",
odblac:"\u0151",odot:"\u2299",oelig:"\u0153",ogon:"\u02db",ogr:"\u03bf",ograve:"\u00f2",ohacgr:"\u03ce",ohgr:"\u03c9",ohm:"\u2126",olarr:"\u21ba",oline:"\u203e",omacr:"\u014d",omega:"\u03c9",omicron:"\u03bf",ominus:"\u2296",oplus:"\u2295",or:"\u2228",orarr:"\u21bb",order:"\u2134",ordf:"\u00aa",ordm:"\u00ba",oslash:"\u00f8",osol:"\u2298",otilde:"\u00f5",otimes:"\u2297",ouml:"\u00f6",par:"\u2225",para:"\u00b6",part:"\u2202",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pgr:"\u03c0",
phgr:"\u03c6",phi:"\u03c6",phis:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",pi:"\u03c0",piv:"\u03d6",planck:"\u210f",plus:"+",plusb:"\u229e",plusdo:"\u2214",plusmn:"\u00b1",pound:"\u00a3",pr:"\u227a",prap:"\u2ab7",pre:"\u227c",prime:"\u2032",prnE:"\u2ab5",prnap:"\u2ab9",prnsim:"\u22e8",prod:"\u220f",prop:"\u221d",prsim:"\u227e",psgr:"\u03c8",psi:"\u03c8",puncsp:"\u2008",quest:"?",quot:'"',rAarr:"\u21db",rArr:"\u21d2",racute:"\u0155",radic:"\u221a",rang:"\u232a",raquo:"\u00bb",rarr:"\u2192",
rarr2:"\u21c9",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrtl:"\u21a3",rarrw:"\u219d",rcaron:"\u0159",rcedil:"\u0157",rceil:"\u2309",rcub:"}",rcy:"\u0440",rdquo:"\u201d",rdquor:"\u201c",real:"\u211c",rect:"\u25ad",reg:"\u00ae",rfloor:"\u230b",rgr:"\u03c1",rhard:"\u21c1",rharu:"\u21c0",rho:"\u03c1",rhov:"\u03f1",ring:"\u02da",rlarr2:"\u21c4",rlhar2:"\u21cc",rlm:"\u200f",rpar:")",rpargt:"\u2994",rsaquo:"\u203a",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2018",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",
rtrie:"\u22b5",rtrif:"\u25b8",rx:"\u211e",sacute:"\u015b",samalg:"\u2210",sbquo:"\u201a",sbsol:"\\",sc:"\u227b",scap:"\u2ab8",scaron:"\u0161",sccue:"\u227d",sce:"\u227d",scedil:"\u015f",scirc:"\u015d",scnE:"\u2ab6",scnap:"\u2aba",scnsim:"\u22e9",scsim:"\u227f",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sect:"\u00a7",semi:";",setmn:"\u2216",sext:"\u2736",sfgr:"\u03c2",sfrown:"\u2322",sgr:"\u03c3",sharp:"\u266f",shchcy:"\u0449",shcy:"\u0448",shy:"\u00ad",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",
sim:"\u223c",sime:"\u2243",smid:"\u2223",smile:"\u2323",softcy:"\u044c",sol:"/",spades:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcup:"\u2294",sqsub:"\u228f",sqsube:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",squ:"\u25a1",square:"\u25a1",squf:"\u25aa",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",star:"\u2606",starf:"\u2605",sub:"\u2282",subE:"\u2286",sube:"\u2286",subnE:"\u228a",subne:"\u228a",sum:"\u2211",sung:"\u266a",sup:"\u2283",sup1:"\u00b9",sup2:"\u00b2",sup3:"\u00b3",supE:"\u2287",supe:"\u2287",
supnE:"\u228b",supne:"\u228b",szlig:"\u00df",target:"\u2316",tau:"\u03c4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",tgr:"\u03c4",there4:"\u2234",theta:"\u03b8",thetas:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thgr:"\u03b8",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",thorn:"\u00fe",tilde:"\u02dc",times:"\u00d7",timesb:"\u22a0",top:"\u22a4",tprime:"\u2034",trade:"\u2122",trie:"\u225c",tscy:"\u0446",tshcy:"\u045b",tstrok:"\u0167",twixt:"\u226c",uArr:"\u21d1",uacgr:"\u03cd",
uacute:"\u00fa",uarr:"\u2191",uarr2:"\u21c8",ubrcy:"\u045e",ubreve:"\u016d",ucirc:"\u00fb",ucy:"\u0443",udblac:"\u0171",udiagr:"\u03b0",udigr:"\u03cb",ugr:"\u03c5",ugrave:"\u00f9",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcrop:"\u230f",umacr:"\u016b",uml:"\u00a8",uogon:"\u0173",uplus:"\u228e",upsi:"\u03c5",upsih:"\u03d2",upsilon:"\u03c5",urcorn:"\u231d",urcrop:"\u230e",uring:"\u016f",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuml:"\u00fc",vArr:"\u21d5",vDash:"\u22a8",varr:"\u2195",
vcy:"\u0432",vdash:"\u22a2",veebar:"\u22bb",vellip:"\u22ee",verbar:"|",vltri:"\u22b2",vprime:"\u2032",vprop:"\u221d",vrtri:"\u22b3",vsubnE:"\u228a",vsubne:"\u228a",vsupnE:"\u228b",vsupne:"\u228b",wcirc:"\u0175",wedgeq:"\u2259",weierp:"\u2118",whitestar:"\u2727",wreath:"\u2240",xcirc:"\u25cb",xdtri:"\u25bd",xgr:"\u03be",xhArr:"\u2194",xharr:"\u2194",xi:"\u03be",xlArr:"\u21d0",xrArr:"\u21d2",xutri:"\u25b3",yacute:"\u00fd",yacy:"\u044f",ycirc:"\u0177",ycy:"\u044b",yen:"\u00a5",yicy:"\u0457",yucy:"\u044e",
yuml:"\u00ff",zacute:"\u017a",zcaron:"\u017e",zcy:"\u0437",zdot:"\u017c",zeta:"\u03b6",zgr:"\u03b6",zhcy:"\u0436",zwj:"\u200d",zwnj:"\u200c"};g.String=function(){function a(x){if("string"!==typeof x&&!(x instanceof String))return q(x);for(var b="",c,f=x.indexOf("%"),d=1;0<=f;){0<f&&(b+=x.slice(0,f));if("%"===x[f+1])b+="%";else if("o"===x[f+1])if(c=arguments[d++],"string"===typeof c)b=b+"'"+c+"'";else if("number"===typeof c)b+=c;else if(Array.isArray(c)){for(var h=0,e=c.length,b=b+"[";h<e;)b=b+(0<h?",":"")+q(c[h++]);b+="]"}else b+=q(c);else if("j"===x[f+1])if(c=arguments[d++],Array.isArray(c))for(h=0,e=c.length,b+="[";h<e;)b=b+(0<h?",":
"")+JSON.stringify(c[h++]);else if("object"===typeof c){h=!1;try{h=JSON.stringify(c)}catch(l){var h={},r;for(r in c)if(c.hasOwnProperty(r)){var e=c[r],z;if(Array.isArray(e)){z=[];for(var y=0,F=e.length;y<F;){var k=e[y++],w;try{w=a(k)}catch(m){w=k.toString()}z.push(w)}}else try{z=a(e)}catch(ba){z=e.toString()}h[r]=z}h=JSON.stringify(h)}b+=h}else b+=JSON.stringify(c);else"x"===x[f+1]&&"number"===typeof arguments[d]&&0<=arguments[d]&&0<=arguments[d]%1?(c=arguments[d++],b+=c.toString(16)):arguments[d]?
b+=arguments[d++]:"undefined"===typeof arguments[d]?(b+="?undef?",d++):b+=arguments[d++];x=x.slice(f+2);f=x.indexOf("%")}return b+x}function q(a){if("undefined"===typeof a)return"?undef?";if(a){if("number"===typeof a)return""+a;if(a.tagName){var b="["+a.tagName;a.className&&(b=b+"."+a.className.replace(/\s+/g,"."));a.id&&(b=b+"#"+a.id);a.name&&(b=b+"[name="+a.name+"]");(a=a.innerText?a.innerText.trim():e(a.innerHTML).trim())&&0!==a.length&&(b=32>a.length?b+"'"+a.replace(/\n/g,"\\n")+"'":b+"'"+a.slice(0,
16).replace(/\n/g,"\\n")+"'...");return b+"]"}if(a.nodeType)a=3===a.nodeType?'["'+a.nodeValue+'"]':"<"+a.nodeType+">";else if(a.ic)a=a.ic;else if(a.kd)a="#@"+a.kd;else if(a.type&&(a.target||a.srcElement)){b="["+a.type+"@"+q(a.target||a.srcElement);if((a.target||a.srcElement).nodeType){var c="(m="+(!0===a.shiftKey?"s":"")+(!0===a.ctrlKey?"c":"")+(!0===a.metaKey?"m":"")+(!0===a.altKey?"a":"")+("undefined"!==typeof a.button?",b="+a.button:"")+("undefined"!==typeof a.which?",w="+a.which:""),f=a.clientX,
d=a.clientY;if("number"===typeof f||"number"===typeof d)c=c+",cx="+f+",cy="+d;a.touches&&(c=c+",touches="+a.touches.length);a.keyCode&&(c=c+",kc="+a.keyCode);a.charCode&&(c=c+",cc="+a.charCode);a=c+")"}else a="";a=b+a+"]"}else a=""+a}return a}function k(a){var b=0,c=a.length;if(0>=c)return a;for(;b<c&&-1<" \n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff".indexOf(a.charAt(b));)b++;if(b===c)return"";for(var f=
c-1;f>b&&-1<" \n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff".indexOf(a.charAt(f));)f--;return 0<b||f<c?a.slice(b,f+1):a}function m(a){a=a.replace(/\s+/g," ");var b=0,c=a.length;if(0>=c)return a;for(;b<c&&-1<" \n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff".indexOf(a.charAt(b));)b++;if(b===c)return"";for(var f=c-1;f>
b&&-1<" \n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff".indexOf(a.charAt(f));)f--;return 0<b||f<c?a.slice(b,f+1):a}function e(a){return a.replace(/<[^>]*>/g,"")}function v(a,b){return String.fromCharCode(parseInt(b,10))}function l(a,b){return String.fromCharCode(parseInt(b,16))}function A(a,b){return g.ur[b]||"&"+b+";"}function t(a,b){return r.hasOwnProperty(b)?r[b]:"&"+b+";"}function y(a,b){return 0===a.indexOf(b)}
function w(a,b){if(a.indexOf)return 0<=a.indexOf(b);for(var c=0,f=a.length;c<f;){if(a[c]===b)return!0;c++}return!1}function h(a,b,c){var f=a.oc;if(c===b.length){if(f.indexOf?0<=f.indexOf(b):w(f,b))return!1;f.push(b);return!0}if(a.sh){var d=b[c],e=a[d];e||(e={oc:[]},e.sE=d,a[d]=e,a.sh.push(e));return h(e,b,c+1)?(f.push(b),!0):!1}if(5>a.oc.length){if(f.indexOf?0<=f.indexOf(b):w(f,b))return!1;f.push(b);return!0}a.sh=[];f=a.oc;for(d=0;d<f.length;)h(a,f[d++],c);return h(a,b,c)}function c(a,b,f,d){d||(d=
b.length);if(f===d)return a.oc;if(5>=a.oc.length){f=a.oc;d=[];for(a=0;a<f.length;){var h=f[a++];y(h,b)&&d.push(h)}return d.length?d:!1}return(a=a[b[f]])?c(a,b,f+1,d):!1}function b(a){return(a+"").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var f=/[^ \n\r\t\f\x0b\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff]/g;a.aC="\u00a0";a.PB="\u00b7";a.Ey="\u2013";a.Iy="\u2014";a.DB="\u2018";a.nD="\u2019";a.nB="\u201c";a.aD=
"\u201d";a.truncate=function(a,b){b||(b=42);return a.length<b?a:a.slice(0,b)};var F=Math.floor;a.Rr=function(a,b,c){var f,d;"number"!==typeof c&&(c=.1);if(!b)return a;if("number"!==typeof b)if(b.constructor===Array)f=b[0]||0,d=b[1]||0,b=d+f;else return a;if(b){if(a.length<b+F(c*b))return a;if(f&&d){var h=a.length;0!==/\s/.test(a[f])&&(b=a.slice(0,f),c=b.search(/\s+\w+$/),f=0<c?c:f);0===/\s/.test(a[h-d])?d=h-d:(b=a.slice(h-d),c=b.search(/\s+/),d=0<c?h-d+c:d);return[a.slice(0,f),a.slice(d)]}if(0===
/\s/.test(a[b]))return a.slice(0,b);b=a.slice(0,b);c=b.search(/\s+\w+$/);return 0<c?b.slice(0,c):b}return a};a.Ja=function(a){if("string"===typeof a){var b;if(0===a.length)return!0;b=a.search(f);if(0>b)return!0;if("&"!==a[b])return!1;a=a.replace(/&nbsp;/g,"\u00a0");b=a.search(f);return 0>b}return!1};a.bo=function(a,b){for(var c;0<=(c=a.indexOf(b,0));)return c;return-1};a.split=function(a,b,c,f){if(f||c){for(var d=[],h=0,e;0<=(e=a.indexOf(b,h));)c&&0<e&&a[e-1]===c||(f&&e>h?d.push(f(a.slice(h,e))):
e>h&&d.push(a.slice(h,e))),h=e+1;a.length>h&&(f?d.push(f(a.slice(h))):d.push(a.slice(h)));return d}return a.split(b)};a.QD=function(a,b,c){if(c||b){for(var f=[],d=0,h;0<=(h=a.indexOf(";",d));)b&&0<h&&a[h-1]===b||(c&&h>d?f.push(c(a.slice(d,h))):h>d&&f.push(a.slice(d,h))),d=h+1;a.length>d&&(c?f.push(c(a.slice(d))):f.push(a.slice(d)));return f}return a.split(";")};a.qB=function(a,b,c){if(c||b){for(var f=[],d=0,h;0<=(h=a.indexOf("\n",d));)b&&0<h&&a[h-1]===b||(c&&h>d?f.push(c(a.slice(d,h))):h>d&&f.push(a.slice(d,
h))),d=h+1;a.length>d&&(c?f.push(c(a.slice(d))):f.push(a.slice(d)));return f}return a.split("\n")};a.trim=k;a.rf=m;a.ov=function(a){if(!(0<=a.search(/(^|\s)[ABCDEFGHIJKLMNOPQRSTUVWXYZ]/g)))return a.replace(/\s+/g," ").replace(/(^ | $)/g,"");a=a.split(/\s+/g);for(var b=0,c=a.length;b<c;){var f=a[b];0<=f.slice(1).search(/[ABCDEFGHIJKLMNOPQRSTUVWXYZ]/)||(a[b]=f[0].toUpperCase()+f.slice(1));b++}return a.join(" ")};a.$y=function(a){return a.replace(/\s+/g," ")};a.pC=function(a){a=k(a);return a.replace(/\s*[\f\n\r]+\s+/gm,
" //\u00b7 ").replace(/\s*[\f\n\r]+\s*/gm," // ").replace(/\s\s+/g,"")};a.tv=e;a.Pv=function(a){return 0<=a.indexOf("\\")?a.replace(/\\(.)/g,"$1"):a};a.fC=function(a){return a.replace(/\W*\s\W*/g," ").toLowerCase()};var r={};a.entities=r;a.On=function(a){return a.replace(/&#(\d+);/g,v).replace(/&#x([0123456789ABCDEFabcdef]+);/g,l).replace(/&([abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.]+)/g,A).replace(/&([A-Za-z][A-Za-z0-9-_.]+;)/g,t)};a.Tr=function(a){return a.replace(/&([A-Za-z][A-Za-z0-9-_.]+);/g,
t)};var d=/^\d+(\.\d+)$/;a.Az=function(a,b,c,f){a=b.exec(a);"undefined"===typeof c&&(c=0);return a&&a.length>c?f?a[c]:d.test(a[c])?parseFloat(a[c]):a[c]:!1};a.Ru=function(a,b,c,f){c&&(a=a.slice(c));c=[];a=a.split(new RegExp("("+("string"===typeof b?b:b.source)+")","string"===typeof b?"":b.ignoreCase?"i":""));b=0;for(var d=a.length,h=!1;b<d;){var e=a[b++],l=a[b++];!e||0>e.search(/\S/)||(e.length&&"\\"===e.slice(-1)&&(2>e.length||"\\"!==e.slice(-2,-1))?(e=e.slice(0,-1)+l,h=h?h+e:e):h?(f?c.push(h+e):
c.push(m(h+e)),h=!1):f?c.push(e):c.push(m(e)))}return c};a.BC=function(a,b,c){!c&&0>b&&(c=-b,b=0);b-=10>a?1:100>a?2:1E3>a?3:1E4>a?4:1E5>a?5:1E6>a?6:1E6>a?7:1E8>a?8:1E9>a?9:1E10>a?10:11;a=a.toString();var f=a.indexOf("."),d="",h="",e;if(c)if(0<=f&&f+c<a.length)a=a.slice(0,f+c+1);else if(0>f||a.length<f+c+1)for(e=0,c=f+c+1-a.length,0>f&&(h+=".");e<c;)h+="0",e++;switch(b){case 0:d="";break;case 1:d="0";break;case 2:d="00";break;case 3:d="000";break;case 4:d="0000";break;case 5:d="00000";break;case 6:d=
"000000";break;case 7:d="0000000";break;case 8:d="00000000";break;case 9:d="000000000";break;case 10:d="0000000000";break;default:for(e=0;e<b;)d+="0",e++}return d+a+h};a.ip=function(a,b){var c=a.toString(),f="";if("number"===typeof b&&0<=b&&100>b){var d=c.indexOf(".");if(0<=d&&d+b<c.length)c=c.slice(0,d+b+1);else if(0>d||c.length<d+b+1){var h=0,e=d+b+1-c.length;for(0>d&&(f=".");h<=e;)f+="0",h++}}return c+f};a.fl=function(a,b){for(var c=a.split(/\W/),f="",d=0,h=b&&b<c.length?b:c.length;d<h;){var e=
c[d++];e.length&&(f+=e.slice(0,1))}return f};a.Qs=y;a.pl=function(a,b){return a.lastIndexOf(b)===a.length-b.length};a.Cr=function(a,b,c,f){for(var d=0,h=-1;d<a.length&&d<b.length;)if(a[d]===b[d]||f&&a[d].toLowerCase()===b[d].toLowerCase())c?(c===a[d]&&(h=d-1),d++):h=d++;else break;return 0<=h?a.slice(0,h+1):!1};a.Wx=function(a,b,c,f){for(var d=a.length,h=b.length,e=0;0<=d&&0<=h;)if(a[d]===b[h]||f&&a[d].toLowerCase()===b[d].toLowerCase())c?c===a[d]&&(e=d+1):e=d,d--,h--;else break;return 0<e?a.slice(e):
!1};a.BE=function(a){var b=a.search(/\.\w+$/);return 0<b?a.slice(0,b):a};a.jp=function(a,b,c){if("number"!==typeof c||0>c)c=0;return h(a,b,c)};a.kp=function(a,b,f,d){if("number"!==typeof f||0>f)f=0;d||(d=b.length);return c(a,b,f,d)};a.DC=function(a){a=("string"===typeof a.innerText?a.innerText:e(a.innerHTML)).split(/\W*\S+\W*/g);var b=a.length;return"_H"+(0<b?a[0][0]:".")+(1<b?a[1][0]:".")+(2<b?a[2][0]:".")+(3<b?a[3][0]:".")+(0<b?a[b-1][0]:".")+(1<b?a[b-2][0]:".")+(2<b?a[b-3][0]:".")+(3<b?a[b-4][0]:
".")};a.Ky=b;a.Qk=b;a.TE={};a.$n=function(a,b){var c=!1;if("string"===typeof b){var f=b;b=a;a=f}!a&&b&&b.wh?a=b.wh:!b&&a.wh&&(b=a,a=b.wh);if("string"!==typeof a)if(3===a.nodeType)c=a,a=c.nodeValue;else if(1===a.nodeType)c=a,a=c.innerHTML;else{g.t.warn("Bad argument %o to Template",a);return}var f=a.match(/\{\{\w+(\|([^\}])*)?\}\}/gm),d={};if(f&&f.length)for(var h=0,e=f.length;h<e;){var l=f[h++].slice(2,-2),r=l.search(/\|/),z=0<=r?l.slice(0,r):l;d[l]||d[z]||(b.hasOwnProperty(z)?(r=b[z],d[z]=l,r&&(a=
a.replace(new RegExp("\\{\\{"+z+"(\\|[^\\}]*)?\\}\\}","gm"),r.toString()))):0<r?(z=l.slice(r+1),a=a.replace("{{"+l+"}}",z),d[l]=l):g.t.warn("No data for %s in %j to substitute for %s",z,b,"{{"+l+"}}"))}return c?(3===c.nodeType?c.nodeValue=a:c.innerHTML=a,c):a};return a}();g.Aa=function(){function a(){return(new Date).getTime()}function q(a){var e=new Date;"number"===typeof a&&(a=131592918600>a?new Date(1E3*a):new Date(a));if(43200<(e.getTime()-a.getTime())/1E3)return a.toDateString();var e=a.getHours(),k=a.getMinutes();return a.toDateString()+" ("+(10>e?"0":"")+e+":"+(0===k?"00":(10>k?"0":"")+k)+")"}var k=a.loaded=(new Date).getTime();a.Za=function(){return Math.floor((new Date).getTime()/1E3)};a.jy=function(a){"number"===typeof a&&(a=131592918600>a?new Date(1E3*a):
new Date(a));return a.toDateString()};a.rm=function(a){"number"===typeof a&&(a=131592918600>a?new Date(1E3*a):new Date(a));return a.toString()};a.Fj=q;a.$E=function(a){return q(new Date(1E3*a))};var m=!1;a.Dr=function(a,e){"number"===typeof a&&(a=131592918600>a?new Date(1E3*a):new Date(a));var k=a.toLocaleDateString();"undefined"===typeof e&&(m?e=m:m=(new Date).toLocaleDateString());var y=k!==e,w=a.getHours(),h=a.getMinutes(),c=a.getSeconds();return(y?k:"")+(y?" - ":"")+(10>w?"0":"")+w+":"+(0===h?
"00":(10>h?"0":"")+h)+":"+(0===c?"00":(10>c?"0":"")+c)};a.aF=function(a){return(new Date(1E3*a)).toString()};a.YE=function(a){return(new Date(1E3*a)).toDateString()};a.ZE=function(a){return(new Date(1E3*a)).toLocaleString()};a.bF=function(a){return(new Date(1E3*a)).toTimeString()};var e=g.String;a.ND=function(a){var k,m;if(1>a)return e("%f seconds",a);if(1===a)return e("%f second",a);if(10>a)return e("%f seconds",a);if(60>a)return e("~%d seconds",Math.round(a/60));if(120>a)return k=Math.floor(a/60),
a=Math.round(a-60*k),1===a?"one minute, one second":e("one minute, %d seconds",a);if(3600>a)return k=Math.floor(a/60),e("~%d minutes",k);if(7200>a)return k=Math.floor(a/3600),k=Math.round((a-3600*k)/60),1===k?"one hour and one minutes":e("one hour, %d minutes",k);if(86400>a)return k=Math.floor(a/3600),e("~%d hours",k);if(172800>a)return k=Math.floor((a-86400)/3600),1===k?"one day and one hour":e("one day, %d hours",k);if(604800>a)return m=Math.floor(a/86400),e("%d days",m);if(1209600>a)return m=Math.floor((a-
604800)/86400),1===m?"one week and one day":e("one week and %d days",m);k=Math.floor(a/604800);m=Math.round((a-604800*m)/604800);return e("%d weeks, %d days",k,m)};a.Qu=function(a){if(.001>a)return Math.round(1E6*a)+"us";if(.1>a)return Math.round(1E3*a)+"ms";if(120>a)return Math.round(100*a)/100+"s";var e=Math.floor(a/60);return e+"m, "+Math.round(100*(a-60*e))/100+"s"};a.oD=function(a,e){for(var k=e,y="",w=2;w<arguments.length;)var h=arguments[w++],c=arguments[w++],y=y+"; "+h+": "+(c.getTime()-k.getTime())/
1E3+"s",k=c;return a+" "+(k.getTime()-e.getTime())/1E3+"s"+y};a.sy=function(a,e){e||(e=new Date);var k=a.getTime()-e.getTime();return 0<k?k/1E3:-(k/1E3)};a.mg=function(a){a||(a=new Date);return(a.getTime()-k)/1E3};var v=/(EST|EDT|PDT|PST|CST|CDT|ECT|GMT|Z|([+-]\d\d?(:\d+)?))$/i;a.parse=function(e){var k=!1;try{k=Date.parse?new Date(Date.parse(e)):new Date(e)}catch(m){g.t("Error parsing time '%s': %o",e,m)}if(k instanceof Date&&!isNaN(k.getYear()))return k;k=e.search(v);if(0<k)return a.parse(e.slice(0,
k));g.t("Couldn't parse time '%s'",e);return e};a.yb=g.va.yb;a.xb=g.va.xb;return a}();g.mg=g.Aa.mg;g.kk=function(){function a(k,m,e){var v=!1;if("string"===typeof m){var l=m;m=k;k=l}!k&&m&&m.wh&&(k=m.wh);if("string"!==typeof k)if(3===k.nodeType)v=k,k=v.nodeValue;else if(1===k.nodeType)v=k,k=v.innerHTML;else{g.t.warn("Bad argument %o to Template",k);return}a.Mo.hasOwnProperty(k)?k=a.Mo[k]:q.hasOwnProperty(k)&&(k=q[k]);var l=k.match(/\{\{\w+\}\}/gm),A={};if(l)for(var t=0,y=l.length;t<y;){var w=l[t++].slice(2,-2),h=new RegExp("\\{\\{"+w+"\\}\\}","gm");if(!A[w])if(m.hasOwnProperty(w)||e&&e.hasOwnProperty(w)){var c=
m[w]||e&&e[w]||"";A[w]=w;k=k.replace(h,c.toString())}else g.t.warn("No data for %s in %s to use in %s",w,m,k),A[w]=w}return v?(3===v.nodeType?v.nodeValue=k:v.innerHTML=k,v):k}var q={};g.Nq=q;a.Mo={};a.Kd=function(k,m,e){k=a(k,m);m=e?e.nodeType?e:"string"===typeof e?document.createElement(e):document.createElement("div"):document.createElement("div");m.innerHTML=k;if(e&&e.nodeType)return m;if(m.childNodes){if(1===m.childNodes.length)return m.childNodes[0];e=document.createDocumentFragment;k=[];m=m.childNodes;
for(var q=0,l=m.length;q<l;)k.push(m[q++]);for(q=0;q<l;)e.appendChild(k[q++]);return e}return!1};return a}();g.ng||(g.ng=function(){function a(a){var B=Array(a.length>>2),b;for(b=0;b<B.length;b++)B[b]=0;for(b=0;b<8*a.length;b+=8)B[b>>5]|=(a.charCodeAt(b/8)&255)<<24-b%32;return B}function q(a){for(var B="",b=0;b<32*a.length;b+=8)B+=String.fromCharCode(a[b>>5]>>>24-b%32&255);return B}function k(a,B){"undefined"===typeof B&&(B=p);for(var b=B?"0123456789ABCDEF":"0123456789abcdef",n="",c,f=0;f<a.length;f++)c=a.charCodeAt(f),n+=b.charAt(c>>>4&15)+b.charAt(c&15);return n}function m(a){var b;b||(b=ea);for(var n=
"",c=a.length,f=0;f<c;f+=3)for(var d=a.charCodeAt(f)<<16|(f+1<c?a.charCodeAt(f+1)<<8:0)|(f+2<c?a.charCodeAt(f+2):0),p=0;4>p;p++)n=8*f+6*p>8*a.length?n+b:n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d>>>6*(3-p)&63);return n}function e(a,b){if(!b)return S?S(a):k(a);var n=b.length,c,f,d,p,h,e=Array(Math.ceil(a.length/2));for(c=0;c<e.length;c++)e[c]=a.charCodeAt(2*c)<<8|a.charCodeAt(2*c+1);var z=Math.ceil(8*a.length/(Math.log(b.length)/Math.log(2))),H=Array(z);for(f=0;f<
z;f++){h=[];for(c=p=0;c<e.length;c++)if(p=(p<<16)+e[c],d=Math.floor(p/n),p-=d*n,0<h.length||0<d)h[h.length]=d;H[f]=p;e=h}n="";for(c=H.length-1;0<=c;c--)n+=b.charAt(H[c]);return n}function v(a){for(var b="",n=-1,c,f;++n<a.length;)c=a.charCodeAt(n),f=n+1<a.length?a.charCodeAt(n+1):0,55296<=c&&56319>=c&&56320<=f&&57343>=f&&(c=65536+((c&1023)<<10)+(f&1023),n++),127>=c?b+=String.fromCharCode(c):2047>=c?b+=String.fromCharCode(192|c>>>6&31,128|c&63):65535>=c?b+=String.fromCharCode(224|c>>>12&15,128|c>>>
6&63,128|c&63):2097151>=c&&(b+=String.fromCharCode(240|c>>>18&7,128|c>>>12&63,128|c>>>6&63,128|c&63));return b}function l(a){var b=Array(a.length>>2),n;for(n=0;n<b.length;n++)b[n]=0;for(n=0;n<8*a.length;n+=8)b[n>>5]|=(a.charCodeAt(n/8)&255)<<n%32;return b}function A(a){for(var b="",n=0;n<32*a.length;n+=8)b+=String.fromCharCode(a[n>>5]>>>n%32&255);return b}function t(a,b){var n=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(n>>16)<<16|n&65535}function y(a,b){return a<<b|a>>>32-b}function w(a){return A(c(l(a),
8*a.length))}function h(a,b){var n=l(a);16<n.length&&(n=c(n,8*a.length));for(var f=Array(16),d=Array(16),p=0;16>p;p++)f[p]=n[p]^909522486,d[p]=n[p]^1549556828;n=c(f.concat(l(b)),512+8*b.length);return A(c(d.concat(n),640))}function c(a,B){a[B>>5]|=128<<B%32;a[(B+64>>>9<<4)+14]=B;for(var n=1732584193,c=-271733879,d=-1732584194,p=271733878,h=0;h<a.length;h+=16)var e=n,z=c,H=d,k=p,n=f(n,c,d,p,a[h+0],7,-680876936),p=f(p,n,c,d,a[h+1],12,-389564586),d=f(d,p,n,c,a[h+2],17,606105819),c=f(c,d,p,n,a[h+3],22,
-1044525330),n=f(n,c,d,p,a[h+4],7,-176418897),p=f(p,n,c,d,a[h+5],12,1200080426),d=f(d,p,n,c,a[h+6],17,-1473231341),c=f(c,d,p,n,a[h+7],22,-45705983),n=f(n,c,d,p,a[h+8],7,1770035416),p=f(p,n,c,d,a[h+9],12,-1958414417),d=f(d,p,n,c,a[h+10],17,-42063),c=f(c,d,p,n,a[h+11],22,-1990404162),n=f(n,c,d,p,a[h+12],7,1804603682),p=f(p,n,c,d,a[h+13],12,-40341101),d=f(d,p,n,c,a[h+14],17,-1502002290),c=f(c,d,p,n,a[h+15],22,1236535329),n=F(n,c,d,p,a[h+1],5,-165796510),p=F(p,n,c,d,a[h+6],9,-1069501632),d=F(d,p,n,c,
a[h+11],14,643717713),c=F(c,d,p,n,a[h+0],20,-373897302),n=F(n,c,d,p,a[h+5],5,-701558691),p=F(p,n,c,d,a[h+10],9,38016083),d=F(d,p,n,c,a[h+15],14,-660478335),c=F(c,d,p,n,a[h+4],20,-405537848),n=F(n,c,d,p,a[h+9],5,568446438),p=F(p,n,c,d,a[h+14],9,-1019803690),d=F(d,p,n,c,a[h+3],14,-187363961),c=F(c,d,p,n,a[h+8],20,1163531501),n=F(n,c,d,p,a[h+13],5,-1444681467),p=F(p,n,c,d,a[h+2],9,-51403784),d=F(d,p,n,c,a[h+7],14,1735328473),c=F(c,d,p,n,a[h+12],20,-1926607734),n=b(c^d^p,n,c,a[h+5],4,-378558),p=b(n^c^
d,p,n,a[h+8],11,-2022574463),d=b(p^n^c,d,p,a[h+11],16,1839030562),c=b(d^p^n,c,d,a[h+14],23,-35309556),n=b(c^d^p,n,c,a[h+1],4,-1530992060),p=b(n^c^d,p,n,a[h+4],11,1272893353),d=b(p^n^c,d,p,a[h+7],16,-155497632),c=b(d^p^n,c,d,a[h+10],23,-1094730640),n=b(c^d^p,n,c,a[h+13],4,681279174),p=b(n^c^d,p,n,a[h+0],11,-358537222),d=b(p^n^c,d,p,a[h+3],16,-722521979),c=b(d^p^n,c,d,a[h+6],23,76029189),n=b(c^d^p,n,c,a[h+9],4,-640364487),p=b(n^c^d,p,n,a[h+12],11,-421815835),d=b(p^n^c,d,p,a[h+15],16,530742520),c=b(d^
p^n,c,d,a[h+2],23,-995338651),n=r(n,c,d,p,a[h+0],6,-198630844),p=r(p,n,c,d,a[h+7],10,1126891415),d=r(d,p,n,c,a[h+14],15,-1416354905),c=r(c,d,p,n,a[h+5],21,-57434055),n=r(n,c,d,p,a[h+12],6,1700485571),p=r(p,n,c,d,a[h+3],10,-1894986606),d=r(d,p,n,c,a[h+10],15,-1051523),c=r(c,d,p,n,a[h+1],21,-2054922799),n=r(n,c,d,p,a[h+8],6,1873313359),p=r(p,n,c,d,a[h+15],10,-30611744),d=r(d,p,n,c,a[h+6],15,-1560198380),c=r(c,d,p,n,a[h+13],21,1309151649),n=r(n,c,d,p,a[h+4],6,-145523070),p=r(p,n,c,d,a[h+11],10,-1120210379),
d=r(d,p,n,c,a[h+2],15,718787259),c=r(c,d,p,n,a[h+9],21,-343485551),n=t(n,e),c=t(c,z),d=t(d,H),p=t(p,k);return[n,c,d,p]}function b(a,b,n,c,d,f){return t(y(t(t(b,a),t(c,f)),d),n)}function f(a,n,c,d,f,p,h){return b(n&c|~n&d,a,n,f,p,h)}function F(a,n,c,d,f,p,h){return b(n&d|c&~d,a,n,f,p,h)}function r(a,n,c,d,f,p,h){return b(c^(n|~d),a,n,f,p,h)}function d(a){return A(K(l(a),8*a.length))}function x(a,b){var n=l(a);16<n.length&&(n=K(n,8*a.length));for(var c=Array(16),d=Array(16),f=0;16>f;f++)c[f]=n[f]^909522486,
d[f]=n[f]^1549556828;n=K(c.concat(l(b)),512+8*b.length);return A(K(d.concat(n),672))}function K(a,b){a[b>>5]|=128<<b%32;a[(b+64>>>9<<4)+14]=b;for(var n=1732584193,c=4023233417,d=2562383102,f=271733878,p=3285377520,h=0;h<a.length;h+=16){for(var e,z=n,H=c,r=d,k=f,x=p,S=n,F=c,w=d,I=f,ea=p,l=0;79>=l;++l)e=t(z,J(l,H,r,k)),e=t(e,a[h+aa[l]]),e=t(e,0<=l&&15>=l?0:16<=l&&31>=l?1518500249:32<=l&&47>=l?1859775393:48<=l&&63>=l?2400959708:64<=l&&79>=l?2840853838:"rmd160_K1: j out of range"),e=t(y(e,ia[l]),x),z=
x,x=k,k=y(r,10),r=H,H=e,e=t(S,J(79-l,F,w,I)),e=t(e,a[h+ca[l]]),e=t(e,0<=l&&15>=l?1352829926:16<=l&&31>=l?1548603684:32<=l&&47>=l?1836072691:48<=l&&63>=l?2053994217:64<=l&&79>=l?0:"rmd160_K2: j out of range"),e=t(y(e,ja[l]),ea),S=ea,ea=I,I=y(w,10),w=F,F=e;e=t(c,t(r,I));c=t(d,t(k,ea));d=t(f,t(x,S));f=t(p,t(z,F));p=t(n,t(H,w));n=e}return[n,c,d,f,p]}function J(a,b,n,c){return 0<=a&&15>=a?b^n^c:16<=a&&31>=a?b&n|~b&c:32<=a&&47>=a?(b|~n)^c:48<=a&&63>=a?b&c|n&~c:64<=a&&79>=a?b^(n|~c):"rmd160_f: j out of range"}
function G(b){return q(E(a(b),8*b.length))}function D(b,n){var c=a(b);16<c.length&&(c=E(c,8*b.length));for(var d=Array(16),f=Array(16),p=0;16>p;p++)d[p]=c[p]^909522486,f[p]=c[p]^1549556828;c=E(d.concat(a(n)),512+8*n.length);return q(E(f.concat(c),672))}function E(a,b){a[b>>5]|=128<<24-b%32;a[(b+64>>9<<4)+15]=b;for(var n=Array(80),c=1732584193,d=-271733879,f=-1732584194,p=271733878,h=-1009589776,e=0;e<a.length;e+=16){for(var H=c,z=d,r=f,k=p,x=h,S=0;80>S;S++){n[S]=16>S?a[e+S]:y(n[S-3]^n[S-8]^n[S-14]^
n[S-16],1);var l=t(t(y(c,5),20>S?d&f|~d&p:40>S?d^f^p:60>S?d&f|d&p|f&p:d^f^p),t(t(h,n[S]),20>S?1518500249:40>S?1859775393:60>S?-1894007588:-899497514)),h=p,p=f,f=y(d,30),d=c,c=l}c=t(c,H);d=t(d,z);f=t(f,r);p=t(p,k);h=t(h,x)}return[c,d,f,p,h]}function P(b){return q(z(a(b),8*b.length))}function O(b,n){var c=a(b);16<c.length&&(c=z(c,8*b.length));for(var d=Array(16),f=Array(16),p=0;16>p;p++)d[p]=c[p]^909522486,f[p]=c[p]^1549556828;c=z(d.concat(a(n)),512+8*n.length);return q(z(f.concat(c),768))}function L(a,
b){return a>>>b|a<<32-b}function z(a,b){var n=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],c=Array(64),d,f,p,h,e,H,z,r,k,S,x,y;a[b>>5]|=128<<24-b%32;a[(b+64>>9<<4)+15]=b;for(k=0;k<a.length;k+=16){d=n[0];f=n[1];p=n[2];h=n[3];e=n[4];H=n[5];z=n[6];r=n[7];for(S=0;64>S;S++)16>S?x=a[S+k]:(x=c[S-15],y=c[S-2],x=t(t(t(L(y,17)^L(y,19)^y>>>10,c[S-7]),L(x,7)^L(x,18)^x>>>3),c[S-16])),c[S]=x,x=t(t(t(t(r,L(e,6)^L(e,11)^L(e,25)),e&H^~e&z),Da[S]),c[S]),y=t(L(d,2)^L(d,
13)^L(d,22),d&f^d&p^f&p),r=z,z=H,H=e,e=t(h,x),h=p,p=f,f=d,d=t(x,y);n[0]=t(d,n[0]);n[1]=t(f,n[1]);n[2]=t(p,n[2]);n[3]=t(h,n[3]);n[4]=t(e,n[4]);n[5]=t(H,n[5]);n[6]=t(z,n[6]);n[7]=t(r,n[7])}return n}function W(b){return q(Q(a(b),8*b.length))}function M(b,n){var c=a(b);32<c.length&&(c=Q(c,8*b.length));for(var d=Array(32),f=Array(32),p=0;32>p;p++)d[p]=c[p]^909522486,f[p]=c[p]^1549556828;c=Q(d.concat(a(n)),1024+8*n.length);return q(Q(f.concat(c),1536))}function Q(a,b){void 0===n&&(n=[new C(1116352408,-685199838),
new C(1899447441,602891725),new C(-1245643825,-330482897),new C(-373957723,-2121671748),new C(961987163,-213338824),new C(1508970993,-1241133031),new C(-1841331548,-1357295717),new C(-1424204075,-630357736),new C(-670586216,-1560083902),new C(310598401,1164996542),new C(607225278,1323610764),new C(1426881987,-704662302),new C(1925078388,-226784913),new C(-2132889090,991336113),new C(-1680079193,633803317),new C(-1046744716,-815192428),new C(-459576895,-1628353838),new C(-272742522,944711139),new C(264347078,
-1953704523),new C(604807628,2007800933),new C(770255983,1495990901),new C(1249150122,1856431235),new C(1555081692,-1119749164),new C(1996064986,-2096016459),new C(-1740746414,-295247957),new C(-1473132947,766784016),new C(-1341970488,-1728372417),new C(-1084653625,-1091629340),new C(-958395405,1034457026),new C(-710438585,-1828018395),new C(113926993,-536640913),new C(338241895,168717936),new C(666307205,1188179964),new C(773529912,1546045734),new C(1294757372,1522805485),new C(1396182291,-1651133473),
new C(1695183700,-1951439906),new C(1986661051,1014477480),new C(-2117940946,1206759142),new C(-1838011259,344077627),new C(-1564481375,1290863460),new C(-1474664885,-1136513023),new C(-1035236496,-789014639),new C(-949202525,106217008),new C(-778901479,-688958952),new C(-694614492,1432725776),new C(-200395387,1467031594),new C(275423344,851169720),new C(430227734,-1194143544),new C(506948616,1363258195),new C(659060556,-544281703),new C(883997877,-509917016),new C(958139571,-976659869),new C(1322822218,
-482243893),new C(1537002063,2003034995),new C(1747873779,-692930397),new C(1955562222,1575990012),new C(2024104815,1125592928),new C(-2067236844,-1578062990),new C(-1933114872,442776044),new C(-1866530822,593698344),new C(-1538233109,-561857047),new C(-1090935817,-1295615723),new C(-965641998,-479046869),new C(-903397682,-366583396),new C(-779700025,566280711),new C(-354779690,-840897762),new C(-176337025,-294727304),new C(116418474,1914138554),new C(174292421,-1563912026),new C(289380356,-1090974290),
new C(460393269,320620315),new C(685471733,587496836),new C(852142971,1086792851),new C(1017036298,365543100),new C(1126000580,-1676669620),new C(1288033470,-885112138),new C(1501505948,-60457430),new C(1607167915,987167468),new C(1816402316,1246189591)]);var c=[new C(1779033703,-205731576),new C(-1150833019,-2067093701),new C(1013904242,-23791573),new C(-1521486534,1595750129),new C(1359893119,-1377402159),new C(-1694144372,725511199),new C(528734635,-79577749),new C(1541459225,327033209)],d=new C(0,
0),p=new C(0,0),f=new C(0,0),h=new C(0,0),e=new C(0,0),z=new C(0,0),r=new C(0,0),k=new C(0,0),S=new C(0,0),x=new C(0,0),y=new C(0,0),l=new C(0,0),F=new C(0,0),w=new C(0,0),I=new C(0,0),ea=new C(0,0),ca=new C(0,0),J,m,D=Array(80);for(m=0;80>m;m++)D[m]=new C(0,0);a[b>>5]|=128<<24-(b&31);a[(b+128>>10<<5)+31]=b;for(m=0;m<a.length;m+=32){V(f,c[0]);V(h,c[1]);V(e,c[2]);V(z,c[3]);V(r,c[4]);V(k,c[5]);V(S,c[6]);V(x,c[7]);for(J=0;16>J;J++)D[J].i=a[m+2*J],D[J].k=a[m+2*J+1];for(J=16;80>J;J++){ba(I,D[J-2],19);
H(ea,D[J-2],29);var E=ca,G=D[J-2];E.k=G.k>>>6|G.i<<26;E.i=G.i>>>6;l.k=I.k^ea.k^ca.k;l.i=I.i^ea.i^ca.i;ba(I,D[J-15],1);ba(ea,D[J-15],8);E=ca;G=D[J-15];E.k=G.k>>>7|G.i<<25;E.i=G.i>>>7;y.k=I.k^ea.k^ca.k;y.i=I.i^ea.i^ca.i;var E=D[J],L=D[J-7],t=D[J-16],G=(l.k&65535)+(L.k&65535)+(y.k&65535)+(t.k&65535),M=(l.k>>>16)+(L.k>>>16)+(y.k>>>16)+(t.k>>>16)+(G>>>16),q=(l.i&65535)+(L.i&65535)+(y.i&65535)+(t.i&65535)+(M>>>16),L=(l.i>>>16)+(L.i>>>16)+(y.i>>>16)+(t.i>>>16)+(q>>>16);E.k=G&65535|M<<16;E.i=q&65535|L<<16}for(J=
0;80>J;J++)F.k=r.k&k.k^~r.k&S.k,F.i=r.i&k.i^~r.i&S.i,ba(I,r,14),ba(ea,r,18),H(ca,r,9),l.k=I.k^ea.k^ca.k,l.i=I.i^ea.i^ca.i,ba(I,f,28),H(ea,f,2),H(ca,f,7),y.k=I.k^ea.k^ca.k,y.i=I.i^ea.i^ca.i,w.k=f.k&h.k^f.k&e.k^h.k&e.k,w.i=f.i&h.i^f.i&e.i^h.i&e.i,E=d,L=n[J],t=D[J],G=(x.k&65535)+(l.k&65535)+(F.k&65535)+(L.k&65535)+(t.k&65535),M=(x.k>>>16)+(l.k>>>16)+(F.k>>>16)+(L.k>>>16)+(t.k>>>16)+(G>>>16),q=(x.i&65535)+(l.i&65535)+(F.i&65535)+(L.i&65535)+(t.i&65535)+(M>>>16),L=(x.i>>>16)+(l.i>>>16)+(F.i>>>16)+(L.i>>>
16)+(t.i>>>16)+(q>>>16),E.k=G&65535|M<<16,E.i=q&65535|L<<16,R(p,y,w),V(x,S),V(S,k),V(k,r),R(r,z,d),V(z,e),V(e,h),V(h,f),R(f,d,p);R(c[0],c[0],f);R(c[1],c[1],h);R(c[2],c[2],e);R(c[3],c[3],z);R(c[4],c[4],r);R(c[5],c[5],k);R(c[6],c[6],S);R(c[7],c[7],x)}d=Array(16);for(m=0;8>m;m++)d[2*m]=c[m].i,d[2*m+1]=c[m].k;return d}function C(a,b){this.i=a;this.k=b}function V(a,b){a.i=b.i;a.k=b.k}function ba(a,b,n){a.k=b.k>>>n|b.i<<32-n;a.i=b.i>>>n|b.k<<32-n}function H(a,b,n){a.k=b.i>>>n|b.k<<32-n;a.i=b.k>>>n|b.i<<
32-n}function R(a,b,n){var c=(b.k&65535)+(n.k&65535),d=(b.k>>>16)+(n.k>>>16)+(c>>>16),f=(b.i&65535)+(n.i&65535)+(d>>>16);b=(b.i>>>16)+(n.i>>>16)+(f>>>16);a.k=c&65535|d<<16;a.i=f&65535|b<<16}var p=0,ea="",S=!1,aa=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ca=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,
11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ia=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ja=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,
11],Da=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,
-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],n;return{_get_hexcase_:function(){return p},_set_hexcase_:function(a){p=a},_get_padchar_:function(){return ea},_set_padchar_:function(a){ea=a},_get_outenc_:function(){},_set_outenc_:function(a){S="string"===typeof a?g.ng[a]||!1:a},hex:k,fx:"rst2b64",sx:"rst2b64",array:l,binl:l,Qg:function(a){return k(w(v(a)))},
lx:function(a){return m(w(v(a)))},Vg:function(a,b){return e(w(v(a)),b)},eA:function(a,b){return k(h(v(a),v(b)))},gx:function(a,b){return m(h(v(a),v(b)))},rA:function(a,b,n){return e(h(v(a),v(b)),n)},jA:function(a){return k(d(v(a)))},mx:function(a){return m(d(v(a)))},lD:function(a,b){return e(d(v(a)),b)},fA:function(a,b){return k(x(v(a),v(b)))},hx:function(a,b){return m(x(v(a),v(b)))},sA:function(a,b,n){return e(x(v(a),v(b)),n)},Oi:function(a){return k(G(v(a)))},nx:function(a){return m(G(v(a)))},dm:function(a,
b){return e(G(v(a)),b)},gA:function(a,b){return k(D(v(a),v(b)))},ix:function(a,b){return m(D(v(a),v(b)))},tA:function(a,b,n){return e(D(v(a),v(b)),n)},kA:function(a){return k(P(v(a)))},ox:function(a){return m(P(v(a)))},hE:function(a,b){return e(P(v(a)),b)},hA:function(a,b){return k(O(v(a),v(b)))},jx:function(a,b){return m(O(v(a),v(b)))},uA:function(a,b,n){return e(O(v(a),v(b)),n)},lA:function(a){return k(W(v(a)))},px:function(a){return m(W(v(a)))},iE:function(a,b){return e(W(v(a)),b)},iA:function(a,
b){return k(M(v(a),v(b)))},kx:function(a,b){return m(M(v(a),v(b)))},vA:function(a,b,n){return e(M(v(a),v(b)),n)}}}());g.t=function(){function a(A){var t=!1,y=l(),w=new Date;(a.Sn||A.search("%j"))&&"undefined"!==typeof k&&(t=k.apply(null,arguments));a.Oe&&(t?a.Oe.call(a.console,t):a.Oe.apply(a.console,arguments));if(a.Et){var h="["+y+"s "+v(w,!1)+"] "+k.apply(null,arguments);window.console&&window.console.log("remote logging %s",h);var c=new XMLHttpRequest;c.open("POST",a.Et,!a.BB);c.setRequestHeader("Content-type","text; charset=utf-8");c.send(h)}if(a.console){var h=a.console,c=g.b("span.time",y),b=g.b("span.abstime",
v(w)),w=g.b("div.fdjtlog");w.innerHTML=t?t:k.apply(null,arguments);g.b.gb(w,c);g.b.gb(w,b);"string"===typeof h&&(h=(h=document.getElementById(h))?a.console=h:!1);h&&!h.nodeType&&(h=!1);h&&a.vB?(q(h),h.appendChild(w),h.appendChild(document.createTextNode("\n"))):h&&0!==h.offsetHeight?(q(h),h.appendChild(w),h.appendChild(document.createTextNode("\n"))):m.push(w)}if(a.Tv||!a.console&&!a.Oe){if("undefined"===typeof e)if(window.console&&window.console.log)if(window.console.count)e=!0;else{e=!0;try{window.console.log("Testing console")}catch(f){e=
!1}}else e=!1;if(e)if(window.console.log.call)if(t)window.console.log.call(window.console,"["+y+"s] "+t);else{t=Array(arguments.length+1);t[0]="[%fs] "+A;t[1]=y;y=1;for(w=arguments.length;y<w;)t[y+1]=arguments[y],y++;window.console.log.apply(window.console,t)}else window.console.log("["+y+"s] "+k.apply(null,arguments))}}function q(a){if(m&&m.length){var e=document.createDocumentFragment(),k=m;m=!1;for(var l=0,h=k.length;l<h;)e.appendChild(k[l++]),e.appendChild(document.createTextNode("\n"));a.appendChild(e);
m=[]}}var k=g.String,m=[],e,v=g.Aa.Dr,l=g.mg;a.console=null;a.update=function(){a.console&&q(a.console)};a.warn=function(){if(!a.Oe&&!window.console&&window.console.log&&window.console.log.count){var e=k.apply(null,arguments);window.alert(e)}else a.apply(null,arguments)};a.Uj=function(){a.my&&a.warn.call(null,arguments)};a.ux=function(){var e=!1;a.Sn&&"undefined"!==typeof k&&(e=k.apply(null,arguments));a.Oe?e?a.Oe(a.console,e):a.Oe.apply(a.console,arguments):window.console&&window.console.log&&window.console.count&&
(e?window.console.log.call(window.console,e):window.console.log.apply(window.console,arguments))};a.Tv=!0;g.da=g.t;a.mz=function(){return m};return a}(window,document);(function(){function a(a,c){var b=1,f=c.exec(a);"undefined"===typeof b&&(b=0);return f&&f.length>b?f[b]:!1}function q(a){a=a.replace(/\s+/g," ");var c=0,b=a.length;if(0>=b)return a;for(;c<b&&-1<"\n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff".indexOf(a.charAt(c));)c++;if(c===b)return"";for(var f=b-1;f>c&&-1<"\n\r\t\f\x0B\u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff".indexOf(a.charAt(f));)f--;
return 0<c||f<b?a.slice(c,f+1):a}function k(a){if("number"!==typeof a&&"string"===typeof a){a.indexOf("_")&&(a=a.replace(/_/g,"."));if(!/^\d+\.?$/.exec(a))if(y.exec(a))a=y.exec(a)[1];else return a;try{return parseFloat(a)||a}catch(c){return a}}else return a}function m(){if(!g.Qb||!g.Qb.Kc){var h=window.navigator,c=h.userAgent,b=a(c,/\bAndroid +(\d+\.\d+)\b/g),f=a(c,/\bAppleWebKit\/(\d+\.\d+)\b/g),y=a(c,/\bGecko\/(\d+)\b/gi),r=a(c,/\bChrome\/(\d+\.\d+(.\d+)*)\b/g),d=a(c,/\bFirefox\/(\d+\.\d+(.\d+)*)\b/gi),
x=a(c,/\bSafari\/(\d+\.\d+(.\d+)*)\b/gi),l=a(c,/\bMac OS X \/(\d+\_\d+)\b/gi),J=x&&a(c,/\bMobile\/(\w+)\b/gi),m=f&&a(c,/\bMobile\/(\w+)\b/gi),D=a(c,/\bMobile\/(\w+)\b/gi),E=a(c,/\bVersion\/(\d+\.\d+)\b/gi),t=a(c,/\bOS (\d+_\d+(_\d)*)\b/gi),O=/ubuntu/gi.test(c),L=/redhat/gi.test(c),z=/linux/gi.test(c),v=/Macintosh/gi.test(c),M=/Touchpad/gi.test(c),Q=/iphone/gi.test(c),C=/ipad/gi.test(c),A=Q||C||b||M,c=(Q||C)&&(a(c,/\bVersion\/(\d+\.\d+)\b/gi)||!0),y=q((b?" Android/"+b:"")+(f?" WebKit/"+f:"")+(y?" Gecko/"+
y:"")+(r?" Chrome/"+r:"")+(d?" Firefox/"+d:"")+(x?" Safari/"+x:"")+(J?" MobileSafari/"+J:"")+(m?" MobileWebKit/"+m:"")+(c?" IOS/"+c:"")+(l?" OSX/"+l:"")+(h.platform?" "+h.platform:"")+(Q?" iPhone":"")+(C?" iPad":"")+(M?" TouchPad":"")+(A?" touch":" mouse"));h.vendor&&(w.vendor=h.vendor);h.platform&&(w.platform=h.platform);h.oscpu&&(w.oscpu=h.oscpu);h.cookieEnabled&&(w.by=h.cookieEnabled);h.Nr&&(w.hC=h.Nr);h.dg&&(w.dg=h.dg);w.lm=y;b&&(w.mn=k(b),w.Yw=b);c&&(w.vl=k(t)||c,w.ZA=c,Q&&(w.aB=c),C&&(w.$A=
c));r&&(w.Px=r,w.chrome=k(r));C&&(w.BA=!0);Q&&(w.CA=!0);l&&(w.xC=k(l),w.yC=l);f&&(w.MF=k(f),w.PF=f);x&&(w.rD=k(x),w.sD=x);J&&(w.RB=J,w.Bl=k(J));m&&(w.TB=m,w.SB=k(m));D&&(w.QB=D);E&&(w.version=E);v&&(w.cB=!0);O&&(w.oF=!0);L&&(w.bD=!0);z&&(w.sB=!0);A?w.ca=!0:w.Dc=!0;e("Device: %j",w)}}var e=g.t,v=!1,l=[],A=[],t={};g.kb=function(a,c,b){var f;a&&a.call?f=!0:(e.warn("Bad argument to addInit(): %s",c||"anonymous",a),f=!1);if(f){f=c&&t[c];for(var k=0,r=l.length;k<r;){if(f&&l[k]===f||l[k]===a){v?(e.warn("Replacing init %s which has already run",
c),b&&(e.warn("Running the new version"),l[k]=a,c&&(t[c]=a),a())):(l[k]=a,c&&(t[c]=a));return}k++}c&&(t[c]=a);l.push(a);v?(a(),A.push(!0)):A.push(!1)}};g.Hm=function(){var a=[];if(v)return!1;for(var c in t)t.hasOwnProperty(c)&&a.push(c);0===a.length?e("Running %d DOM inits",l.length):a.length===l.length?e("Running %d DOM inits (%s)",l.length,a.join()):e("Running %d DOM inits (including %s)",l.length,a.join());a=0;for(c=l.length;a<c;)A[a]||(A[a]=!0,l[a]()),a++;v=!0};var y=/^(\d+(\.\d+)).*/,w=g.Qb||
(g.Qb={});"undefined"!==typeof window&&window.navigator&&window.navigator.appVersion&&m()})();g.$a=function(){function a(b,c,d){if(1===arguments.length)return window.sessionStorage&&v(b)||window.sessionStorage&&t(b)||q(b);if(d)if(window.localStorage)c?A(b,c):y(b);else{var f=a.domain||location.hostname,h=a.path||"/",r=a.duration||220752E3;c?k(b,c,r,h,f):m(b,h,f)}else c?window.sessionStorage?e(b,c):k(b,c):window.sessionStorage?l(b):m(b)}function q(a,b){try{var c=document.cookie,d=c.search(new RegExp("(^|(; ))"+a+"=","g")),f;if(0<=d){var h=c.indexOf("=",d)+1,e=c.indexOf(";",h);f=0<e?c.slice(h,
e):c.slice(h)}else return!1;return b?JSON.parse(decodeURIComponent(f)):decodeURIComponent(f)}catch(z){return!1}}function k(a,b,c,d,h){try{if(b){var e="string"===typeof b?b:b.toJSON?b.toJSON():b.toString?b.toString():b,r=a+"="+encodeURIComponent(e);if(c)if("string"===typeof c)r=r+"; "+c;else if(c.toGMTString)r=r+"; expires="+c.toGMTString();else if("number"===typeof c)if(0<c){var z=new Date;z.setTime(z.getTime()+c);r=r+"; expires="+z.toGMTString}else r+="; expires=Sun 1 Jan 2000 00:00:00 UTC";d&&(r=
r+"; path="+d);h&&(r=r+"; domain="+h);document.cookie=r}else m(a,d,h)}catch(k){f.warn("Error setting cookie %s",a)}}function m(a,b,c){try{var d=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT";b&&(d=d=d+"; path="+b);c&&(d=d=d+"; domain="+c);document.cookie=d}catch(h){f.warn("Error clearing cookie %s: %s",a,h)}q(a)&&(document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT")}function e(a,b,c){c&&(b=JSON.stringify(b));window.sessionStorage?window.sessionStorage[a]=
b:k(a,b)}function v(a,b){var c=window.sessionStorage?window.sessionStorage[a]:q(a);return c?b?JSON.parse(c):c:!1}function l(a){if(window.sessionStorage)return window.sessionStorage.removeItem(a);m(a)}function A(a,b,c){if(!a)throw{error:"bad name",name:a};if("undefined"===typeof b)throw{error:"undefined value",name:a};if(b){if(c&&(b=JSON.stringify(b)),window.localStorage)if(a instanceof RegExp){c=[];for(var d=window.localStorage,f=0,h=d.length;f<h;){var e=d.key(f++);0<=e.search(a)&&c.push(e)}f=0;for(h=
c.length;f<h;)d[c[f++]]=b}else window.localStorage[a]=b}else y(a)}function t(a,b){if(a){if(window.localStorage){if(a instanceof RegExp){for(var c=window.localStorage,d=0,f=c.length;d<f;){var h=c.key(d++);if(0<=h.search(a))return b?JSON.parse(c[h]):c[h]}return!1}return(c=window.localStorage[a])?b?JSON.parse(c):c:!1}return!1}throw{error:"bad name",name:a};}function y(a){if(window.localStorage)if(a instanceof RegExp){for(var b=[],c=window.localStorage,d=0,f=c.length;d<f;){var h=c.key(d++);0<=h.search(a)&&
b.push(h)}d=0;for(f=b.length;d<f;)c.removeItem(b[d++])}else return window.localStorage.removeItem(a);else return!1}function w(a,b,c,d,f,e){var r=[];b=encodeURIComponent(b);d=new RegExp("(&|^)"+b+"(=|&|$)",d?"g":"gi");for(e=a.search(d);0<=e;){var z=e+b.length,k=a.slice(z+1),x=k.search(/(&|$)/g);if("="===a[z]){if(0>=x?r.push(""):(r.push(k.slice(0,x)),x=x+z+1),!c)break}else if(c)r.push(a.slice(e,x));else return f?a.slice(e,x):h(a.slice(e,x));0<x&&(a=a.slice(x),e=a.search(d))}if(!f)for(a=0,f=r.length;a<
f;)r[a]=h(r[a]),a++;return c?r:r.length?r[0]:!1}function h(a){return decodeURIComponent?decodeURIComponent(a):a.replace(/%3A/gi,":").replace(/%2F/gi,"/").replace(/%3F/gi,"?").replace(/%3D/gi,"=").replace(/%20/gi," ").replace(/%40/gi,"@").replace(/%23/gi,"#")}function c(a){if(a){if("string"===typeof a)return new RegExp("\\b"+a+"\\b","gi");if(a.length){for(var b="\\b(",c=0;c<a.length;){var d=a[c];0<c&&(b+="|");b=b+"("+d+")";c++}return new RegExp(b+")\\b","gi")}return!1}return a}function b(a){return 12===
a.length?a:12<a.length?a.slice(0,12):"000000000000000000000000000000000000000000000000000000000000000".slice(0,12-a.length)+a}var f=g.t,F=g.String;a.domain=!1;a.path=!1;a.duration=!1;a.$d=q;a.Gp=k;a.In=m;a.Wu=e;a.Gi=v;a.Yn=function(a){if(a){if(window.sessionStorage){if(a instanceof RegExp){for(var b=window.sessionStorage,c=0,d=b.length;c<d;)if(0<=b.key(c++).search(a))return!0;return!1}return"undefined"===typeof window.sessionStorage[a]?!1:!0}return!1}throw{error:"bad name",name:a};};a.Pr=l;a.Br=function(){if(window.sessionStorage){for(var a=
window.localStorage,b=0,c=a.length,d=[];b<c;)d.push(a.key(b++));for(b=0;b<c;)a.removeItem(d[b++])}};a.uB=function(a){var b=[];"string"===typeof a&&(a=new RegExp("^"+F.Qk(a),"g"));if(window.sessionStorage){var c=window.sessionStorage,d=0,f=c.length,h=!1;if(!a)for(;d<f;)b.push(c.key(d++));else if(a instanceof RegExp)for(;d<f;)h=c.key(d++),0<=h.search(a)&&b.push(h)}return b};a.lc=A;a.Da=t;a.np=function(a,b){if(!a)throw{error:"bad name",name:a};var c=window.localStorage[a],d=!1;if(c)if(d=JSON.parse(c),
Array.isArray(d)||(d=[d]),0>d.indexOf(b))d.push(b);else return!1;else d=[b];window.localStorage[a]=JSON.stringify(d);return!0};a.sp=function(a,b){if(!a)throw{error:"bad name",name:a};var c=window.localStorage[a];if(c){var c=JSON.parse(c),d;if(c===b){y(a);return}if(Array.isArray(c))d=c.indexOf(b);else return;if(0>d)return;c.splice(d,1);window.localStorage[a]=JSON.stringify(c)}return!0};a.Sr=function(a){if(a){if(window.localStorage){if(a instanceof RegExp){for(var b=window.localStorage,c=0,d=b.length;c<
d;)if(0<=b.key(c++).search(a))return!0;return!1}return"undefined"===typeof window.localStorage[a]?!1:!0}return!1}throw{error:"bad name",name:a};};a.Wy=function(a,b,c){if(window.localStorage){for(var d={},f=window.localStorage,h=0,e=f.length;h<e;){var z=f.key(h++);if(!a||0<=z.search(a)){var r=f[z];if(!b||0<=r.search(b)){if(c)try{r=JSON.parse(r)}catch(k){}d[z]=r}}}return d}return!1};a.Ib=y;a.tB=function(a){var b=[];"string"===typeof a&&(a=new RegExp("^"+F.Qk(a),"g"));if(window.localStorage){var c=window.localStorage,
d=0,f=c.length,h=!1;if(!a)for(;d<f;)b.push(c.key(d++));else if(a instanceof RegExp)for(;d<f;)h=c.key(d++),0<=h.search(a)&&b.push(h)}return b};a.Gk=function(){if(window.localStorage){for(var a=window.localStorage,b=0,c=a.length,d=[];b<c;)d.push(a.key(b++));for(b=0;b<c;)a.removeItem(d[b++])}};a.Dz=w;a.ae=function(a,b,c,d){if(!location.search)return b?[]:!1;var f=location.search;"?"===f[0]&&(f=f.slice(1));return w(f,a,b,c,d)};a.xs=function(a,b,c,d){if(!location.hash)return b?[]:!1;var f=location.hash;
"#"===f[0]&&f.slice(1);return w(location.hash,a,b,c,d)};a.UE=function(a,b){for(var d=a&&new RegExp("\\b"+a+"\\b"),f=b&&c(b),h=2;h<arguments.length;){var e=arguments[h++];if(e)if("string"===typeof e){if(d&&0<=e.search(d))return!0;if(f&&0<=e.search(f))break}else if(e.length){d=0;for(f=e.length;d<f;){if(a&&e[d]===a)return!0;if(b&&e[d]===b)break;else d++}break}}return!1};a.cx=function(a,b){for(var c=b||0,d=Array(a.length-c);c<a.length;)d[c-b]=a[c],c++;return d};var r=b((Math.floor(65536*Math.random()).toString(16)+
Math.floor(65536*Math.random()).toString(16)+Math.floor(65536*Math.random()).toString(16)+(Math.floor(65536*Math.random())|1)).toString(16)),d=Math.floor(16384*Math.random()),x=1,K=(new Date).getTime();a.Cs=function(){return r};a.Ip=function(a){if("number"===typeof a)r=b(a.toString(16));else if("string"===typeof a)if(0>a.search(/[^0123456789abcdefABCDEF]/))r=b(a);else throw{error:"invalid node id",value:a};else throw{error:"invalid node id",value:a};};a.Hi=function(a){var c=(new Date).getTime();c<
K?(c*=1E4,d++):c===K?c=1E4*c+x++:(c*=1E4,x=1);a||(a=r);var c=(c+122192928E9).toString(16),f=c.length;15>f&&(c="000000000000000000000000000000000000000000000000000000000000000".slice(0,15-f)+c);return c.slice(7)+"-"+c.slice(3,7)+"-1"+c.slice(0,3)+"-"+(32768+d%16384).toString(16)+"-"+(a?"number"===typeof a?b(a.toString(16)):b(a):r)};a.Wv=function(){for(var a=navigator.userAgent,b={},c;0<=(c=a.search(/\w+\/\d/g));){var d=a.indexOf("/",c),f=a.slice(d+1),h=f.search(/\W/),e=f.slice(0,h);try{b[a.slice(c,
d)]=parseInt(e,10)}catch(z){b[a.slice(c,d)]=e}a=f.slice(h)}b.yx=b.Chrome?"Chrome":b.Opera?"Opera":b.Safari?"Safari":b.Safari&&b.Mobile?"MobileSafari":b.Firefox?"Firefox":b.Explorer||b.IE||b.InternetExplorer||b.MSIE?"IE":b.Mozilla?"Mozilla":"Browser";b.platform=navigator.platform||"Turing";return b};a.Mz=function(){var a=window.getComputedStyle(document.body,":after").getPropertyValue("content");return a=a.replace(/"/g,"")};a.Js=function(){var a=window.location.href,b=a.indexOf("#"),c=a.indexOf("?"),
a=0<=c?a.slice(0,c):0<=b?a.slice(0,b):a;return a+""};return a}();var kb={},qb=g.Qb;!window.indexedDB||qb.vl&&qb.dg?(kb.indexedDB=xa.ke,kb.IDBDatabase=xa.IDBDatabase,kb.IDBTransaction=xa.IDBTransaction,kb.IDBCursor=xa.IDBCursor,kb.IDBKeyRange=xa.IDBKeyRange):(kb.indexedDB=window.indexedDB,kb.IDBDatabase=window.IDBDatabase,kb.IDBTransaction=window.IDBTransaction,kb.IDBCursor=window.IDBCursor,kb.IDBKeyRange=window.IDBKeyRange,kb.IDBTransaction=window.IDBTransaction,kb.IDBTransaction=window.IDBTransaction);
g.rl=kb;g.b=function(){function a(a){var b;if(a.nodeType)b=a;else{if("string"===typeof a&&"<"===a[0]){b=document.createDocumentFragment();b.innerHTML=a;var c=b.childNodes;return 1===c.length?c[0]:b}if("string"!==typeof a||"#"!==a[0]||!(b=document.getElementById(a.slice(1))))if("string"===typeof a){c=a.match(da);if(!c)return Na.warn("bad CSS spec"),!1;var n=!1;b=document.createElement(c[0]);for(var d=1,f=c.length;d<f;){var p=c[d++];if("#"===p[0])b.id=p.slice(1);else if("."===p[0])n=n?n+" "+p.slice(1):p.slice(1);
else if("["===p[0]){var B=p.indexOf("=");if(0>B)b.setAttribute(p.slice(1,p.length-1),p.slice(1,p.length-1));else{var h=p.slice(B+1,p.length-1);if("'"===h[0]&&"'"===h[h.length-1]||'"'===h[0]&&'"'===h[h.length-1])h=h.slice(1,h.length-1);b.setAttribute(p.slice(1,B),h)}}}n&&(b.className=n)}else for(c in b=document.createElement(a.tagName||"span"),a)"tagName"!==c&&b.setAttribute(c,a[c])}c=1;for(n=arguments.length;c<n;)k(b,arguments[c++]);return b}function q(a){return a&&(document.getElementById(a)||"#"===
a[0]&&document.getElementById(a.slice(1)))}function k(a,b,c){if(0===b)a.appendChild(document.createTextNode("0"));else if(b)if(b.nodeType)a.appendChild(b);else if("string"===typeof b)a.appendChild(document.createTextNode(b));else{if(b.Kd)return k(a,b.Kd());if(b.Ld)return k(a,b.Ld());if(b.length&&(!c||c<b.length)){var n=window.DocumentFragment&&a instanceof window.DocumentFragment?a:document.createDocumentFragment();b=window.NodeList&&b instanceof window.NodeList?v(b):b;var d=b.length;for("undefined"===
typeof c&&(c=0);c<d;){var f=b[c++];"string"===typeof f?n.appendChild(document.createTextNode(f)):"number"===typeof f?n.appendChild(document.createTextNode(f.toString())):f&&(f.nodeType?n.appendChild(f):f.length?k(n,f,0):f.Kd?k(n,f.Kd()):f.Ld?k(n,f.Ld()):f.toString?n.appendChild(document.createTextNode(f.toString())):n.appendChild(document.createTextNode(""+f)))}a!==n&&a.appendChild(n)}else b.length||a.appendChild(document.createTextNode(""+b))}else return;return a}function m(a,b,c){var n=a.parentNode;
if(!b.nodeType||b!==a){if(b.nodeType)n.insertBefore(b,a);else if("string"===typeof b)n.insertBefore(document.createTextNode(b),a);else{if(b.Kd)return m(a,b.Kd());if(b.Ld)return m(a,n,b.Ld());if(1<b.length-c){var d=window.wy&&n instanceof window.DocumentFragment?n:document.createDocumentFragment();k(d,b,c);n.insertBefore(d,a);return a}if(b.length){b=b[c];if(b===a)return;n.insertBefore(b,a)}else n.insertBefore(document.createTextNode(""+b),a)}return n}}function e(a){return Ya.call(a)}function v(a,b){return a.constructor===
Array||a instanceof Array?b?a.slice(b):a:Ya.call(a,b||0)}function l(a,b){"undefined"===typeof b&&(b=0);if(0===a)return 0;if(a){if("none"===a||"auto"===a)return b;if("number"===typeof a)return a;if("string"===typeof a){var c=a.length,n=!1,n=2<c&&"x"===a[c-1]&&"p"===a[c-2]?parseInt(a.slice(0,-2),10):parseInt(a,10);return 0===n?0:isNaN(n)?b:"number"===typeof n?n:b}return!1}return b}function A(a){var b=new RegExp("\\b"+a+"\\b","g");return va[a]=b}function t(a,b,c,n){var d=[],d=0<=b.search(/(\.|#|\[|,)/g)?
K(a,b):a.getElementsByClassName?a.getElementsByClassName(b):K();if(0===d.length)return n?[]:!1;if(n){a=[];b=0;for(n=n.length;b<n;){var f=d[b++].innerText;c?a.push(JSON.parse(f)):a.push(f)}return a}return c?JSON.parse(d[0].innerText):d[0].innerText}function y(a,b,c){if(a&&("string"!==typeof a||(a=document.getElementById(a)))){a=c?a.getAttribute(c)||"":a.className;if("string"!==typeof a||""===a)return!1;if(!0===b||a===b)return!0;if("string"===typeof b){if(0>a.indexOf(" "))return!1;b=va[b]||A(b)}return 0<=
a.search(b)?!0:!1}}function w(a,b,c){if(a&&b){if("string"===typeof a){if(!(a=document.getElementById(a)))return}else{if(window.NodeList&&a instanceof window.NodeList)return w(v(a),b,c);if(a.length&&!a.nodeType){a=v(a);for(var n=0,d=a.length;n<d;)w(a[n++],b,c||!1);return}if(!c&&a.classList&&"string"===typeof b){a.classList.contains(b)||a.classList.add(b);return}}if((n=(c?a.getAttribute(c)||"":a.className)||null)&&"string"!==typeof n)return Na.warn("Non string classname for %o",a),!1;if(!n)return a.className=
b,!0;var d=va[b]||A(b),f=n;if(n===b||0<=n.search(d))return!1;f=b+" "+n;c?(a.setAttribute(c,f),a.className=a.className):a.className=f;return!0}}function h(a,b,c,n){if(a){if("string"===typeof a){if(!(a=document.getElementById(a)))return}else{if(window.NodeList&&a instanceof window.NodeList)return h(v(a),b,c);if(a.length&&!a.nodeType){a=v(a);n=0;for(var d=a.length;n<d;)h(a[n++],b,c||!1);return}if(!c&&a.classList&&"string"===typeof b){a.classList.contains(b)&&a.classList.remove(b);return}}d=(c?a.getAttribute(c)||
"":a.className)||null;if("string"!==typeof d||""===d)return!1;var f="string"===typeof b?va[b]||A(b):b,p=d;if(d===b)p="";else if(0<=d.search(f))p=d.replace(f,"");else return!1;p&&(p=p.replace(Ua," ").replace(gb,""));c?p?(a.setAttribute(c,p),a.className=a.className):n||(a.removeAttribute(c),a.className=a.className):a.className=p?p:"";return!0}}function c(a,b,n,d){if("string"===typeof a)a=document.getElementById(a);else{if(window.NodeList&&a instanceof window.NodeList)return c(v(a),b,n);if(a.length&&
!a.nodeType){a=v(a);d=0;for(var f=a.length;d<f;)c(a[d++],b,n||!1);return}if(!n&&a.classList&&"string"===typeof b){a.classList.toggle(b);return}}f=(n?a.getAttribute(n)||"":a.className)||null;if("string"!==typeof f||""===f)return n?a.setAttribute(n,b):a.className=b,!0;var p="string"===typeof b?va[b]||A(b):b,B=f;if(f===b)B="";else if(0<=f.search(p))B=f.replace(p,"");else return n?a.setAttribute(n,f+" "+b):a.className=f+" "+b,!0;B&&(B=B.replace(Ua," ").replace(gb,""));n?B?(a.setAttribute(n,B),a.className=
a.className):d||(a.removeAttribute(n),a.className=a.className):a.className=B;return!1}function b(a,b,n,d,f){(a=x(a,b))&&c(a,n,d,f)}function f(a,b){var c,n;if(a){if(cb[a])return cb[a];if(!(this instanceof f))return f.call(new f,a)}else return this;if(Array.isArray(a)||"string"===typeof a&&0<a.indexOf(",")){var d=[],p=[];if("string"===typeof a)p=a.split(",");else for(c=0,n=a.length;c<n;)"string"!==typeof a[c]?c++:0<=a[c].indexOf(",")?p=p.concat(a[c++].split(",")):p.push(a[c++]);c=0;for(n=p.length;c<
n;){var B;B=p[c++];var h=B.search(/\S/),e=B.search(/\s+$/g);B=0===h&&0>e?B:B.slice(h,e);(B=new f(B))&&d.push(B)}this.ii=d;cb[a]=this;this.Jc="string"===typeof a?a:p.join(",");return this}d=a.match(da);p=[];B=[];h=!1;d||Na.warn("Couldn't parse spec %s",a);if(d)for(c=0,n=d.length,"."!==d[0][0]&&"#"!==d[0][0]&&"["!==d[0][0]&&(this.tag=b?d[0]:d[0].toUpperCase(),c=1);c<n;)if("#"===d[c][0])this.id=d[c++].slice(1);else if("."===d[c][0])B.push(d[c].slice(1)),p.push(A(d[c++].slice(1)));else if("["===d[c][0]){var e=
d[c++],za=e.length-1;h||(h={});var z=e.indexOf("=");0>z?h[e.slice(1,za)]=!0:"~"===e[z+1]?h[e.slice(1,z)]=A(e.slice(z+2,za)):h[e.slice(1,z)]=e.slice(z+1,za)}else Na.Uj("weird elts %o",d[c++]);p.length&&(this.qd=p,this.xr=B);h&&(this.Ge=h);cb[a]=this;this.Jc=a;return this}function F(a,b,c){if(1===a.nodeType){var n=a.className;"string"===typeof n&&0<=n.search(b)&&c.push(a);if(a=a.childNodes)for(var n=0,d=a.length;n<d;)F(a[n++],b,c)}}function r(a,b,c){if(1===a.nodeType&&(("string"===typeof b?a.tagName.dF()===
b:b instanceof RegExp&&b.match(a.tagName))&&c.push(a),a=a.childNodes))for(var n=0,d=a.length;n<d;)r(a[n++],b,c)}function d(a,b,c,n){if(1===a.nodeType&&(a.getAttribute(b)&&("string"===typeof c?a.getAttribute(b)===c:0<=a.getAttribute(b).search(c))&&n.push(a),a=a.childNodes))for(var f=0,p=a.length;f<p;)d(a[f++],b,c,n)}function x(a,b){"string"===typeof a&&(a="#"===a[0]?document.getElementById(a.slice(1)):document.getElementById(a));if(a&&b){if(b.nodeType){for(;a;){if(a===b)return b;a=a.parentNode}return!1}if("function"===
typeof b){for(;a;){if(b(a))return a;a=a.parentNode}return!1}if(b instanceof f){for(;a;){if(1===a.nodeType&&b.match(a))return a;a=a.parentNode}return!1}if(b instanceof RegExp){for(;a;){if(1===a.nodeType&&a.className&&b.test(a.className))return a;a=a.parentNode}return!1}if("string"===typeof b)return x(a,new f(b));throw{error:"invalid parent spec"};}return!1}function K(a,b,c,n){"string"===typeof a&&(a=q(a));if(!a)return[];n||(n=[]);if(c){if("string"!==typeof c)throw{error:"bad selector arg",Cp:b};c=
c||!1;var p=n;c?"class"===c?F(a,b,p):"tagName"===c?r(a,b,p):d(a,c,b,p):F(a,b,p)}else if("function"===typeof b)G(a,b,n);else if(b instanceof RegExp)D(a,b,n);else{if(b instanceof f)return b.find(a,n);if("string"===typeof b)return Aa&&a.querySelectorAll?a.querySelectorAll(b):K(a,new f(b),!1,n);if(b.length)for(var p=0,B=b.length;p<B;)K(a,b[p++],c,n)}return n}function J(a,b){var c=K(a,b);return c.length?c[0]:!1}function G(a,b,c){if(1===a.nodeType&&(b(a)&&c.push(a),a=a.childNodes))for(var n=0,d=a.length;n<
d;)G(a[n++],b,c)}function D(a,b,c){if(1===a.nodeType){var n=a.className;"string"===typeof n&&0<=n.search(b)&&c.push(a);if(a=a.childNodes)for(var n=0,d=a.length;n<d;)D(a[n++],b,c)}}function E(a){if(a instanceof Array)for(var b=0,c=a.length;b<c;)E(a[b++]);else b=a,"string"===typeof a&&(b="#"===a[0]?document.getElementById(a.slice(1)):document.getElementById(a)),b&&b.parentNode?b.parentNode.removeChild(b):b?Na.Uj("Looks like %o has already been removed (no parent)",b):Na.Uj("Can't find %o to remove it",
a)}function P(a,b){if(a){if("string"===typeof a){var c=a.search(/\w/g);if(0>a.search(/\W/g))return b+"."+a;if(0!==c)return b+a}else a.tagName||(a.tagName=b);return a}return b}function O(a,b,c){var n=[];if("string"===typeof a){var d=document.getElementById(a);d||Na.warn("Couldn't resolve %s to an object",a);a=d}if(!a)return n;for(var d=a.getElementsByTagName("input"),f=0,p=d.length;f<p;)b&&d[f].name!==b||c&&d[f].type!==c?f++:n.push(d[f++]);if(!c||"textarea"===c||"text"===c)for(d=a.getElementsByTagName("textarea"),
f=0,p=d.length;f<p;)b&&d[f].name!==b||c&&d[f].type!==c?f++:n.push(d[f++]);if(!c||"button"===c||"submit"===c)for(d=a.getElementsByTagName("button"),f=0,p=d.length;f<p;)b&&d[f].name!==b||c&&d[f].type!==c?f++:n.push(d[f++]);if(!c||"select"===c)for(d=a.getElementsByTagName("select"),f=0,p=d.length;f<p;)b&&d[f].name!==b?f++:n.push(d[f++]);return n}function L(a,b,c){"string"===typeof a&&(a=document.getElementById(a));if(!a)return[];var n=[];a=a.getElementsByTagName("input");for(var d=0,f=a.length;d<f;){var p=
a[d++];p.name===b&&p.value===c&&n.push(p)}return n}function z(a,b){"string"===typeof a&&(a=document.getElementById(a));if(!a)return a;if(1!==a.nodeType)throw"Not an element";var c=window.getComputedStyle&&window.getComputedStyle(a,null)||a.currentStyle;return c?b?c[b]:c:!1}function W(a){a=a.style;var b;if(!a)return!1;var c=0,n=a.length;if(0===n)return!1;for(;c<n;){var d=a[c],f=a[d];b=0===c?d+": "+f:b+"; "+d+": "+f;c++}return b}function M(a,b,c,n){if(a.nodeType){if(3===a.nodeType)return b?a.nodeValue.replace(/\s+/,
" "):a.nodeValue;if(1===a.nodeType){c=a.childNodes;var d=z(a),f=d.display,p=d.position,B=a.className,h="",e="";"normal"!==d.whiteSpace&&(b=!1);if("none"===f||"static"!==p&&""!==p||"string"===typeof B&&("fdjtskiptext"===B||0<=B.search(/\bfdjtskiptext\b/)))return"";if(!c||0===c.length)return n?a.alt?"["+a.alt+"]":"[?]":"";f&&"inline"!==f&&(b?e=" ":"block"===f||"table"===f||"preformatted"===f?e=h="\n":"table-row"===f?e="\n":"table-cell"===f&&(h="\t"));for(a=0;a<c.length;)d=c[a++],d.nodeType&&(3===d.nodeType?
h=b?h+d.nodeValue.replace(/\s+/," "):h+d.nodeValue:1===d.nodeType&&(d=M(d,b,0,n))&&(h+=d));return h+e}}else return a.toString()}function Q(a,b){if(a)"string"===typeof a&&(a=document.getElementById(a));else return this;if(a){var c=a.offsetTop,n=a.offsetLeft,d=a.offsetWidth,f=a.offsetHeight,p=b&&b.offsetParent;this.Sb=a;this.root=b;if(a===b)c=n=0;else for(a=a.offsetParent;a&&(!b||a!==b&&a!==p);)c+=a.offsetTop,n+=a.offsetLeft,a=a.offsetParent;this.left=n;this.top=c;this.width=d;this.height=f;this.right=
n+d;this.bottom=c+f;return this}}function C(a,b,c){c=c?[]:!1;if(a)"string"===typeof a&&(a=document.getElementById(a));else return this;var n=a.offsetTop,d=a.offsetLeft,f=a.offsetWidth,p=a.offsetHeight,B=b&&b.offsetParent,h=z(a);this.Sb=a;this.root=b;if(a===b)n=d=0;else for(a=a.offsetParent;a&&(!b||a!==b&&a!==B);)c&&c.push(a),n+=a.offsetTop,d+=a.offsetLeft,a=a.offsetParent;this.left=d;this.top=n;this.width=f;this.height=p;this.right=d+f;this.bottom=n+p;if(h){a=l(h.marginTop);b=l(h.marginRight);var n=
l(h.marginBottom),d=l(h.marginLeft),B=l(h.paddingTop),e=l(h.paddingRight),za=l(h.paddingBottom),H=l(h.paddingLeft),r=l(h.borderTopWidth),k=l(h.borderRightWidth),I=l(h.borderBottomWidth),S=l(h.borderLeftWidth),x=f+d+b,y=p+a+n,f=f-(S+H+k+e),p=p-(r+B+I+za),ea=h.lineHeight,h=h.fontSize,F=!1,F="normal"===ea?l(h):0<ea.search(/px$/)?l(ea):0<ea.search(/%$/)?parseFloat(ea.slice(0,-1))/100*l(h):l(h);this.mq=a;this.sr=n;this.yt=d;this.Du=b;this.Gv=r;this.rr=I;this.xt=S;this.vp=k;this.Hv=B;this.Bn=za;this.zt=
H;this.Eu=e;this.bu=y;this.cu=x;this.ad=p;this.Sg=f;this.Io=F}c&&(this.stack=c);return this}function V(a,b,c){return c?new C(a,b):new Q(a,b)}function ba(a){if(3===a.nodeType)return a.nodeValue.length;if(1!==a.nodeType)return 0;var b=z(a),c=b.display,b=b.position;if("none"===c||""!==b&&"static"!==b||"string"!==typeof a.className||"fdjtskiptext"===a.className||"string"===typeof a.className&&0<=a.className.search(/\bfdjtskiptext/))return 0;if(a.getAttribute("data-locwidth"))return parseInt(a.getAttribute("data-locwidth"));
if(a.childNodes){b=a.childNodes;a="inline"===c?0:/^(li|td|dt|dd|label|input)$/i.exec(a.tagName)?1:2;for(var c=0,n=b.length,d=0;c<n;){var f=b[c++];3===f.nodeType?d+=f.nodeValue.length:1===f.nodeType&&(d+=ba(f))}return d+2*a}return a.alt?a.alt.length+2:3}function H(a,b,c,n){if(a===n)return!1;if(3===a.nodeType)return 0<=a.nodeValue.search(/\w/g);if(1!==a.nodeType)return!1;if(c&&c.match&&c.match(a)||0===a.tagName.search(hb))return!0;if(!("string"===typeof a.className&&0<=a.className.search(/\bfdjtskiptext\b/g))&&
a.childNodes&&a.childNodes.length){a=a.childNodes;for(var d=0;d<a.length;){var f=a[d++];if(f===n)break;else if(3===f.nodeType){if(0<=f.nodeValue.search(/\w/g))return!0}else if(1===f.nodeType&&b&&H(f,b,c,n))return!0}}return!1}function R(a,b,c){a||(a=document);if("string"===typeof a){var n=q(a);if(!a){Na.warn("Can't find #%s",a);return}a=n}else{if(Array.isArray&&Array.isArray(a)||window.NodeList&&a instanceof window.NodeList){for(var n=0,d=a.length;n<d;)R(a[n++],b,c);return}if(a!==window&&!a.nodeType){Na.warn("Bad target(s) arg to addListener(%s) %o",
b,a);return}}if("title"===b)"string"===typeof c&&(a.title=a.title?"("+c+") "+a.title:c);else if("="===b[0])a[b.slice(1)]=c;else{if(a.addEventListener)return a.addEventListener(b,c,!1);if(a.attachEvent)return a.attachEvent("on"+b,c);Na.warn("This node never listens: %o",a)}}function p(a,b){if(b)for(var c in b)if(b.hasOwnProperty(c)){var n=!1;if(b[c].call)if(Qa.exec(c))R(a,c,b[c]);else if(n=Ka.exec(c)){var d=n[2],f=b[c],n=a.querySelectorAll(n[1]);R(n,d,f)}}}function ea(a,b,c){a||(a=document);if("string"===
typeof a){var n=q(a);if(!a){Na("Can't find #%s",a);return}a=n}else{if(Array.isArray&&Array.isArray(a)||window.NodeList&&a instanceof window.NodeList){for(var n=0,d=a.length;n<d;)ea(a[n++],b,c);return}if(a!==window&&!a.nodeType){Na.warn("Bad target(s) arg to removeListener(%s) %o",b,a);return}}if(a.removeEventListener)return a.removeEventListener(b,c,!1);if(a.detachEvent)return a.detachEvent("on"+b,c);Na.warn("This node never listens: %o",a)}function S(a){a=a||window.event;return a.target||a.srcElement}
function aa(a){var b=!1,c=!1,n=!1,d=!1;a=a.childNodes;for(var f=0,p=a.length;f<p;){var B=a[f++];if("number"===typeof B.offsetLeft){var h=z(B);if("static"===h.position){var e=B.offsetLeft-l(h.marginLeft),za=B.offsetTop-l(h.marginTop),H=B.offsetLeft+B.offsetWidth+l(h.marginRight),B=B.offsetTop+B.offsetHeight+l(h.marginBottom);!1===b?(b=e,n=H,c=za,d=B):(e<b&&(b=e),za<c&&(c=za),H>n&&(n=H),B>d&&(d=B))}}}return{left:b,right:n,top:c,bottom:d,width:n-b,height:d-c}}function ca(b,c){var n=a.J(b,"IMG"),d=n.length;
if(c){b.scale=c;b.style.fontSize=c+"%";var f=10*Math.round(c/10);a.h(b,"fdjtscaled");a.pc(b,/\bfdjtscale\d+\b/,"fdjtscale"+f)}else if(b.scale)delete b.scale,b.style.fontSize="",a.l(b,"fdjtscaled"),a.l(b,/\bfdjtscale\d+\b/);else return;for(f=0;f<d;){var p=n[f++];if(!a.L(p,"nofdjtscale")&&!a.L(p,"noautoscale")&&(p.style.maxWidth=p.style.width=p.style.maxHeight=p.style.height="",c)){var B=p.offsetHeight;p.style.maxWidth=p.style.width=Math.round(c/100*p.offsetWidth)+"px";p.style.maxHeight=p.style.height=
Math.round(c/100*B)+"px"}}}function ia(b,c,n,d){n||(n=b.getAttribute("data-origin"));d||(d=b.getAttribute("data-shrink"));c||(c=b.getAttribute("data-fudge"));var f=b.firstChild;(f="fdjtadjusted"===f.className?f:J(b,"fdjtadjusted"))&&f.setAttribute("style","");var p=V(b,!1,!0),B=aa(b),h=c?c*p.Sg:p.Sg;c=c?c*p.ad:p.ad;if(!(B.height<=c&&B.width<=h&&(!d||B.height<c&&B.height>=.9*c||B.width<p.Sg&&B.width>=.9*c))){if(!f){d=[];for(var f=b.childNodes,p=0,e=f.length;p<e;)d.push(f[p++]);f=a("div.fdjtadjusted");
p=0;for(e=d.length;p<e;)f.appendChild(d[p++]);b.appendChild(f)}b=h/B.width;B=c/B.height;b=b<B?b:B;f.style[a.transform]="scale("+b+","+b+")";f.style[a.transformOrigin]=n||"50% 0%"}}function ja(){for(var b=a.r(".fdjtadjustfit"),c=0,n=b.length;c<n;)ia(b[c++])}function Da(a,b){b||(y(a,"fdjtadjusted")?(b=a,a=b.parentNode):b="fdjtadjusted"===a.firstChild.className?a.firstChild:J(a,"fdjtadjusted"));if(a&&b){for(var c=[],n=b.childNodes,d=0,f=n.length;d<f;)c.push(n[d++]);n=document.createDocumentFragment();
d=0;for(f=c.length;d<f;)n.appendChild(c[d++]);a.replaceChild(n,b);return a}return!1}function n(a,b){var c,n;c=[];"string"===typeof a&&"undefined"===typeof b&&("^"===a[0]?(b=!1,a=a.slice(1)):"~"===a[0]&&(b=!0,a=a.slice(1)));"undefined"===typeof b&&(b=!0);if("string"!==typeof a)return a;if("{"===a[0]){n=!1;var d=a.indexOf("}");2<d&&(n=a.slice(1,d));c=n&&Va[n]||[];return new RegExp("\\b("+Sa(n)+"|"+c.join("|")+")[.]"+a.slice(d+1)+"\\b",b?"i":"")}if("="===a[0])return new RegExp("\\b"+Sa(a.slice(1))+"\\b",
b?"i":"");if("*"===a[0]&&"."===a[1])return new RegExp("\\b([^.]\\.)?"+a.slice(2)+"\\b",b?"i":"");if(0<a.indexOf(".")){d=a.indexOf(".");c=a.slice(0,d);if(n=ha[c])c=n&&Va[n]?Va[n]:[c];else return new RegExp("\\b"+Sa(a)+"\\b",b?"i":"");return new RegExp("\\b("+Sa(n)+"|"+c.join("|")+")\\."+a.slice(d+1)+"\\b",b?"i":"")}return new RegExp("\\b"+a+"\\b",b?"i":"")}function za(a,b,c,d){var f=[],p=document.getElementsByTagName?document.getElementsByTagName("META"):K(document,"META");a=n(a,c);for(c=0;c<p.length;){var B=
p[c++];if(B&&B.name&&0<=B.name.search(a))if(b)d?f.push(B):f.push(B.content);else return d?B:B.content}return b?f:!1}function B(a,b,c,d,f){var p=[],B=document.getElementsByTagName?document.getElementsByTagName("LINK"):document.body&&document.body.getElementsByTagName?document.body.getElementsByTagName("LINK"):K(document,"LINK");a=n(a,c);for(c=0;c<B.length;){var h=B[c++];if(h&&h.rel&&0<=h.rel.search(a))if(b)d?p.push(h):f?p.push(h.getAttribute("href")):p.push(h.href);else return d?h:f?h.getAttribute("href"):
h.href}return b?p:!1}function Ha(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}return!1}function Oa(a){if(a.nextElementSibling)return a.nextElementSibling;for(;a=a.nextSibling;){if(!a)return null;if(1===a.nodeType)break}return a}function Wa(a){if(a.childNodes&&0<a.childNodes.length)return a.childNodes[0];for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}return!1}function Xa(a,b){var c,n,d;if(b){n=0;for(c=a;n<b;)c=Xa(c),n++;return c}if(wa){if(a.children&&0<a.children.length)return a.children[0];
if(c=a.nextElementSibling)return c;for(;a=a.parentNode;)if(c=a.nextElementSibling)return c}else{if(a.childNodes){var f=a.childNodes;n=0;for(d=f.length;n<d;)if((c=f[n++])&&1===c.nodeType)return c}for(;c=a.nextSibling;)if(1===c.nodeType)return c;for(;a=a.parentNode;)if(c=Oa(a))return c}return!1}function ga(a){for(;a;){if(a.previousSibling)return a.previousSibling;a=a.parentNode}return!1}function ta(a){if(wa)return a.previousElementSibling;for(;a=a.previousSibling;){if(!a)return null;if(1===a.nodeType)break}return a?
a:a.parentNode}function eb(a){if(a.previousSibling){a=a.previousSibling;if(1!==a.nodeType)return a;for(;a;){var b=a.childNodes;if(b)if(0===b.length)break;else a=b[b.length-1];else break}return a}return a.parentNode}function Ia(a){return wa?a.previousElementSibling?mb(a.previousElementSibling):a.parentNode:a.previousElementSibling||a.previousSibling?(a=a.previousElementSibling||a.previousSibling,1===a.nodeType?mb(a):a):a.parentNode}function mb(a){if(1===a.nodeType){if(a.childNodes){var b=a.childNodes;
if(!b.length)return a;for(var c=b.length-1;0<=c;){var n=mb(b[c--]);if(n)return n}}return a}return!1}function $a(a){if("string"!==typeof a||(a=document.getElementById(a)))return a||(a=window),a.hasOwnProperty("innerHeight")?a.innerHeight:a.document&&window.document.documentElement&&window.document.documentElement.clientHeight?window.document.documentElement.clientHeight:a.offsetHeight}function ib(a){if("string"!==typeof a||(a=document.getElementById(a)))return a||(a=window),a.hasOwnProperty("innerWidth")?
a.innerWidth:a.document&&window.document.documentElement&&window.document.documentElement.clientWidth?window.document.documentElement.clientWidth:a.offsetWidth}function jb(a,b,c){b||(b=!1);c||(c=!1);a.id&&(c&&a.setAttribute(c,a.id),a.id="",a.removeAttribute("id"));b&&a.name&&(a.name=null);if(a.childNodes&&a.childNodes.length){a=a.childNodes;for(var n=0,d=a.length;n<d;){var f=a[n++];1===f.nodeType&&jb(f,b,c)}}}function rb(a,b){a=a.toLowerCase();if(document.styleSheets)for(var c=0;c<document.styleSheets.length;c++)for(var n=
document.styleSheets[c],d=n.cssRules||n.rules,f=d&&d.length,p=0;p<f;){if(d[p]){var B=d[p];if(B.selectorText.toLowerCase()===a)return"delete"===b?(n.cssRules&&n.deleteRule(p),!0):B}p++}return!1}function Pa(){var a=document.documentElement||document.body;"undefined"===typeof Ga&&(Ga=document.implementation&&document.implementation.hasFeature?!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"):"Microsoft Internet Explorer"===navigator.appName?!0:navigator.mimeTypes["image/svg+xml"]?
!1:!0);Ga?(w(a,"_NOSVG"),h(a,"_USESVG")):(h(a,"_NOSVG"),w(a,"_USESVG"));return!Ga}function Ra(){for(var a=ma.pl,b=g.r("IMG"),c=0,n=b.length;c<n;){var d=b[c++],f=d.src;f&&!a(f,".svg")&&!a(f,".svgz")&&d.getAttribute("svg")&&(f=d.getAttribute("svg"),d.setAttribute("bmp",d.src),d.src=f)}}function I(a,b){var c,n;b||(b="");if(!a.nodeType&&a.length)for(c=0,n=a.length;c<n;)b=I(a[c++],b);else if(3===a.nodeType){var d=a.nodeValue;d&&(b+=d)}else if(1===a.nodeType){c=z(a);d=a.childNodes;if("string"===typeof a.className&&
0<=a.className.search(/\bfdjtskiptext\b/)||"none"===c.display||"hidden"===c.visibility||"static"!==c.position&&""!==c.position)return b;c=0;for(n=d.length;c<n;){var f=d[c++];3===f.nodeType?(f=f.nodeValue)&&(b+=f):b=I(f,b)}}return b}function X(a,b,c,n){var d,f;if(c>b)return!1;if(!a.nodeType&&a.length){d=0;for(f=a.length;d<f&&(c=X(a[d++],b,c,n),"number"===typeof c););return c}if(3===a.nodeType)return n=a.nodeValue,b<c+n.length?{Ub:a,Vb:b-c}:b===c+n.length?{Ub:a,Vb:b-c,Ak:!0}:c+n.length;if(1===a.nodeType){d=
z(a);var p=a.childNodes;if("string"===typeof a.className&&0<=a.className.search(/\bfdjtskiptext\b/)||"none"===d.display||"hidden"===d.visibility||"static"!==d.position&&""!==d.position)return c;d=0;for(f=p.length;d<f;)if(c=X(p[d++],b,c,n),"number"!==typeof c){if(n&&c.Ak)for(c=b;d<f;)if((a=X(p[d++],c,b,n))&&"number"!==typeof a)return a;break}}return c}function ka(a,b,c){c=X(a,b,c||0);return"number"!==typeof c?c:{Ub:a,Vb:b}}function Ma(a,b,c){c||(c=0);if(a===b)return[c];if(3===a.nodeType)return c+a.nodeValue.length;
if(1===a.nodeType){a=a.childNodes;for(var n=0,d=a.length;n<d;){var f=a[n++];c=Ma(f,b,c);if("number"!==typeof c)break}}return c}function la(a,b){var c=Ma(a,b,0);return c?c[0]:!1}function T(a){for(;a&&!a.id;)a=a.parentNode;return a}function N(a,b,c,n){return b?(a=a.replace("\u00ad",""),(c||"")+a.replace(/\S/g,"$&\u00ad?").replace(/([()\[\]\.\?\+\*])\u00ad\?/gm,"[$1]").replace("\u00ad? "," ").replace(/\s+/g,"(\\s+)")+(n||"")):(c||"")+a.replace(/[()\[\]\.\?\+\*]/gm,"[$&]").replace(/\s+/g,"(\\s+)")+(n||
"")}function Z(a,b,c,n,d){"undefined"===typeof c&&(c=!0);return new RegExp(N(a,c,n,d),b?"igm":"gm")}function na(a){return a?3===a.nodeType?a:1===a.nodeType?na(a.firstChild):!1:!1}function qa(){for(var a=document.createElement("input"),b=0,c=La.length;b<c;){var n=La[b++];try{a.type=n}catch(d){}if(a.type===n)for(var f=K(document.body,".fdjt"+n+"input"),p=0,B=f.length;p<B;){var h=f[p++];"INPUT"===h.tagName&&(h.type=n)}}}function ob(a,b){if("string"===typeof a&&0===a.search("data:")){if(!b){var c=/data:([^;]+);/.exec(a);
c&&(b=c[1])}for(var n=a.split(","),c=atob(n[1]),c=0<=n[0].indexOf("base64")?atob(n[1]):window.unescape(n[1]),n=new ArrayBuffer(c.length),d=new Uint8Array(n),f=0;f<c.length;f++)d[f]=c.charCodeAt(f);return new Blob([n],{type:b||"application"})}return!1}function Ea(){var a=g.Qb,b=g.hy||"_",c=document.documentElement;a.vl&&w(c,b+"IOS");a.ca&&w(c,b+"TOUCH");a.Dc&&w(c,b+"MOUSE");a.mn&&w(c,b+"Android")}function ra(){w(document.body,"_FOCUS")}function ua(){h(document.body,"_FOCUS")}var Aa=!0,ma=g.String,
Na=g.t,Ya=Array.prototype.slice,da=/((^|[.#])[^.#\[\s]+)|(\[[^ \]=]+=[^\]]+\])|(\[[^ \]=]+\])/ig;a.IF=function(a){if("undefined"===typeof a)return Aa;Aa=a};a.clone=function(a){return a.cloneNode(!0)};a.Zs=function(){if("Microsoft Internet Explorer"===navigator.appName){var a=/MSIE ([0-9]{1,}[\.0-9]{0,})/,a=null!==a.exec(navigator.userAgent)?parseFloat(a.$1):1;0>=a&&(a=1);return a}return 0}();a.HA=Math.floor(a.Zs);g.I=q;a.xk=k;a.Jd=e;a.Array=v;a.slice=v;a.aw=function(b,c){c||(c="div.fdjtwrapper");
var n=J(b,c);if(n&&n.nodeType&&n.parentNode===b)return n;n=a(c,e(b.childNodes));b.appendChild(n);return n};a.Qv=function(a){var b="div.fdjtfontwrapper";"string"===typeof b?b=a?g.b.J(a,b):g.b.r(b):b.nodeType&&(b=[b]);a=0;for(var c=b.length;a<c;){var n=b[a++],d=document.createDocumentFragment();k(d,e(n.childNodes));n.parentNode.replaceChild(d,n)}};a.Bd=l;a.Bs=function(a,b){b||(b=z(a));var c=b.lineHeight,n=b.fontSize;return"normal"===c?l(n):0<c.search(/px$/)?l(c):0<c.search(/%$/)?parseFloat(c.slice(0,
-1))/100*l(n):l(n)};var Ua=/(\s)+/,gb=/^(\s)+|(\s)+$/,va={};a.Fl=function(a){if(3===a.nodeType)return"<'"+a.value+"'>";if(1===a.nodeType){var b="<"+a.tagName;a.id&&(b=b+"#"+a.id);"input"===a.tagName?(b=b+"[type="+a.type+"]",b=b+"[name="+a.name+"]"):"textarea"===a.tagName?b=b+"[name="+a.name+"]":"img"===a.tagName&&(a.alt?b=b+"[alt="+a.alt+"]":a.src&&(b=b+"[src="+a.src+"]"));"string"===typeof a.className&&(b=b+"."+a.className.replace(/\s+/g,"."));return b+">"}return a.toString()};a.EB=function(b,c,
n,d){b=a(b);d||(d=n);n&&g.kk(c,n);d.id&&!b.id&&(b.id=d.id);d.title&&!b.title&&(b.title=d.title);d.name&&!b.name&&(b.name=d.name);d.href&&!b.href&&(b.href=d.href);d.value&&!b.value&&(b.value=d.value);d.src&&!b.src&&(b.src=d.src);d.alt&&!b.alt&&(b.alt=d.alt);p(b,d);return b};a.rz=t;a.ss=function(a,b,c){return t(a,b,c,!1)};a.L=y;a.h=w;a.Kw=w;a.Qx=function(a,b){return function(){a&&w(a,b)}};a.l=h;a.iy=h;a.Rx=function(a,b){return function(){a&&h(a,b)}};a.pc=function(a,b,c,n){h(a,b,n);w(a,c,n)};a.Tu=function(a,
b,c){"string"===typeof a&&(a=document.getElementById(a));c?w(a,b):h(a,b)};a.qc=c;a.ME=c;a.Fv=b;a.NE=b;var ya=a.Bv=/text|url|email|search|tel|number|range|password/i;a.Si=function(a){return"INPUT"===a.tagName&&0===a.type.search(ya)||"TEXTAREA"===a.tagName};a.ot=function(a){return"IMG"===a.tagName};var cb={};f.prototype.match=function(a){if(a.matches)return a.matches(this.Jc);if(a.matchesSelector)return a.matchesSelector(this.Jc);var b,c;if(this.ii){var n=this.ii;b=0;for(c=n.length;b<c;)if(n[b++].match(a))return!0;
return!1}if(this.tag&&this.tag!==a.tagName||this.id&&this.id!==a.id)return!1;if(this.qd)if("string"===typeof a.className){var d=a.className,f=this.qd;b=0;for(c=f.length;b<c;)if(0>d.search(f[b++]))return!1}else return!1;if(this.Ge)for(n in b=this.Ge,b)if(b.hasOwnProperty(n)){c=a.getAttribute(n);if(!c)return!1;d=this[n];if(!0!==d)if("string"===typeof d){if(d!==c)return!1}else if(0>c.search(d))return!1}return!0};f.prototype.find=function(a,b){var c,n,f;b||(b=[]);if(this.ii){c=this.ii;n=0;for(f=c.length;n<
f;)c[n++].find(a,b);return b}if(this.id)return(c=document.getElementById(this.id))&&this.match(c)&&b.push(c),b;c=[];n=this.xr;f=this.Ge;if(this.qd)a.getElementsByClassName?c=a.getElementsByClassName(n[0]):F(a,this.qd[0],c);else if(this.tag&&a.getElementsByTagName)c=a.getElementsByTagName(this.tag);else if(this.Ge){f=this.Ge;for(var p in f)if(f.hasOwnProperty(p)){d(a,p,f[p],c);break}}else this.tag&&r(a,this.tag,c);if(0===c.length)return c;if(this.tag&&!this.qd&&!this.Ge||!this.tag&&this.qd&&1===this.qd.length&&
!this.Ge){if(b.length){n=b;f=0;for(p=c.length;f<p;)n.push(c[f]),f++;c=n}else c=c instanceof Array?c:e(c);return c}n=0;for(f=c.length;n<f;)p=c[n++],this.match(p)&&b.push(p);return b};a.Ra=f;a.Ed=function(a){if(a){if(a instanceof f)return a;if(a instanceof Array)return a.length?new f(a.join(",")):!1;if("string"===typeof a)return new f(a);Na.warn("Non selector spec: %o",a)}return!1};a.getParent=x;a.cb=x;a.ew=x;a.sl=function(a,b){var c=new f(b);return c.match(a)?a:x(a,c)};a.Fs=function(a,b){for(var c=
[],n=a,d=!1;d=x(n,b);)c.push(d),n=d.parentNode;return c};a.oz=function(a){return 1!==a.nodeType?[]:a.childNodes?e(a.childNodes):[]};a.J=K;g.r=a.r=function(a,b){return e(K(b||document,a))};g.$1=a.$1=a.la=a.el=J;a.Ng=function(a,b){return a.getAttribute(b)||a.getAttribute("data-"+b)};a.Vk=function(a,b,c){for(var n="data-"+b;a;){if(c&&a.getAttributeNS&&a.getAttributeNS(b,c))return a.getAttributeNS(b,c);if(a.getAttribute){if(a.getAttribute(b))return a.getAttribute(b);if(a.getAttribute(n))return a.getAttribute(n)}a=
a.parentNode}return!1};a.sz=function(a){return a.firstElementChild?a.firstElementChild:a.children&&a.children.length?a.children[0]:!1};a.wz=function(a){return a.lastElementChild?a.lastElementChild:a.children&&a.children.length?a.children[a.children.length-1]:!1};a.replace=function(a,b,c){var n=a;"string"===typeof a&&(n="#"===a[0]?document.getElementById(a.slice(1)):document.getElementById(a));n?(n.parentNode.replaceChild(b,n),c||!n.id||b.id||(b.id=n.id)):Na.Uj("Can't find %o to replace it with %o",
a,b)};a.remove=E;a.Rl=function(a){for(var b=a.childNodes,c=b.length-1;0<=c;)a.removeChild(b[c--])};a.append=function(a){"string"===typeof a&&(a=document.getElementById(a));k(a,Ya.call(arguments),1)};a.gb=function(a){"string"===typeof a&&(a=document.getElementById(a));a.firstChild?m(a.firstChild,Ya.call(arguments),1):k(a,Ya.call(arguments),1)};a.insertBefore=function(a){"string"===typeof a&&(a=document.getElementById(a));m(a,Ya.call(arguments),1)};a.VA=function(a){"string"===typeof a&&(a=document.getElementById(a));
a.nextSibling?m(a.nextSibling,Ya.call(arguments),1):k(a.parentNode,Ya.call(arguments),1)};a.Im=function(b,c,n){0!==b.search(/\w/)&&(b="INPUT"+b);b=a(b);b.name=c;n&&(b.value=n);return b};a.Aq=function(b){var c=a("INPUT");c.type="checkbox";c.name="LINKS";b&&(c.value=b);c.checked=!0;return c};a.Gh=function(b,c){c=P(c,"A");var n=a(c);n.href=b;k(n,Ya.call(arguments),2);return n};a.Image=function(b,c,n,d){c=P(c,"IMG");var f=a(c);f.src=b;n&&(f.alt=n);d&&(f.title=d);k(f,Ya.call(arguments),4);return f};a.hl=
O;a.Tb=function(a,b,c){var n=O(a,b||!1,c||!1);return n&&1===n.length?n[0]:n&&n.length?(Na.warn("Ambiguous input reference name=%o type=%o under %o",b,c,a),n[0]):!1};a.ys=function(a,b){for(var c=[],n=a.getElementsByTagName("input"),d=0,f=n.length;d<f;){var p=n[d++];p.name===b&&("checkbox"!==p.type&&"radio"!==p.type||p.checked)&&c.push(p.value)}return c};a.po=function(a,b){for(var c=a.getElementsByTagName("input"),n=0,d=c.length;n<d;){var f=c[n++];if(!f.disabled&&f.name===b&&("checkbox"!==f.type&&"radio"!==
f.type||f.checked))return f.value}return!1};a.zs=L;a.oo=function(a,b,c){return(c=L(a,b||!1,c||!1))&&1===c.length?c[0]:c&&c.length?(Na.warn("Ambiguous input reference name=%o name=%o under %o",b,b,a),c[0]):!1};a.am=function(b,c){if(c)for(var n=a.r(b),d=0,f=n.length;d<f;)n[d++].value=c};a.Ac=z;a.Yp=W;var Y={DIV:"block",P:"block",BLOCKQUOTE:"block",H1:"block",H2:"block",H3:"block",H4:"block",H5:"block",H6:"block",H7:"block",H8:"block",UL:"block",LI:"list-item",DL:"block",DT:"list-item",DD:"list-item",
SPAN:"inline",EM:"inline",STRONG:"inline",TT:"inline",DEFN:"inline",A:"inline",TD:"table-cell",TR:"table-row",TABLE:"table",PRE:"preformatted"};a.pz=function(a){return a&&a.nodeType&&1===a.nodeType?window.getComputedStyle&&window.getComputedStyle(a,null)&&window.getComputedStyle(a,null).display||Y[a.tagName]||"inline":!1};a.Kb=M;Q.prototype.width=Q.prototype.height=Q.prototype.left=Q.prototype.right=Q.prototype.top=Q.prototype.bottom=0;C.prototype=new Q;C.mq=C.sr=C.yt=C.Du=C.Gv=C.rr=C.xt=C.vp=C.Hv=
C.Bn=C.zt=C.Eu=C.bu=C.cu=C.ad=C.Sg=C.Io=0;a.mb=V;a.Qq=C;a.Fq=Q;a.kz=function(a){return+("number"===typeof a.width?a.width:NaN)+"x"+("number"===typeof a.height?a.height:"?")+"@l:"+("number"===typeof a.left?a.left:"?")+",t:"+("number"===typeof a.top?a.top:"?")+"/r:"+("number"===typeof a.right?a.right:"?")+",b:"+("number"===typeof a.bottom?a.bottom:"?")};a.Tg=function(a){var b;b||(b=!1);if(a.offsetParent&&a.offsetParent!==document.body){var c=a.offsetParent,n=a.offsetTop,d=n+a.offsetHeight,f=a.offsetLeft;
a=f+a.offsetWidth;var p=c.scrollLeft,B=p+c.clientWidth,h=c.scrollTop,c=h+c.clientHeight;return b?(f>=p&&f<=B||a>=p&&a<=B||f<p&&a>B)&&(n>=h&&n<=c||d>=h&&d<=c||n<=h&&d>=c):f>=p&&f<=B&&a>=p&&a<=B&&n>=h&&n<=c&&d>=h&&d<=c}for(var n=a.offsetTop,d=a.offsetLeft,f=a.offsetWidth,c=a.offsetHeight,p=window.pageXOffset||document.documentElement.scrollLeft||0,B=window.pageYOffset||document.documentElement.scrollTop||0,h=p+document.documentElement.clientWidth,e=B+document.documentElement.clientHeight;a.offsetParent&&
a!==window;)a=a.offsetParent,n+=a.offsetTop,d+=a.offsetLeft;a&&a!==window&&a!==document.body&&(a.scrollTop||a.scrollLeft)&&(Na("Adjusting for inner DIV"),p=a.scrollLeft,B=a.scrollTop,h=p+a.scrollWidth,e=B+a.scrollHeight);return b?n>B&&n<e&&d>p&&d<h||n+c>B&&n+c<e&&d+f>p&&d+f<h||(n<B||d<p)&&n+c>e&&d+f>h:n>B&&d>p&&n+c<=e&&d+f<=h};a.bB=function(a,b){b||(b=50);for(var c=a.offsetTop,n=window.pageYOffset||document.documentElement.scrollTop||0,d=n+document.documentElement.clientHeight;a.offsetParent;)a=a.offsetParent,
c+=a.offsetTop;return c>n&&c<d&&c<n+b};a.Av=ba;a.dy=function(a){if("string"===typeof a)return a.match(/\W*\s+\W*/g).length;if(!a.nodeType)return 0;if(1!==a.nodeType)return 3===a.nodeType?a.nodeValue.match(/\W*\s+\W*/g).length:0};var hb=/(img|object|svg|hr)/i;a.ol=H;a.yo=function(a){if(a.childNodes){a=a.childNodes;for(var b=0;b<a.length;){var c=a[b++];if(3===c.nodeType&&0<=c.nodeValue.search(/\w/g))return!0}}return!1};a.refresh=function(a){a.className=a.className};a.UD=function(a,b,c){"string"===typeof a&&
q(a)&&(a=q(a));a.setAttribute(b,c);a.className=a.className};a.zy=function(a,b){"string"===typeof a&&q(a)&&(a=q(a));a.removeAttribute(b);a.className=a.className};a.zC=function(a){return a.scrollHeight>a.clientHeight};a.LF=function(a){return a.scrollHeight/a.clientHeight};a.yA=function(a){return a.scrollWidth/a.clientWidth};a.addListener=R;a.lb=function(a,b){if(a&&b)for(var c in b)if(b.hasOwnProperty(c)){var n=b[c],d=a[c];d&&a.hasOwnProperty(c)||(a[c]=d={});for(var f in n)n.hasOwnProperty(f)&&(d[f]=
n[f])}};var Qa=/^([^:]+)$/,Ka=/^([^: ]+):([^: ]+)$/;a.Fe=p;a.removeListener=ea;a.c=S;a.Ly=S;a.Ue=S;a.cancel=function(a){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;a.cancelBubble=!0};a.Nv=function(a){if(document.createEvent){var b=document.createEvent("MouseEvents");b.initEvent("click",!0,!0);a.dispatchEvent(b)}else Na.warn("Couldn't trigger click")};a.gp=function(a,b){var c=a.clientHeight,n=a.scrollHeight,d=a.scrollTop+c*b;c>=n||(a.scrollTop=0>d?0:d+c>=n?n-c:d)};a.As=aa;
a.ax=ca;a.Vw=function(b,c,n){var d=b.wm||a.um||"string"===typeof b.className&&0<=b.className.search(/\btraceadjust\b/)||!1,f=z(b),p=V(b),B=f.maxHeight&&l(f.maxHeight)||p.height,p=f.maxWidth&&l(f.maxWidth)||p.width,h=c||.1;c=b.scale||100;var e=aa(b),za=(a.Bd(f.paddingLeft)||0)+(a.Bd(f.paddingRight)||0)+(a.Bd(f.borderLeftWidth)||0)+(a.Bd(f.borderRightWidth)||0)+n;n=(a.Bd(f.paddingTop)||0)+(a.Bd(f.paddingBottom)||0)+(a.Bd(f.borderTopWidth)||0)+(a.Bd(f.borderBottomWidth)||0)+n;p-=za;B-=n;n=1>=e.height/
B&&1>=e.width/p;d&&Na("Adjust (%o) %s cur=%o%s, best=%o~%o, limit=%ox%o=%o, box=%ox%o=%o, style=%s",h,a.Fl(b),c,n?" (fits)":"",b.Ud||-1,b.yg||-1,p,B,p*B,e.width,e.height,e.width*e.height,W(b));if(n&&(f=Math.max(1-e.width/p,1-e.height/B),za=b.yg||1.5,d&&(b.Ud?Na("%s %o~%o vs. %o~%o",f<h?"Good enough!":f<za?"Better!":"Worse!",c,f,b.Ud,b.yg):Na("First fit %o~%o",c,f)),f<za&&(b.Ud=c,b.yg=f),f<h)){b.Ms=c;return}h=B/e.height;f=p/e.width;B=n?c*Math.sqrt(p*B/(e.width*e.height)):h<f?c*h:c*f;d&&Na("[%fs] Trying newscale=%o, rw=%o rh=%o",
g.mg(),B,f,h);ca(b,B)};a.Tw=function(b,c,n,d,f){function p(){var a=V(c),e=V(b,c),za=z(c),H=a.width-(l(za.paddingLeft,0)+l(za.borderLeft,0)+l(za.paddingRight,0)+l(za.borderRight,0)),a=a.height-(l(za.paddingTop,0)+l(za.borderTop,0)+l(za.paddingBottom,0)+l(za.borderBottom,0));B&&Na("adjustInside scale=%o step=%o min=%o pad=%o [l%o,t%o,r%o,b%o] << %ox%o < %ox%o",h,n,d,f,e.left,e.top,e.right,e.bottom,H*f,a*f,H,a);0<=e.top&&e.bottom<=f*a&&0<=e.left&&e.right<=f*H||h<=d||(h-=n,ca(b,h),setTimeout(p,10))}var B=
b.wm||c.wm||a.um||"string"===typeof b.className&&0<=b.className.search(/\btraceadjust\b/)||"string"===typeof c.className&&0<=c.className.search(/\btraceadjust\b/)||!1;n||(n=5);d||(d=50);f||(f=1);var h=100;setTimeout(p,10)};a.XA=aa;a.Zy=function(b){var c=b.wm||a.um||!1;b.Ud?(b.scale!==b.Ud&&ca(b,b.Ud),c&&Na("Final scale %o~%o for %o style=%s",b.Ud,b.yg,a.Fl(b),a.Yp(b)),delete b.Ud,delete b.yg,delete b.Ms):(ca(b,!1),Na("No good scaling for %o style=%s",a.Fl(b),a.Yp(b)))};a.$f=function(b,c,n){a.h(b,
"fdjtadjustfit");c&&"number"!==typeof c&&(c=.9);c&&b.setAttribute("data-fudge",c);n&&b.setAttribute("data-origin",n);ia(b,c,n);return b};a.$f.zD=a.$f.Eb=ia;a.$f.jD=Da;a.$f.Cu=function(){for(var b=a.r(".fdjtadjusted"),c=0,n=b.length;c<n;){var d=b[c++];Da(d.parentNode,d)}};g.kb(ja);a.addListener(window,"resize",ja);a.tz=function(){for(var a=document.childNodes,b=0,c=a.length;b<c;){if("HTML"===a[b].tagName)return a[b];b++}return!1};a.ws=function(){for(var a=document.childNodes,b=0,c=a.length;b<c;)if("HTML"===
a[b].tagName){a=a[b].childNodes;b=0;for(c=a.length;b<c;){if("HEAD"===a[b].tagName)return a[b];b++}break}else b++;return!1};var Va={},pa={},ha={};a.md=function(a,b){ha[a]=b};var Sa=ma.Qk;a.dc=za;a.Cz=function(a){return za(a,!0,void 0,!0)};a.il=B;a.jl=function(a){return B(a,!0)};a.zz=function(a){return B(a,!0,void 0,!0)};var wa=document&&document.body&&document.body.childNodes&&document.body.children;a.bC=Oa;a.hz=Xa;a.forward=function(a,b,c){if(!b)return c?Xa(a):Wa(a);for(a=c?Xa(a):Wa(a);a;){if(b(a))return a;
a=c?Oa(a):Ha(a)}return!1};a.next=function(a,b,c){if(!b)return c?wa?a.nextElementSibling:Oa(a):Ha(a);for(a=c?wa?a.nextElementSibling:Oa(a):a.nextSibling||Ha(a);a;){if(b(a))return a;a=c?a.nextElementSibling||Oa(a):a.nextSibling||Ha(a)}return!1};a.TC=ta;a.qx=Ia;a.He=function(a,b,c){if(!b)return c?Ia(a):eb(a);for(a=c?Ia(a):eb(a);a;){if(b(a))return a;a=c?Oa(a):Ha(a)}return!1};a.cd=function(a,b,c){if(!b)return c?wa?a.previousElementSibling:ta(a):ga(a);for(a=c?wa?a.previousElementSibling:ta(a):ga(a);a;){if(b(a))return a;
a=c?wa?a.previousElementSibling:ta(a):ga(a)}return!1};a.wq=function(){var a;if("string"!==typeof a||(a=document.getElementById(a)))return!a||a===window||window.Window&&a instanceof window.Window?(a=a||window,a.pageYOffset||a.scrollY||a.document.documentElement.scrollTop||0):a.scrollTop};a.vq=function(){var a;if("string"!==typeof a||(a=document.getElementById(a)))return!a||a===window||window.Window&&a instanceof window.Window?(a=a||window,a.pageXOffset||a.scrollX||a.document.documentElement.scrollLeft||
0):a.scrollLeft};a.zb=$a;a.sb=ib;a.Es=function(){var a=window;if("string"!==typeof a||(a=document.getElementById(a)))return a||(a=window),a.hasOwnProperty("orientation")?90===a.orientation||-90===a.orientation?"landscape":"portrait":ib(a)>$a(a)?"landscape":"portrait"};var U=0,Za=Math.floor(1E5*Math.random());a.Cs=function(a){var b=a.id,c;if(!b){for(b="TMPID_"+Za+"_"+U++;!(c=document.getElementById(b))||c===a;)b="TMPID_"+Za+"_"+U++,(c=document.getElementById(b))&&c!==a||(Za=Math.floor(1E5*Math.random())),
b="TMPID_"+Za+"_"+U++;a.id=b}return b};a.th=jb;a.nz=rb;a.Ay=function(a){return rb(a,"delete")};a.De=function(b,c){var n;if(!n){n=q("FDJTSTYLES");if(!n){var d=document.getElementsByTagName("HEAD");if(0===d.length)return;d=d[0];n=a("style#FDJTSTYLES");d.appendChild(n)}n=n.sheet}if(n&&(n.insertRule||n.addRule)){var d=n.cssRules||n.rules,f=d.length;n.insertRule?n.insertRule(b+" {"+c+"}",f):n.addRule(b,c,f);return d[f]}return!1};var Ga;a.JF=Ra;a.GF=function(){for(var a=ma.pl,b=g.r("IMG"),c=0,n=b.length;c<
n;){var d=b[c++],f=d.src;f&&(a(f,".svg")||a(f,".svgz"))&&(f=d.getAttribute("bmp"))&&(d.setAttribute("svg",d.src),d.src=f)}};a.SC=function(){Ga||Ra()};a.vr=Pa;a.Xe=g.Hm;a.kb=g.kb;g.kb(function(){wa=document&&document.body&&document.body.childNodes&&document.body.children},"checkChildren");g.kb(Pa,"checkSVG");0<=navigator.userAgent.search("WebKit")?(a.transition||(a.transition="-webkit-transition"),a.transitionProperty||(a.transitionProperty="-webkit-transition-property"),a.transitionDuration||(a.transitionDuration=
"-webkit-transition-duration"),a.transitionDelay||(a.transitionDelay="-webkit-transition-delay"),a.zh||(a.zh="-webkit-transition-timing-function"),a.transform||(a.transform="-webkit-transform"),a.transformOrigin||(a.transformOrigin="-webkit-transform-origin"),a.Jk||(a.Jk="-webkit-column-width"),a.Ik||(a.Ik="-webkit-column-gap")):0<=navigator.userAgent.search("Mozilla")?(a.transition||(a.transition="-moz-transition"),a.transitionProperty||(a.transitionProperty="-moz-transition-property"),a.transitionDuration||
(a.transitionDuration="-moz-transition-duration"),a.transitionDelay||(a.transitionDelay="-moz-transition-delay"),a.zh||(a.zh="-moz-transition-timing-function"),a.transform||(a.transform="-moz-transform"),a.transformOrigin||(a.transformOrigin="-moz-transform-origin"),a.Jk||(a.Jk="MozColumnWidth"),a.Ik||(a.Ik="MozColumnGap")):(a.transition||(a.transition="transition"),a.transitionProperty||(a.transitionProperty="transition-property"),a.transitionDuration||(a.transitionDuration="transition-duration"),
a.transitionDelay||(a.transitionDelay="transition-delay"),a.zh||(a.zh="transition-timing-function"),a.transform||(a.transform="transform"),a.transformOrigin||(a.transformOrigin="-moz-transform-origin"));"undefined"!==typeof document.hidden?(a.ec="hidden",a.ue="visibilitychange"):"undefined"!==typeof document.webkitHidden?(a.ec="webkitHidden",a.ue="webkitvisibilitychange"):"undefined"!==typeof document.mozHidden?(a.ec="mozHidden",a.ue="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(a.ec=
"msHidden",a.ue="msvisibilitychange"):(a.ec=!1,a.ue=!1);a.Kz=function(a){if(!a)if(window.getSelection)a=window.getSelection();else if(document.selection)a=document.selection.createRange();else return!1;if(!a)return!1;if(a.getRangeAt)return a.rangeCount?a.getRangeAt(0):!1;if(document.createRange){var b=document.createRange();b.setStart(a.anchorNode,a.anchorOffset);b.setEnd(a.focusNode,a.focusOffset);return b}return!1};a.$C=function(a){return a?a.startContainer===a.endContainer&&a.startOffset===a.endOffset?
!0:!1:!0};a.Ne=function(a){a||(a=document.selection||window.getSelection());a.removeAllRanges?a.removeAllRanges():a.empty&&a.empty()};a.dC=I;a.XE=ka;a.su=function(a){if(3===a.startContainer.nodeType&&3===a.endContainer.nodeType)return a;var b=ka(a.startContainer,a.startOffset);a=ka(a.endContainer,a.endOffset);var c=document.createRange();c.setStart(b.Ub,b.Vb);c.setEnd(a.Ub,a.Vb);return c};a.WE=la;a.Ez=function(a,b){var c=a.startContainer;b||(b=T(c));var n=la(b,c),d=a.endContainer,f=c===d?b:x(d,b)?
b:T(d);return{start:n+a.startOffset,vE:b.id,Jy:f.id,end:(c===d?n:la(f,d))+a.endOffset}};a.Iz=N;a.fq=Z;a.$v=function(a,b,c){"undefined"===typeof c&&(c=!0);return new RegExp(N(a,c,"\\b","\\b"),b?"igm":"gm")};a.Xy=function(a,b,c,n){"undefined"===typeof c&&(c=0);"undefined"===typeof n&&(n=1);b=b.replace(/\u00ad/mg,"");var d=!1,d=I(a),f=0===c?d:d.slice(c),p=f.replace(/\u00ad/mg,"");for(b="string"===typeof b?Z(b,!1,!1):b;d=b.exec(p);){if(1===n){n=d.index;if(p!==f)for(p=0;p<n;)"\u00ad"===f[p]&&n++,p++;f=
n+c;c=X(a,f,0,!0);a=X(a,f+d[0].length,0);if(!c||!a)break;d=document.createRange();c.Ak?(f=na(c.Ub.nextSibling))?d.setStart(f,0):d.setStart(c.Ub,c.Vb):d.setStart(c.Ub,c.Vb);d.setEnd(a.Ub,a.Vb);return d}n--;c=d.index+d[0].length;p=p.slice(c)}return!1};a.Se=function(a,b,c,n){"undefined"===typeof c&&(c=0);"undefined"===typeof n&&(n=-1);var d=!1,f=[],p=I(a),p=0===c?p:p.slice(c);for(b="string"===typeof b?Z(b):b;0!==n&&(d=b.exec(p));){var B=d.index+c,h=X(a,B,0),B=X(a,B+d[0].length,0);if(!h||!B)return!1;
var e=document.createRange();if("number"===typeof h)e.setStart(a,h);else if(h.Ak){var za=na(h.Ub.nextSibling);za?e.setStart(za,0):e.setStart(h.Ub,h.Vb)}else e.setStart(h.Ub,h.Vb);"number"===typeof B?e.setEnd(a,B):e.setEnd(B.Ub,B.Vb);f.push(e);n--}return f};var oa=["transitionend","webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","msTransitionEnd"];g.kb(function(){var b=document.createElement("div");if(b.removeEventListener){var c=function(n){a.nq=n.type;n=0;for(var d=oa.length;n<d;)b&&b.removeEventListener?
b.removeEventListener(oa[n++],c):n++};b.setAttribute("style","position:absolute;top:0px;transition:top 1ms ease;-webkit-transition:top 1ms ease;-moz-transition:top 1ms ease;-o-transition:top 1ms ease;-ms-transition:top 1ms ease;");for(var n=0,d=oa.length;n<d;)b.addEventListener(oa[n++],c,!1);document.documentElement.appendChild(b);setTimeout(function(){b.style.top="100px";setTimeout(function(){b.parentNode.removeChild(b);b=c=null},2E3)},0)}},"checkTransitionEvents");var La="email number range tel url datetime datetime-local date time week month".split(" ");
a.av=qa;g.kb(qa,"CustomInputs");a.gq=/\b(text|email|number|range|tel|url|datetime|datetime-local|date|time|week|month)\b/i;g.kb(function(){var a="media";if(window.matchMedia){var b=window.matchMedia("handheld");b.match&&(a+=" handheld");b=window.matchMedia("(max-width:500px)");b.match&&(a+=" narrow");b=window.matchMedia("(min-width:1000px)");b.match&&(a+=" wide");b=window.matchMedia("(-webkit-min-device-pixel-ratio:1.5),(-min-resolution:15dp)");b.match&&(a+=" hires")}g.media=a},"matchMedia");g.Bz=
function(){return window.getComputedStyle(document.body,":before").content};a.WA=function(a,b,c){var n=a.selectionStart,d=a.value;a.value=d&&"number"===typeof n&&0<=n?d.slice(0,n)+b+d.slice(n):b;"number"===typeof c&&(a.selectionEnd=a.selectionStart=n+c)};g.kb(function(){for(var a=document.getElementsByTagName&&document.getElementsByTagName("link")||document.head.getElementsByTagName&&document.head.getElementsByTagName("link")||K(document,"link"),b=0,c=a.length;b<c;){var n=a[b++];if(n.rel&&n.href&&
0===n.rel.search("schema.")){var d=n.rel.slice(7),n=n.href;pa[d]?Na.warn("Conflicting schemas for %s",d):(Va[n]?Va[n].push(d):Va[n]=[d],pa[d]=n)}}},"MetaSchemas");a.addListener(window,"load",a.Xe);a.ah=function(a){(a=document.getElementById(a))&&a.play&&(a.paused||(a.pause(),a.currentTime=0),a.play())};a.Ov=function(a,b,c){var n=a.style;n.maxHeight=n.minHeight="inherit";n.maxWidth=n.minWidth="inherit";var d=a.offsetWidth;a=a.offsetHeight;b/=d;c/=a;b<c?(n.width=Math.round(d*b)+"px",n.height="auto"):
(n.height=Math.round(a*c)+"px",n.width="auto")};ma.FB=ob;a.Hr=function(a){return URL&&URL.createObjectURL?URL.createObjectURL(ob(a)):a};a.Pw=Ea;a.Ow=Ea;a.Mw=Ea;g.kb(Ea,"AddUXClasses");a.focus=function(a){var b=document.getElementById(a);b&&setTimeout(function(){b.focus()},10)};a.blur=function(a){var b=document.getElementById(a);b&&setTimeout(function(){b.blur()},10)};g.kb(function(){ra();R(window,"focus",ra);R(window,"blur",ua)});a.um=!1;return a}();
(function(){function a(a){var e=(new Date).getTime(),y=Math.max(0,16-(e-k)),l=window.setTimeout(function(){a(e+y)},y);k=e+y;return l}function q(a){clearTimeout(a)}for(var k=0,m=window.requestAnimationFrame&&function(a){window.requestAnimationFrame(a)},e=window.cancelAnimationFrame&&function(a){window.cancelAnimationFrame(a)},v=["webkit","moz","ms","o"],l=0;l<v.length&&!window.requestAnimationFrame;++l)m=m||window[v[l]+"RequestAnimationFrame"],e=e||window[v[l]+"CancelAnimationFrame"]||window[v[l]+
"CancelRequestAnimationFrame"];m||(m=a,e=q);g.b.YC=g.b.requestAnimationFrame=m;g.b.Dx=g.b.cancelAnimationFrame=e})();(function(){function a(a,b,f,h,r,d,k,y,m){var w=e(a.scrollWidth),t=e(a.scrollHeight),q,v,O=a.style;"number"!==typeof y&&(y=1);if(w<=d&&t<=k&&t>=k-y)return f;if(w>d||t>k)b=-b;0<b&&(O.maxWidth=e(d)+"px");f||(f=100,O.fontSize=f+"%");h||(h=20);r||(r=150);v=f+b;O.fontSize=v+"%";y=e(a.scrollWidth);for(q=e(a.scrollHeight);f>=h&&f<=r&&(0<b?y<d&&q<k:y>d||q>k);)f=v,v+=b,O.fontSize=v+"%",m&&l("Adjust %o to %dx%d %o: size=%d=%d+(%d), %dx%d => %dx%d",a.parentNode,d,k,a,v,f,b,w,t,y,q),y=e(a.scrollWidth),q=e(a.scrollHeight);
O.maxWidth="";return 0<b?(O.fontSize=f+"%",f):v}function q(c,b,f,e){var r=c.offsetHeight,d=c.offsetWidth,k=h(c,"_fdjtlog"),w="";if(0===r||0===d)if(w=c.style.display,c.style.display="initial",r=c.offsetHeight,d=c.offsetWidth,0===r||0===d){c.style.display=w;return}if(0===r||0===d)c.style.display=w;else{var m=t(c,"div.fdjtfontwrapper"),q=m.style,D=100;q.boxSizing="border-box";q.padding=q.margin="0px";q.fontSize=D+"%";q.transitionProperty="none";q.transitionDuration="0s";q[v.transitionProperty]="none";
q[v.transitionDuration]="0s";q.visibility="visible";if(0===r||0===d)c.removeChild(m),v.append(c,Array.prototype.slice.call(m.childNodes)),c.style.display=w;else return b=b||c.getAttribute("data-minfont")||20,f=f||c.getAttribute("data-maxfont")||200,"number"!==typeof e&&(e=c.getAttribute("data-fudge")),"string"===typeof b&&(b=parseFloat(b,10)),"string"===typeof f&&(f=parseFloat(f,10)),"string"===typeof e&&(e=parseInt(e,10)),"number"!==typeof e&&(e=2),q.width=q.height="100%",q.width=q.height="100%",
q.maxWidth=q.maxHeight="100%",d=m.offsetWidth,r=m.offsetHeight,q.width=q.height="",D=a(m,10,D,b,f,d,r,e,k),D=a(m,5,D,b,f,d,r,e,k),D=a(m,1,D,b,f,d,r,e,k),q.maxWidth=q.maxHeight="",c.style.display=w,100===D?(k&&l("No need to resize %o towards %dx%d",c,d,r),c.removeChild(m),v.append(c,Array.prototype.slice.call(m.childNodes))):(q.width="",q.height="",q.maxWidth="",q.maxHeight="",k&&l("Adjusted (%s) %o towards %dx%d, wrapper @ %d,%d",q.fontSize,c,d,r,m.scrollWidth,m.scrollHeight),q.transitionProperty=
"",q.transitionDuration="",q[v.transitionProperty]="",q[v.transitionDuration]="",y(m)[v.transitionProperty]?(q.fontSize="",q.visibility="",q.fontSize=D+"%"):q.visibility=""),D}}function k(a,b){var f=[];a?"string"===typeof a?document.rs(a)?f=[document.rs(a)]:(v.od=v.od+","+a,f=v.r(a)):f=1===a.nodeType?(new w(v.od)).match(a)?[a]:v.J(a,v.od):v.r(v.od):f=v.r(v.od);var h=0,e=f.length;if(e)for(;h<e;)q(f[h++]);else b&&q(b)}function m(a){if(a&&1===a.nodeType){var b=y(a);if(a.childNodes&&a.childNodes.length)for(var f=
a.childNodes,h=0,e=f.length;h<e;){var d=f[h++];1===d.nodeType&&m(d)}"block"!==b.display&&"inline-block"!==b.display||"absolute"!==b.position&&"fixed"!==b.position||q(a)}}var e=Math.floor,v=g.b,l=g.t,A=v.el,t=v.aw,y=v.Ac,w=v.Ra,h=v.L;v.Df=v.kF=q;v.hD=function(a){if(a=A(a,".fdjtfontwrapper"))a.style.fontSize="100%"};v.od=".fdjtadjustfont,.adjustfont";v.jF=v.lF=v.Sw=v.Ef=k;v.Uw=function(a){var b=v.J(a,v.od),f=0,h=b.length;if(0===h)m(a);else for(;f<h;)q(b[f++])};g.kb(function(){v.Xo||(k(),v.addListener(window,
"resize",k))},"adjustFonts")})();"undefined"===typeof window||window.JSON||(window.JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function q(a){e.lastIndex=0;return e.test(a)?'"'+a.replace(e,function(a){var h=A[a];return"string"===typeof h?h:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function k(a,e){var h,c,b,f,m=v,r,d=e[a];d&&"object"===typeof d&&"function"===typeof d.toJSON&&(d=d.toJSON(a));"function"===typeof t&&(d=t.call(e,a,d));switch(typeof d){case "string":return q(d);case "number":return isFinite(d)?String(d):"null";case "boolean":case "null":return String(d);
case "object":if(!d)return"null";v+=l;r=[];if("[object Array]"===Object.prototype.toString.apply(d)){f=d.length;for(h=0;h<f;h+=1)r[h]=k(h,d)||"null";b=0===r.length?"[]":v?"[\n"+v+r.join(",\n"+v)+"\n"+m+"]":"["+r.join(",")+"]";v=m;return b}if(t&&"object"===typeof t)for(f=t.length,h=0;h<f;h+=1)c=t[h],"string"===typeof c&&(b=k(c,d))&&r.push(q(c)+(v?": ":":")+b);else for(c in d)Object.hasOwnProperty.call(d,c)&&(b=k(c,d))&&r.push(q(c)+(v?": ":":")+b);b=0===r.length?"{}":v?"{\n"+v+r.join(",\n"+v)+"\n"+
m+"}":"{"+r.join(",")+"}";v=m;return b}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var m=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,v,l,A={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,e,h){var c;l=v="";if("number"===typeof h)for(c=0;c<h;c+=1)l+=" ";else"string"===typeof h&&(l=h);if((t=e)&&"function"!==typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return k("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,e){function h(a,c){var k,r,d=a[c];if(d&&"object"===typeof d)for(k in d)Object.hasOwnProperty.call(d,k)&&(r=h(d,k),void 0!==r?d[k]=r:delete d[k]);return e.call(a,c,d)}var c;m.lastIndex=0;m.test(a)&&(a=a.replace(m,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
"")))return c=eval("("+a+")"),"function"===typeof e?h({"":c},""):c;throw new SyntaxError("JSON.parse");})})();g.JSON||(g.JSON=JSON);g.tb=function(){function a(a,b){var c=this;V[a]?(c=V[a],b&&c.Xe?c.Eh?c.Eh.push(b):c.Eh=[b]:b?c.Xe=b:b={}):b&&b.Sa&&q(b.Sa)?(c=q(b.Sa),0<=c.Sa.indexOf(c.name)&&(c.name=a),b&&c.Xe?c.Eh?c.Eh.push(b):c.Eh=[b]:b?c.Xe=b:b={}):(b||(b={}),c.name=a,V[a]=c,ba.push(c),c.Sa=[],c.complete=!1,c.Ka={},c.nd={},c.Ta=[],c.loaded=[],c.bc=[],c.W=!1,c.Q=b.Q||!1,c.Ia=b.Ia||!1,c.Il=b.Il||!1,c.onload=[],c.Kl={},c.Xg={},c.Jl={},c.wa={});b.hasOwnProperty("absrefs")&&(c.Ia=b.Ia);if(b.Sa)for(var d=b.Sa,f=0,p=d.length;f<p;){var h=
d[f++];d[h]?d[h]!==c&&C("Alias %s for %o already associated with %o",h,c,d[h]):(d[h]=c,c.Sa.push(h))}if(b.onload){var d=b.onload,e;for(e in d)d.hasOwnProperty(e)&&c.fe(d[e],e)}if(b.wa)for(e=b.wa,d=0,f=e.length;d<f;)p=e[d++],"string"!==typeof p?C("Complex indices not yet handled!"):(this.wa[p]=new J).Of=c;return c}function q(a){for(var b=0,c=a.length;b<c;){var d=a[b++];if(d=V[d])return d}return!1}function k(a){return V.hasOwnProperty(a)&&V[a]||R.hasOwnProperty(a)&&R[a]||!1}function m(b,c,d,f){"function"!==
typeof d&&(d=a);if(b){if(b instanceof e)return b;if("object"===typeof b&&b.id)return v(b,c);if(c&&c.Ka.hasOwnProperty(b))return c.Ka[b];if(c&&c.qa(b))return c.qa(b);if("string"===typeof b&&ia.exec(b)){var p=b.indexOf("@");1===p&&":"===b[0]&&(b=b.slice(1),p=0);if(0<p){var h=!1,z=b.slice(p+1),H;k(z)||(ia.exec(z)?(H=m(z))?f=!0:z=b.slice(p+1):z=b.slice(p+1));h=c&&c.name===z?c:k(z);b=b.slice(0,p);h?c=h:f?(C("Creating forced RefDB domain %s for reference %s",z,b),c=a.open(z,d)):c=k(z);c&&H&&(c.origin=H,
H.name&&(c.al=H.name));b=b.slice(0,p)}else 0>p?(h=0===b.search(":#U")?b.slice(3):0===b.search("#U")?b.slice(2):0===b.search("U")?b.slice(1):b,p=h.indexOf("t"),z=b.length-2,p=0<p?"UUID"+h.slice(p):!1,z=0<z?"-UUIDTYPE="+h.slice(z):!1,(h=p&&(V[p]||R[p])||z&&(V[z]||R[z]))?c=h:f&&p&&d&&(C("Creating forced RefDB domain %s for reference %s",p,b),c=new d(p),p&&c.Db(p))):"@"===b[1]?(c=b.indexOf("/"),d=b.slice(0,c),(p=R[d])?c=p:(c=ja(b.slice(0,c),!0))?c=new a(c,{Sa:[d]}):(C("Can't find domain for atid %s when resolving %s",
d,b),c=!1)):("/"===b[1]?(c=b.slice(2).indexOf("/"),0<c&&(c+=2)):c=b.indexOf("/"),c=b.slice(p,c+1),c=V[c]||R[c]||d&&new d(c))}}else return b;return c?c.Ka.hasOwnProperty(b)?c.Ka[b]:f?c.G(b):!1:!1}function e(a,b,c){if(0===arguments.length)return this;var d=a.indexOf("@");if(1<d&&"\\"!==a[d-1]){var f=a.slice(d+1);f!==b.name&&0>b.Sa.indexOf(f)&&C("Reference to %s being handled by %s",a,b);a=a.slice(0,d)}return b.Ka.hasOwnProperty(a)?b.Ka[a]:c?(c.d=a,c.m=b,b.Ia||(c.Ha=b.name),b.Ka[a]=c,b.Ta.push(c),c):
!b.ie||this instanceof b.ie?(this.d=a,this.m=b,b.Ia||(this.Ha=b.name),b.Ka[a]=this,b.Ta.push(this),this):new b.ie(a,b)}function v(b,c){var d=!1;b.Ha&&(d=a.qa(b.Ha)||new a(b.Ha));return d?d.G(b.d):a.resolve(b.d,c,a,!0)}function l(a,b,c){if("undefined"===typeof a||"number"===typeof a||null===a||a instanceof e)return a;if(a instanceof Array){for(var d=0,f=a.length,p=!1;d<f;){var h=a[d++],z=h;if(null===h)z=void 0;else if(h instanceof e)z=h;else if("object"===typeof h&&h.d){var H=v(h,b);if(H){for(var r in h)h.hasOwnProperty(r)&&
"_id"!==r&&"_db"!==r&&(H[r]=l(h[r],b,c));z=H}}else c&&"string"===typeof h&&ia.exec(h)&&(z=m(h,b)||h);"undefined"===typeof z?p||(p=a.slice(0,d-1)):p?p.push(z):z!==h&&(p=a.slice(0,d-1),p.push(z))}return p?p:a}if("object"===typeof a&&a.d){r=v(a,b);for(d in a)a.hasOwnProperty(d)&&"_id"!==d&&"_db"!==d&&(r[d]=l(a[d],b,c));return r}return c&&"string"===typeof a&&ia.exec(a)?m(a,b)||a:a}function A(a,b,c,d,f){(c=m(a.d,a.Ha||c,c.constructor,!0))?(b.push(c),c.Nb(a,d||!1,f)):C("Couldn't resolve database for %o",
a.d)}function t(a,b){if(a instanceof e)return a.m===b?{d:a.d}:a.m.Ia?{d:a.d}:{d:a.d,Ha:a.Ha||a.m.name};if(a instanceof Array){for(var c=0,d=a.length,f=!1;c<d;){var p=a[c++],h=t(p,b);p!==h?(f||(f=a.slice(0,c-1)),f.push(h)):f&&f.push(p)}return f||a}if("object"===typeof a){c=!1;d=[];for(f in a)if(a.hasOwnProperty(f))if(h=a[f],p=t(h,b),h!==p){if(!c&&(c={},d.length))for(var h=0,z=d.length;h<z;){var H=d[h++];c[H]=a[H]}c[f]=p}else c?c[f]=h:d.push(f);return c||a}return a}function y(a,b){if(b.ac)return b.ac;
var c=a["atid("+b.name+")"];if(c)b.ac=c;else{var d=a["atid.count"];d?(d=parseInt(d,10),c=b.ac="@@"+d,a["atid("+b.name+")"]=c,a["atid.count"]=d+1):(c=1,a["atid.count"]="2")}return c}function w(a,b){return a instanceof e?a.m===b?"@"+a.d:a.Ha?"@"+a.d+"@"+a.Ha:"@"+a.d:"number"===typeof a?"#"+a:"string"===typeof a?'"'+a:a.toJSON?"{"+a.toJSON():"&"+a.toString()}function h(a,b,c){return 0<=a.indexOf(b,c||0)}function c(a,b,c){return a.indexOf(b,c||0)}function b(a,b){return a===b?0:typeof a===typeof b?"number"===
typeof a?a-b:"string"===typeof a?a<b?-1:1:a.o?b.o?a.o<b.o?-1:1:-1:b.o?1:a.kd&&b.kd?a.kd<b.kd?-1:1:0:typeof a<typeof b?-1:1}function f(a,c){"string"===typeof a&&(a=[a]);"string"===typeof c&&(c=[c]);if(!a||0===a.length)return[];if(!c||0===c.length)return a;a.T!==a.length&&(a=r(a));c.T!==c.length&&(c=r(c));for(var d=[],f=0,p=0,h=a.length,e=c.length,z=a.Ca&&c.Ca,H=!0;f<h&&p<e;)a[f]===c[p]?(f++,p++):(z?a[f]<c[p]:0>b(a[f],c[p]))?(H&&"string"!==typeof a[f]&&(H=!1),d.push(a[f]),f++):p++;if(!H||a.Ca)d=d.concat(a.slice(f));
else for(;f<h;)p=a[f++],H&&"string"!==typeof p&&(H=!1),d.push(p);d.Ca=H;d.T=d.length;return d}function F(a,c){var f=[];f.T=0;a instanceof Array||(a=[a]);c instanceof Array||(c=[c]);if(!a||0===a.length){if(!c||0===c.length)return f;f=f.concat(c);return c.T?(f.T=c.T,f.Ca=c.Ca,f):d(f)}if(!c||0===c.length)return F(c,a);a.T!==a.length&&(a=d(a));c.T!==c.length&&(c=d(c));for(var p=0,h=0,e=a.length,z=c.length,H=a.Ca&&c.Ca;p<e&&h<z;)a[p]===c[h]?(f.push(a[p]),p++,h++):(H?a[p]<c[h]:0>b(a[p],c[h]))?f.push(a[p++]):
f.push(c[h++]);for(;p<e;)f.push(a[p++]);for(;h<z;)f.push(c[h++]);f.Ca=H;f.T=f.length;return f}function r(a){var b=[];b.T=0;if(0===arguments.length)return b;if(1===arguments.length){if(a){if(a instanceof Array)return a.length&&a.T!==a.length?"number"===typeof a.T?d(a):d([].concat(a)):a;b=[a];"string"===typeof a&&(b.Ca=!0);b.T=1}return b}for(var c=0,f=arguments.length,b=[];c<f;){var p=arguments[c++];p&&(p instanceof Array?b=b.concat(p):b.push(p))}return d(b)}function d(a){var c;if(a.T!==(c=a.length))if(0===
c)a.T=0;else if(1===c)c=a[0],a.T=1,a.Ca="string"===typeof c,"object"!==typeof c||c.o||c.kd||(c.K?c.o=c.K():c.kd=++Da);else{c=!0;for(var d=0,f=a.length;d<f;){var p=a[d++];c&&"string"!==typeof p&&(c=!1,"object"!==typeof p||p.o||p.kd||(p.K?p.o=p.K():p.kd=++Da))}a.Ca=c;if(1===f)return a;c?a.sort():a.sort(b);d=c=1;f=a.length;for(p=a[0];c<f;)a[c]!==p?a[d++]=p=a[c++]:c++;a.T=a.length=d}return a}function x(a,b){if(b instanceof Array){var c=!1,d;for(d in b)x(a,d)&&(c=!0);return c}if(a.indexOf){if(0<=a.indexOf(b))return!1}else{c=
0;for(d=a.length;c<d;){if(a[c]===b)return!1;c++}"string"!==typeof b&&(a.Ca=!1)}a.push(b);return!0}function K(a,b){if(b instanceof Array){var c=!1,d;for(d in b)K(a,d)&&(c=!0);return c}if(a.indexOf){c=a.indexOf(b);if(0>c)return!1;a.splice(c,1);return!0}c=0;for(d=a.length;c<d;){if(a[c]===b)return a.splice(c,1),!0;c++}return!1}function J(){return this}function G(){return this}function D(a){this.m=a;return this}function E(a,b,c){if(0===arguments.length)return this;a&&(this.Nn=a);b&&(this.yr=b instanceof
Array?b:[b]);c&&(this.Dh=c);var d=0,f=a.length;if(1<f)for(;d<f;)if(a[d].Ia)d++;else return this;this.sf=!0;return this}function P(a,b){return b.weight-a.weight}var O=g.$a,L=g.Aa,z=g.va,W=g.b,M=g.JSON,Q=g.t,C=Q.warn,V={},ba=[],H=[],R={},p=g.rl.indexedDB;a.prototype.name=a.prototype.Sa=a.prototype.Ka=a.prototype.nd=a.prototype.Ta=a.prototype.loaded=a.prototype.bc=a.prototype.W=a.prototype.Q=a.prototype.Ia=a.prototype.Il=a.prototype.onload=a.prototype.Xg=a.prototype.wa=a.prototype.complete=!1;var ea=
a.Pd=2,S=a.Qd=4,aa=a.Rd=8,ca=ea|aa;a.open=function(b,c){c||(c=a);return V.hasOwnProperty(b)&&V[b]||R.hasOwnProperty(b)&&R[b]||new c(b)};a.qa=k;a.prototype.Db=function(a){R[a]?R[a]!==this&&C("Alias %s for %o already associated with %o",a,this,R[a]):(R[a]=this,this.Sa.push(a))};a.prototype.toString=function(){return"RefDB("+this.name+")"};a.prototype.G=function(a){if("string"!==typeof a){if(a instanceof e)return a;throw Error("Not a reference");}":"===a[0]&&"@"===a[1]&&(a=a.slice(1));var b=this.Ka;
return b.hasOwnProperty(a)&&b[a]||this.ie&&new this.ie(a,this)||new e(a,this)};a.prototype.qa=function(a){if("string"!==typeof a)return a instanceof e?a:!1;":"===a[0]&&"@"===a[1]&&(a=a.slice(1));var b=this.Ka;return b.hasOwnProperty(a)&&b[a]};a.prototype.Wc=function(a){var b=0,c=this.Ka,d=this.nd;a instanceof Array||(a=[a]);for(var f=0,p=a.length;f<p;){var h=a[f++],z;h instanceof e?z=h.d:(z=h,h=this.qa(z));if(h){b++;var H=h.Sa,r=this.Ta.indexOf(h);0<=r&&this.Ta.splice(r,1);r=this.bc.indexOf(h);0<=
r&&this.bc.splice(r,1);r=this.loaded.indexOf(h);0<=r&&this.loaded.splice(r,1);delete c[z];if(this.Q instanceof Storage){var h=this.Q,r="allids("+this.name+")",k=h[r],k=k&&M.parse(k),S=k.indexOf(z);0<=S&&(k.splice(S,1),h.setItem(r,M.stringify(k)),h.removeItem(z))}if(H)for(z=0,h=H.length;z<h;)delete d[H[z++]]}}return b};a.prototype.Me=function(a){if(!this.Q)return!1;if(Storage&&this.Q instanceof Storage){var b=this.Q,c="allids("+this.name+")",d=this.Q[c];d&&(d=M.parse(d));if(d)for(var f=0,h=d.length;f<
h;)delete b[d[f++]];delete b[c];a&&setTimeout(a,5)}else if(!(this.Q instanceof p))return!1};a.prototype.fe=function(a,b,c){if(b&&this.Kl[b]){var d=this.Kl[b];if(d===a)return;var f=this.onload.indexOf(d);if(0>d){C("Couldn't replace named onload method %s for <RefDB %s>",b,this.name);return}this.onload[f]=a}else this.onload.push(a);b&&(this.Kl[b]=a);c||z.xb(a,[].concat(this.loaded))};a.prototype.$o=function(a,b){this.Xg[a]=b};var ia=/^(((:|)@(([0-9a-fA-F]+\/[0-9a-fA-F]+)|(\/\w+\/.*)|(@\d+\/.*)))|((U|#U|:#U|)[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12})|((U|#U|:#U|)[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}t[0-9a-zA-Z]+)|([^@]+@.+))$/,
ja=O.Da;a.resolve=m;a.G=m;g.Rc=a.Rc=e;e.prototype.m=e.prototype.Ha=e.prototype.o=e.prototype.d=!1;e.prototype.toString=function(){return this.o?this.o:this.Ha?this.d+"@"+this.Ha:this.m.Ia?this.d:this.d+"@"+this.m.name};e.prototype.K=function(){return this.o?this.o:this.Ha?this.o=this.d+"@"+this.Ha:this.m.Ia?this.o=this.d:this.o=this.d+"@"+this.m.name};e.prototype.Db=function(a){var b=this.m.Ka;if(b.hasOwnProperty(a)){if(b[a]===this)return!1;throw{error:"Ref alias conflict"};}if(this.m.nd.hasOwnProperty(a)){if(this.m.nd[a]===
this)return!1;throw{error:"Ref alias conflict"};}this.m.nd[a]=this;return!0};e.prototype.Nb=function(a,b,c){var d=this.m,p=this.ja,h=d.wa,e=d.onload,z=p&&d.Xg,H=p&&d.Jl,r=a.Sa;"undefined"===typeof c&&(c=ca);"undefined"===typeof b&&(b=this.at||d.at);var k=0!==(c&ea),x=0!==(c&S);c=0!==(c&aa);if(r)for(var y=0,m=r.length;y<m;){var w=r[y++],R=d.Ka.hasOwnProperty(w)&&d.Ka[w]||d.nd.hasOwnProperty(w)&&d.nd[w];R&&R!==this?C("Ambiguous ref %s in %s refers to both %o and %o",w,d,R.name,this.name):r[w]=this}r=
L();x&&!this.ja&&(this.ja=r);for(var ba in a)if("aliases"!==ba&&"_id"!==ba&&a.hasOwnProperty(ba))if(m=a[ba],y=b&&b[ba],"undefined"!==typeof m&&(y&&(m=y(this,ba,m,a,k)),m=l(m,d,c)),w=p&&this[ba],this[ba]=m,w){y=f(w,m||[]);m=m?f(m,w):[];k&&h[ba]&&(m.length&&this.We(ba,m,h[ba],d),y.length&&this.Or(ba,y,h[ba],d));if(m.length&&z[ba])for(var w=z[ba],R=0,F=m.length;R<F;)w(m[R++]);if(y.length&&H[ba])for(m=H[ba],w=0,R=y.length;w<R;)m(y[w++])}else m&&k&&h[ba]&&this.We(ba,m,h[ba],d);if(x){if(e)for(a=0,b=e.length;a<
b;)(0,e[a++])(this,r);if(this.Cb){e=this.Cb.fo;a=0;for(b=e.length;a<b;)e[a++](this,r);delete this.Cb}}x||this.vc||(this.vc=r,d.bc.push(this),d.W||(d.W=r,d.bc.push(d)))};e.prototype.Bo=function(a,b){return l(this.m,a,b)};a.prototype.Bo=function(a,b){return l(a,this,b)};a.prototype.Nb=function(a,b,c,d){var f=[],p=this;if(!(a instanceof Array))return A(a,f,p,b,c),d&&d.call&&setTimeout(function(){d(f[0])}),f[0];if(!d||7>=a.length){for(var h=0,e=a.length;h<e;)A(a[h++],f,p,b,c);d&&d.call&&setTimeout(function(){d(f)},
10);return f}d.call?z.xb(function(a){A(a,f,p,b,c)},a,{Hb:function(){d(f)}}):z.xb(function(a){A(a,f,p,b,c)},a)};e.prototype.fe=function(a,b){this.ja?a(this):this.Cb?this.Cb[b]||(b&&(this.Cb[b]=a),this.Cb.fo.push(a)):(this.Cb={fo:[a]},b&&(this.Cb[b]=a))};e.ak=e.prototype.ak=function(a){var b=this.d,c={d:this.d};a||(a=this.Wr||b.Wr);b.Ia||(this.Ha=b.name);for(var d in this)if("_"!==d[0]&&this.hasOwnProperty(d)){var b=this[d],f=a&&a[d];f&&(b=f(b,d,c));"undefined"!==typeof b&&(c[d]="number"===typeof b||
"string"===typeof b?b:b instanceof e?b.m.Ia?{d:b.d}:{d:b.d,Ha:b.Ha||b.m.name}:t(b,this.m))}return c};e.Vr=t;a.prototype.Vr=function(a){return t(a,this)};a.prototype.load=function(a,b,c){function d(){b&&(c?b.apply(null,c):b())}if(this.Q&&this.Q instanceof Storage){if(a)if(!0===a){var f=this.Q["allids("+this.name+")"];a=f?M.parse(f).concat(this.Ta):[].concat(this.Ta)}else a instanceof e?a=[a]:"string"===typeof a?a=[a]:"undefined"===typeof a.length&&(a=[a]);else a=[].concat(this.Ta);for(var p=this.Q,
h=this.loaded,H=this,r=this.Ia,f=this.Ka,k=!1,m=[],x=0,l=a.length;x<l;){var w=a[x++],ba=w;"string"===typeof w&&(ba=f[w]);ba instanceof e&&ba.ja||m.push(w)}if(m.length)return z.xb(function(a){var b=a;"string"===typeof b&&(b=H.G(b,!1,!0));b?b.ja||(h.push(b),r?a=p[b.d]:(k||(k=H.ac?H.ac:H.ac=y(p,H)),a=p[k+"("+b.d+")"]),a?b.Nb(M.parse(a),!1,S|ea):C("No item stored for %s",b.d)):C("Couldn't resolve ref to %s",a)},m,b?c?{Hb:d}:{Hb:b}:!1);d();return new Promise(function(b){b(a)})}};a.prototype.load=function(a){return this.Q instanceof
Storage?this.Bt(a):!1};a.prototype.Bt=function(a){var b=this,c=this.Q,d=this.loaded,f=b.ac||(b.ac=y(c,b)),p=[],h=b.Ka,H=b.Ia;a?!0===a?a=M.parse(c["allids("+b.name+")"]||"[]").concat(b.Ta):Array.isArray(a)||(a=[a]):a=[].concat(b.Ta);for(var r=0,k=a.length;r<k;){var m=a[r++],x=m;"string"===typeof m&&(x=h[m]);x instanceof e&&x.ja||p.push(m)}return p.length?z.xb(function(a){var n=a;"string"===typeof n&&(n=b.G(n,!1,!0));n?!n.ja&&(a=H?c[n.d]:c[f+"("+n.d+")"])&&(d.push(n),n.Nb(M.parse(a),!1,S|ea)):C("Couldn't resolve ref to %s",
a)},p):new Promise(function(b){for(var c=[],d=0,f=a.length;d<f;){var p=a[d++];x="string"===typeof x?h[p]:p;c.push(x)}return b(c)})};a.prototype.Ct=function(a){"string"===typeof a&&(a=this.G(a));return a.load()};e.prototype.load=function(){var a=this,b=this.m;return new Promise(function(c){if(a.ja)return c(a);b.load(a).then(function(){c(a)})})};a.load=function(b,c,d,f){if("string"===typeof b){if(c=a.resolve(b,!1,c||a,!0))return c.load(d,f);throw{error:"Couldn't resolve "+b};}if(b instanceof e)return b.load(d,
f);if(b instanceof Array){d={};for(var p=[],h=0,z=b.length;h<z;){var H=b[h++],r=!1;"string"===typeof H?r=a.resolve(H,!1,c||a,!0):H instanceof e&&(r=H);if(r&&!r.ja){var H=r.m,k=H.name;d[k]?d[k].push(r):(d[k]=[r],p.push(H))}}h=0;for(z=p.length;h<z;)b=p[h++],b.load(d[b.name],f);return d}return!1};a.prototype.Iu=function(a,b){var c=this,d=this.Q,f=this.ac,p=[];return new Promise(function(h){for(var e=0,z=a.length;e<z;){var r=a[e++];"string"===typeof r&&(r=c.G(r));if(r.ja&&(!r.cr||r.vc)){var k=r.ak();
k.cr=L.Za();if(c.Ia)p.push(r.d),d.setItem(r.d,M.stringify(k));else{f||(f=r.ac?r.ac:r.ac=y(d,r));var S=f+"("+r.d+")";p.push(S);d.setItem(S,M.stringify(k))}r.vc=!1}}if(b){e=c.bc;z=[];r=0;for(k=e.length;r<k;)S=e[r++],S.vc&&z.push(S);c.bc=z;0===z.length&&(c.W=!1,e=H.indexOf(c),0<=e&&H.splice(e,1))}e=(e=d["allids("+c.name+")"])?M.parse(e):[];z=e.length;e=F(e,p);e.length!==z&&d.setItem("allids("+c.name+")",M.stringify(e));h&&g.zq(h)})};a.prototype.save=function(a,b){function c(f){if(d.Q instanceof Storage)d.Iu(a,
b).then(function(){d.W=!1;d.bc=[];var a=H.indexOf(d);0<=a&&H.splice(a,1);f&&f()});else if(!(d.Q instanceof window.indexedDB))return f()}var d=this,f=this.Q;!0===a?a=this.Ta:a||(a=this.bc);return f?new Promise(c):!1};e.prototype.save=function(){var a=this,b=this.m;return new Promise(function(c){return a.vc?b.save([a]).then(function(){c(a)}):c(a)})};a.vz=w;e.prototype.We=function(a,b,c,d){var f=[],p=this.m,h=!d||p===d||p.Ia?this.d:this.o||this.K&&this.K();d||(d=p);var z=d.wa;c||(c=z.hasOwnProperty(a)&&
z[a]);if(c){if(b instanceof e)f=p===b.m?["@"+b.d]:["@"+(b.o||b.K())];else if(b instanceof Array)for(a=0,d=b.length;a<d;)p=b[a++],p instanceof e?f.push("@"+(p.o||p.K())):"number"===typeof p?f=["#"+p]:"string"===typeof p?f=['"'+p]:p.o?f.push("@"+(p.o||p.K())):p.K&&f.push("@"+p.K());else f="number"===typeof b?["#"+b]:"string"===typeof b?['"'+b]:["?"+b.toString()];if(f.length)for(b=0,a=f.length;b<a;)d=f[b++],(p=c[d])?p.push(h):c[d]=[h]}else C("No index on %s for %o in %o",a,this,d)};e.prototype.Or=function(a,
b,c,d){d||(d=this.m);c||(c=d.wa[a]);if(c){a=[];if(b instanceof e)a=this.m===b.m?["@"+b.d]:["@"+(b.o||b.K())];else if(b instanceof Array){d=0;for(var f=b.length;d<f;){var p=b[d++];p instanceof e?a.push("@"+(p.o||p.K())):"number"===typeof p?a=["#"+b]:"string"===typeof p?a=['"'+b]:p.o?a.push("@"+(p.o||p.K())):p.K&&a.push("@"+p.K())}}else"number"===typeof b?a=["#"+b]:"string"===typeof b&&(a=['"'+b]);if(a.length)for(d=b=0,f=a.length;d<f;){var p=a[d++],h=c[p];if(h){var z=h.indexOf(this.d);0>z||(h.splice(z,
1),0===h.length&&delete c[p],b++)}}}};a.prototype.find=function(a,b){var c=this.wa[a];return c?(c=c.getItem(b,this))?d(c):[]:[]};a.prototype.count=function(a,b){var c=this.wa[a];return c?(c=c.getItem(b,this))?c.length||0:0:0};a.prototype.fn=function(a,b){b||(b=J);if(this.wa.hasOwnProperty(a))return this.wa[a];var c=this.wa[a]=new b;c.Of=this;return c};var Da=1;a.compare=b;a.YA=function(a,c){"string"===typeof a&&(a=[a]);"string"===typeof c&&(c=[c]);if(!a||0===a.length||!c||0===c.length)return[];a.T!==
a.length&&(a=r(a));c.T!==c.length&&(c=r(c));for(var d=[],f=0,p=0,h=a.length,e=c.length,z=a.Ca&&c.Ca,H=!0;f<h&&p<e;)a[f]===c[p]?(H&&"string"!==typeof a[f]&&(H=!1),d.push(a[f]),f++,p++):(z?a[f]<c[p]:0>b(a[f],c[p]))?f++:p++;d.Ca=H;d.T=d.length;return d};a.ty=f;a.tF=function(a,c){"string"===typeof a&&(a=[a]);"string"===typeof c&&(c=[c]);if(!a||0===a.length)return c;if(!c||0===c.length)return a;a.T!==a.length&&(a=r(a));c.T!==c.length&&(c=r(c));for(var d=[],f=0,p=0,h=a.length,e=c.length,z=a.Ca&&c.Ca;f<
h&&p<e;)a[f]===c[p]?(d.push(a[f]),f++,p++):(z?a[f]<c[p]:0>b(a[f],c[p]))?d.push(a[f++]):d.push(c[p++]);for(;f<h;)d.push(a[f++]);for(;p<e;)d.push(c[p++]);d.Ca=z;d.T=d.length;return d};a.To=F;a.fp=function(a,c){"string"===typeof a&&(a=[a]);"string"===typeof c&&(c=[c]);if(!a||0===a.length||!c||0===c.length)return!1;a.T!==a.length&&(a=r(a));c.T!==c.length&&(c=r(c));for(var d=0,f=0,p=a.length,h=c.length,e=a.Ca&&c.Ca;d<p&&f<h;){if(a[d]===c[f])return!0;(e?a[d]<c[f]:0>b(a[d],c[f]))?d++:f++}return!1};a.Set=
r;g.Set=r;a.Cv=r;e.prototype.get=function(a){if(this.hasOwnProperty(a))return this[a];if(this.ja)return!1};e.prototype.Og=function(a){var b=this;return new Promise(function(c,d){return b.hasOwnProperty(a)?c(b[a]):b.ja?c(void 0):b.m.Q?b.load().then(function(b){return c(b[a])}).catch(d):c(void 0)})};e.prototype.add=function(a,b,c){function d(f){if(b instanceof Array&&"number"===typeof b.T)for(var e=0,z=b.length;e<z;)p.add(a,b[e++],c);else{if("aliases"===a){if(h.Ka[b]===p||h.nd[b]===p)return f&&f(!1);
h.nd[b]=p;p.Sa?p.Sa.push(b):p.Sa=[b];return f&&f(!0)}if(p.hasOwnProperty(a)){e=p[a];if(e===b)return f&&f(!1);if(e instanceof Array){if(!x(e,b))return f&&f(!1)}else p[a]=r([e,b])}else p[a]=b instanceof Array&&"number"!==typeof b.T?r([b]):b}p.vc||(e=L(),h.W||H.push(h),h.W=e,p.vc=e,h.bc.push(p));if(h.Xg.hasOwnProperty(a))h.Xg[a](p,a,b);c&&h.wa[a]&&p.We(a,p[a],h.wa[a]);f&&f(!0)}function f(){d(!1)}var p=this,h=this.m;"undefined"===typeof c?c=h.wa.hasOwnProperty(a)?!0:!1:c&&!h.wa.hasOwnProperty(a)&&h.fn(a);
return b instanceof Array&&0===b.T?new Promise(function(a){return a(!1)}):!this.ja&&this.m.Q?(this.Cb?this.Cb.push(f):this.Cb=[f],this.load()):new Promise(d)};e.prototype.Wc=function(a,b,c){function d(f){if(p.hasOwnProperty(a)){var e=p[a];if(e===b)delete p[a];else if(e instanceof Array){if(!K(e,b))return f&&f(!1);0===e.length&&delete p[a]}else return f&&f(!1)}else return f&&f(!1);if(h.Jl.hasOwnProperty(a))h.Jl[a](p,a,b);p.vc||(e=L(),h.W&&(h.W=e,H.push(h)),p.vc=e,h.bc.push(p));c&&h.wa[a]&&p.LA(a,h.wa[a]);
return f&&f(!0)}function f(){d(!1)}var p=this,h=this.m;"undefined"===typeof c&&(c=!0);return"_id"===a?new Promise(function(a){a(!1)}):!this.ja&&this.m.Q?(this.Cb?this.Cb.push(f):this.Cb=[f],this.load()):new Promise(d)};e.prototype.test=function(a,b){if(this.hasOwnProperty(a)){if("undefined"===typeof b)return!0;var c=this[a];if(c===b||c instanceof Array&&h(c,b))return!0}if(this.ja)return!1};e.prototype.rv=function(a,b){var c=[],d=[];if(this.hasOwnProperty(a)){d=this[a];if(d===b)return;c=f(b,d);d=f(d,
b)}else c=b instanceof Array?b:[b];for(var p=0,h=d.length;p<h;)this.Wc(a,d[p++]);p=0;for(h=c.length;p<h;)this.add(a,c[p++])};e.prototype.Ld=function(){var a=!1;return this.m.Yk&&this.m.Yk(this)||this.m.yi&&(a=this.m.yi(this))&&a.outerHTML||this.d||this.ic||this.Pa};e.prototype.Kd=function(){return this.m.yi&&this.m.yi(this)||this.m.Yk&&W(this.m.Yk(this))||W("span.fdjtref",this.d||this.ic||this.Pa)};J.prototype.get=function(a){var b=w(a,this.Of);if(this.hasOwnProperty(b))return this[b];if("string"===
typeof a)return this[a]||this["@"+a]};J.prototype.getItem=J.prototype.get;J.prototype.set=function(a,b){this[w(a,this.Of)]=b instanceof Array?[b]:b};J.prototype.setItem=J.prototype.set;J.prototype.Rg=function(a,b){var c=w(a,this.Of),d=this[c],f;this[c]=d?f=d+b:f=b;return f};J.prototype.add=function(a,b){var c=w(a,this.Of);if(this.hasOwnProperty(c)){var f=this[c];if(f===b)return!1;if(f instanceof Array){if(h(f,b))return!1;f.push(b);return!0}this[c]=d([f,b]);return!0}this[c]=b instanceof Array?d([b]):
b};J.prototype.Wc=function(a,b){var c=w(a,this.Of);if(this.hasOwnProperty(c)){var d=this[c];if(d===b)return delete this[c],!0;if(d instanceof Array){var f=d.indexOf(b);if(0>f)return!1;d.splice(f,1);d.T&&d.T--;1===d.length&&(d[0]instanceof Array||(this[c]=d[0]));return!0}}return!1};g.Map=J;a.Jq=J;a.Ry=J;G.prototype.get=function(a){if("string"===typeof a&&this.hasOwnProperty(a))return this[a]};G.prototype.getItem=G.prototype.get;G.prototype.set=function(a,b){"string"===typeof a&&(this[a]=b instanceof
Array?[b]:b)};G.prototype.setItem=G.prototype.set;G.prototype.Rg=function(a,b){if("string"===typeof a){var c=this[a],d;this[a]=c?d=c+b:d=b;return d}};G.prototype.add=function(a,b){if("string"===typeof a){if(this.hasOwnProperty(a)){var c=this[a];if(c===b)return!1;if(c instanceof Array){if(h(c,b))return!1;c.push(b);return!0}this[a]=d([c,b]);return!0}this[a]=b instanceof Array?d([b]):b}};G.prototype.Wc=function(a,b){if("string"===typeof a){if(this.hasOwnProperty(a)){var c=this[a];if(c===b)return delete this[a],
!0;if(c instanceof Array){var d=c.indexOf(b);if(0>d)return!1;c.splice(d,1);c.T&&c.T--;1===c.length&&(c[0]instanceof Array||(this[a]=c[0]));return!0}}return!1}};g.jk=G;a.jk=G;D.prototype.get=function(a){if("string"===typeof a){if(this.hasOwnProperty(a))return this[a]}else if(a instanceof e)return this[this.sf&&a.d||a.o||a.K()]};D.prototype.set=function(a,b){if("string"===typeof a)this[a]=b;else if(a instanceof e)this[a.o||this.uF&&a.d||a.K()]=b;else return!1};D.prototype.Rg=function(a,b){if("string"===
typeof a)this[a]=this.hasOwnProperty(a)?this[a]+b:b;else if(a instanceof e){var c=a.o||this.sf&&a.d||a.K();this[c]=(this[c]||0)+b}else return!1};g.Km=a.Km=D;a.add=function(a,b,c,d){if(2===arguments.length)return x(a,b);if(a instanceof e)return a.add.apply(a,arguments);d?a.hasOwnProperty(b)?h(a[b],c)||a[b].push(c):a[b]=Array(c):a.hasOwnProperty(b)?a[b].push(c):a[b]=Array(c);a.Vm&&!h(a.Vm,b)&&a.Vm.push(b)};a.Wc=function(a,b,d){if(2===arguments.length)return K(a,b);if(a instanceof e)return a.Wc.apply(a,
arguments);if(!d)a[b]=[];else if(a.hasOwnProperty(b)){var f=a[b],p=c(f,d);0>p||f.splice(p,1)}};a.test=function(a,b,d){return 2===arguments.length?h(a,b):a instanceof e?a.test.apply(a,arguments):"undefined"===typeof d?(a.hasOwnProperty?a.hasOwnProperty(b):a[b])&&0<a[b].length:a.hasOwnProperty(b)?0>c(a[b],d)?!1:!0:!1};a.UA=function(a,b){0>c(a,b)&&a.push(b)};a.remove=function(a,b,d){var f=c(a,b);if(0>f)return a;a.splice(f,1);if(d)for(d--;0<d&&0<=(f=c(a,b,f));)a.splice(f,1),d--;return a};a.indexOf=function(a,
b,c){return c?a.indexOf(b,c):a.indexOf(b)};a.contains=h;a.position=c;a.Er=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};a.wB=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b};a.Qc=E;E.prototype.sf=!1;E.prototype.Xn=function(){if(this.mf)return this;var a=this.Nn,b=this.yr;if(!a||!a.length){var c=this.hb=r();C("No dbs for query %o!",this);return c}if(!b||!b.length){for(var c=r(),f=0,p=a.length;f<p;)c=F(c,d(a[f++].Ta));return this.hb=c}var h=this.fr||this.Dh,
e=1===a.length||this.sf,c=new D,f=new D,p=r(),z={};f.sf=c.sf=e;for(var H=0,k=b.length;H<k;){var S=b[H++],m=S.Uk,x=S.values,y=S.Dh,S=[];m instanceof Array||(m=[m]);x instanceof Array||(x=[x]);for(var l=0,w=m.length;l<w;)for(var ea=m[l++],ba=y&&y[ea]||h&&h[ea]||this.py||1,I=0,ca=x.length;I<ca;)for(var R=x[I++],q=0,t=a.length;q<t;){var L=a[q++],Q=L.find(ea,R);Q&&Q.length&&S.push({Vy:ea,Ss:d(Q),weight:ba,value:R,db:L})}S.sort(P);m=0;x=S.length;for(y={};m<x;)if(l=S[m++],ea=l.Ss,ba=l.db,w=ba.Ia,I=0,ca=
ea.length,e||w)for(;I<ca;)R=ea[I++],y[R]||(y[R]=R,z[R]||(p.push(ba.G(R)),z[R]=R),f[R]=(f[R]||0)+1,c[R]=(c[R]||0)+l.weight);else R=ea[I++],ea=ba.G(R),w=ea.o||w&&ea.d||ea.K(),y[w]||(y[w]=w,z[w]||(p.push(ea),z[w]=w),f[w]=(f[w]||0)+1,c[w]=(c[w]||0)+l.weight)}if(1<k){a=this.hb=[];b=new D;h=new D;e=0;for(z=p.length;e<z;)H=p[e++],k=f.get(H),2<=k&&(S=c.get(H),b.set(H,S),h.set(H,k),a.push(H));a.Ca=!1;a.T=a.length;this.hb=a;this.mf=b;this.Kk=h}else this.hb=d(p),this.mf=c,this.Kk=f;return this};a.Yj=function(a,
b,c,d){b&&!d&&"number"!==typeof b&&b.version?(d=b,b=d.version):d||(d={});c||(c=d.Xe||!1);b||(b=1);var f=d.trace,h=a+":"+b;return new Promise(function(e,z){if("undefined"===typeof p||!p.open)if(Q.warn("No indexedDB implementation for opening %:",h),z)z(Error("No indexedDB implementation"));else throw Error("No indexedDB implementation");try{var H=p.open(a,b),r=!1,k=setTimeout(function(){r=!0;Q.warn("Init timeout for indexedDB %s",h);z(Error("Init timeout"))},d.timeout||15E3);H.onerror=function(a){r=
!0;C("Error initializing indexedDB: %o",a.errorCode);k&&clearTimeout(k);return z?z(a):a};H.onsuccess=function(a){if(r)Q("Discarding indexedDB %s after failure!",h);else return a=a.target.result,k&&clearTimeout(k),f&&Q("Got existing IndexedDB %s %o",h,a),e?e(a):a};H.onupgradeneeded=function(d){var f=d.target.result;if(c)if(H.onsuccess=function(){return e?e(f):f},H.onerror=function(a){Q("Error upgrading %s %o",h,a);if(z)z(a);else throw Error("Error upgrading %s",h);},c.call)try{return c(f),e?e(f):f}catch(p){Q("Error upgrading %s:%d: %o",
a,b,p),z&&z(p)}else if(z)z(Error("Bad indexDB init: %o",c));else throw Error("Bad indexDB init: %o",c);else return e(f);return f}}catch(S){Q("usingIndexedDB failed: %o",S),z&&z(S)}})};return a}();g.Od=function(){function a(a,c){var h=a,e=!1;"&"===a[-1]?e=!1:0<=a.indexOf("?")?e=!0:h=a+"?";if("string"===typeof c)h=h+(e?"&":"")+c;else if(c.length)for(var d=0;d<c.length;)c[d]&&(h=h+(e?"&":"")+encodeURIComponent(c[d])+"="+encodeURIComponent(c[d+1]),e=!0),d+=2;else for(d in c)c.hasOwnProperty(d)&&(h=h+(e?"&":"")+encodeURIComponent(d)+"="+encodeURIComponent(c[d]),e=!0);return h}function q(b,c,h,e,d,k){var m="number"===typeof k?k:k&&k.timeout;"number"===typeof k?k={}:k||(k={});var y=new XMLHttpRequest,
l=k.EE;c=h?a(c,h):c;y.onreadystatechange=function(){if(4===y.readyState){var a=y.status;(l?l.call?l(y):Array.isArray(l)?0<=l.indexOf(a):200<=a&&300>a||304===a:200<=a&&300>a||304===a)?b(y):e&&e(y)}};m&&(y.timeout=m,e&&(y.ontimeout=function(){e(y)}));y.open("GET",c);y.withCredentials=k.hasOwnProperty("credentials")?k.Mf:!0;if(d)for(var w in d)d.hasOwnProperty(w)&&y.setRequestHeader(w,d[w]);y.send(null);return y}function k(a,f,h){if(f&&c(f))return!1;var e=g.b("SCRIPT");f&&(e.id=f);h&&(e.bp=h);e.language=
"javascript";e.src=a;document.body.appendChild(e)}function m(a){if(a=c(a))a.bp&&a.bp(),w.remove(a)}function e(a){g.a.hd.Fk(a);for(var c=!1,h=w.J(a,"INPUT"),e=0;e<h.length;){var d=h[e++];!d.disabled&&(/(radio)|(checkbox)/i.exec(d.type)?d.checked:1)&&(c=(c?c+"&":"")+d.name+"="+encodeURIComponent(d.value))}h=w.J(a,"TEXTAREA");for(e=0;e<h.length;)d=h[e++],d.disabled||(c=(c?c+"&":"")+d.name+"="+encodeURIComponent(d.value));a=w.J(a,"SELECT");for(e=0;e<a.length;)for(var d=a[e++],h=d.name,d=w.J(d,"OPTION"),
k=0;k<d.length;){var m=d[k++];m.selected&&(c=(c?c+"&":"")+h+"="+encodeURIComponent(m.value))}return c}function v(a,c,h){c=c.toLowerCase();if(a.hasOwnProperty(c)){var e=a[c];e.push?e.push(h):a[c]=[e,h]}else a[c]=h}function l(a,c,k){var r=a.getAttribute("ajaxaction")||a.action;if(!r)return!1;var d=a.getAttribute("synchronous"),m=!1,y=!1,l=new XMLHttpRequest,q=e(a);w.h(a,"submitting");d?"GET"===a.method?l.open("GET",r+"?"+q,!1):"PUT"===a.method?l.open("PUT",r,!1):l.open("POST",r,!1):"GET"===a.method?
l.open("GET",r+"?"+q):"PUT"===a.method?l.open("PUT",r):l.open("POST",r);l.onreadystatechange=function(){4===l.readyState&&200<=l.status&&300>l.status?(w.l(a,"submitting"),m=!0,c&&c(l,a),y=!0):4===l.readyState&&(h("Failed callback (%d,%d) %o for %o, not calling %o",l.readyState,4===l.readyState&&l.status,l,r,c),w.l(a,"submitting"),c&&c(l,a),y=!0)};k&&k.accept&&l.setRequestHeader("Accept",k.Lw);l.withCredentials=k&&k.hasOwnProperty("creds")?k.ey:!0;try{"GET"===a.method?l.send():(l.setRequestHeader("Content-type",
"application/x-www-form-urlencoded"),l.send(q)),m=!0}catch(t){}d&&!y&&4===l.readyState&&200<=l.status&&300>l.status&&(w.l(a,"submitting"),m=!0,c&&c(l,a));return m}function A(a){var c=a.getAttribute("jsonpuri");if(!c)return!1;var l=a.id?"JSONP"+a.id:"FORMJSONP",r=e(a);w.h(a,"submitting");try{k(c+"?"+r,l,function(){g.b.l(a,"submitting")})}catch(d){return m(l),h.warn("Attempted JSONP call signalled %o",d),!1}return!0}function t(a){var c=1,h=a.length;c||(c=0);for(var e=Array(h-c);c<h;)e[c]=a[c],c++;return e}
function y(b,c,h){var e=new XMLHttpRequest;e.open("GET",a(c,h),!1);e.send(null);return b?b(e):e}var w=g.b,h=g.t,c=g.I;q.VE=function(a,c){return q(function(c){a(c.responseText)},c,w.Array(arguments,2))};q.Eo=function(a,c){q(function(c){a(JSON.parse(c.responseText))},c,w.Array(arguments,2))};q.VF=function(a,c){return q(function(c){a(c.responseXML)},c,w.Array(arguments,2))};q.Tk=function(a,c,h,e){return new Promise(function(d,k){q(function(a){d(a)},a,c,function(a){k(a)},h,e)})};q.bs=function(a){return new Promise(function(c,
h){q(function(a){c(a.responseText)},a,void 0,function(a){h(a)},void 0,void 0)})};q.Ty=function(a,c,h,e){return new Promise(function(d,k){q(function(a){d(JSON.parse(a.responseText))},a,c,function(a){k(a)},h,e)})};q.Uy=function(a,c,h,e){return new Promise(function(d,k){q(function(a){d(JSON.parse(a.responseXML))},a,c,function(a){k(a)},h,e)})};q.fB=k;q.gB=m;q.ls=e;q.jo=function(a){g.a.hd.Fk(a);for(var c={},h=w.J(a,"INPUT"),e=0;e<h.length;){var d=h[e++];!d.disabled&&("radio"===d.type||"checkbox"===d.type?
d.checked:1)&&v(c,d.name,d.value)}h=w.J(a,"TEXTAREA");for(e=0;e<h.length;)d=h[e++],d.disabled||v(c,d.name,d.value);a=w.J(a,"SELECT");for(e=0;e<a.length;)for(var d=a[e++],h=d.name,d=w.J(d,"OPTION"),k=0;k<d.length;){var l=d[k++];l.selected&&v(c,h,l.value)}return c};q.gz=l;q.get=function(a){return y(!1,a,t(arguments))};q.kl=function(a){return y(function(a){return a.responseText},a,t(arguments))};q.uz=function(a){return y(function(a){return JSON.parse(a.responseText)},a,w.Array(arguments,1))};q.Oz=function(a){return y(function(a){return a.responseXML},
a,w.Array(arguments,1))};q.onsubmit=function(a,c){a=a||window.event||null;var h=a.nodeType?a:g.a.c(a);g.a.hd.Fk(h);if(w.L(h,"submitting"))return w.l(h,"submitting"),h.$r=!1;h.$r=!0;w.h(h,"submitting");return l(h,c)||A(h)?(g.a.cancel(a),!0):!1};return q}();var yb=function(){function a(e,l,h,c){if(""===e)return e;if(!e&&this instanceof a)return l&&(this.Hc=l),h&&(this.tf=h),c&&(this.Ye=c),this;if(!e)return e;"undefined"===typeof l&&(l=a.Hc||!1);"undefined"===typeof h&&(h=a.tf||!1);"undefined"===typeof c&&(c=a.Ye||!1);if("string"===typeof e){e=t(e).toLowerCase().replace(A,"");e.trim?e=e.trim():(0<e.search(/\S/)&&(e=e.slice(e.search(/\S/))),0<e.search(/\s+$/)&&(e=e.slice(0,e.search(/\s+$/))));if(""===e)return"";e=e.split(/\W*\s+\W*/g);var b,f=[],F;F=e.length;
var r,d;if(0===F)return"";e[0]=e[0].replace(/^\W+/,"");1<F&&(e[F-1]=e[F-1].replace(/\W+$/,""));if(h){if("number"===typeof h)for(r=0,d=e.length;r<d;)F=e[r++],b.length>h&&f.push(F);else if(h.call)for(r=0,d=e.length;r<d;)(F=h(e[r++]))&&f.push(F),r++;else for(r=0,d=e.length;r<d;)b=e[r++],F=h[b],""!==F&&(F&&"string"===typeof F?f.push(F):f.push(b));f.length&&(e=f)}h=l;!0===l?h=q:l===k&&(h=!1);if(l&&c)l=e.sort(h).join(" ");else if(l){a:if(l=e.sort(h),c=0,h=l.length,b=!1,!(2>h))for(;c<h;){if(b&&l[c]===b){c=
l[0];h=[c];b=1;for(e=l.length;b<e;)l[b]===c?b++:h.push(c=l[b++]);l=h;break a}b=l[c++]}l=l.join(" ")}else l=e.join(" ");return l}if(e.nodeType){if(3===e.nodeType)return a(e.nodeValue);if(1===e.nodeType)return a(m(e))}throw Error("bad arg to WSN");}function q(a,e){var h=a.length,c=e.length;return h===c?a>e?-1:a<e?1:0:h>c?-1:1}function k(a,e){return a>e?-1:a<e?1:0}function m(a,e){if(a.nodeType){if(3===a.nodeType)return e?e+a.nodeValue:a.nodeValue;if(1===a.nodeType){var h=a.childNodes,c=window.getComputedStyle?
window.getComputedStyle(a):{position:"static",display:"block"};if("static"!==c.position)return e||"";"inline"!==c.display?e="\n"+(e||""):e||(e="");for(var c=0,b=h.length;c<b;){var f=h[c++];3===f.nodeType?e+=f.nodeValue:1===f.nodeType&&(e=m(f,e))}return e}return e?e:""}return e||""}function e(e,k,h,c,b){"undefined"===typeof k&&(k=a.Pg||!1);"undefined"===typeof h&&(h=a.Hc||!1);"undefined"===typeof c&&(c=a.tf||!1);"undefined"===typeof b&&(b=a.Ye||!1);return(e=a(e,h,c,b))?k?k(e):e:e}function v(e,k,h,
c,b){"undefined"===typeof k&&(k=a.Pg||!1);"undefined"===typeof h&&(h=a.Hc||!1);"undefined"===typeof c&&(c=a.tf||!1);"undefined"===typeof b&&(b=a.Ye||!1);for(var f={},l=0,r=e.length;l<r;){var d=e[l++],m=a(d,h,c,b),m=k?k(m):m;f[m]=d}return f}var l=g.ng,A=/(\pM)/g,t=g.String.On;a.pB=q;a.ZB=k;a.prototype.Kb=a.Kb=m;a.iz=function(e,k){return a(e,k||q)};a.Jt=function(){var e=a.apply(null,arguments);if(e){if(a.Vg)return a.Vg(e);if(l&&l.Qg)return l.Qg(e);throw Error("No MD5 implementation");}return e};a.fE=
function(){var e=a.apply(null,arguments);if(e){if(a.dm)return a.Vg(e);if(l&&l.Oi)return l.Oi(e);throw Error("No SHA1 implementation");}return e};a.hash=e;a.prototype.ng=function(k){return e(k,this.Pg||a.Pg||!1,this.Hc||a.Hc||!1,this.tf||a.tf||!1,this.Ye||a.Ye||!1)};a.Ft=v;a.prototype.Ft=function(e){return v(e,this.Pg||a.Pg||!1,this.Hc||a.Hc||!1,this.tf||a.tf||!1,this.Ye||a.Ye||!1)};a.HB=function(e,k,h,c){return v(e,a.Vg||l&&l.Qg,k,h,c)};a.IB=function(e,k,h,c){return v(e,a.dm||l&&l.Oi,k,h,c)};a.Vg=
l&&l.Qg;a.dm=l&&l.Oi;return a}();g.Pq=yb;g.Oq=function(){function a(l){function m(a,e){for(var l=k(a).split(/\b/g),z=[],w=0,y=l.length;w<y;){var t=l[w++],v=/[A-Z][^A-Z]/.exec(t),E=l[w];if(!(0>t.search(/\w/)||(E&&G.exec(E)&&w+1<y&&0<=l[w+1].search(/\w/)&&(t=t+E+l[w+1],w+=2),2>t.length||c.hasOwnProperty(t)||v&&c.hasOwnProperty(t.toLowerCase()))))if(h)for(v=0,E=h.length;v<E;)h[v++](t);else if(z.push(t),f.hasOwnProperty(t)&&(v=f[t],"string"===typeof v?z.push(v):z=z.concat(v)),b)for(v=0,E=b.length;v<E;){var ba=b[v++](t);"string"===typeof ba?
z.push(ba):z=z.concat(ba)}}l=0;w=z.length;r.hasOwnProperty(e)?r[e]=r[e].concat(z):(r[e]=z,x.push(e));for(;l<w;)y=z[l++],q.hasOwnProperty(y)?q[y].push(e):(d.push(y),q[y]=[e])}l||(l={});var h=l.zE||!1,c={},b=l.mD||!1,f={},q={},r={},d=[],x=[],t,v,G=/^[-'_@.\/]$/;if(this instanceof a){this.Xq=m;if(l.qv){var D=l.qv;t=0;for(v=D.length;t<v;){var E=D[t++];c[E]=E}}if(l.xE)for(t=0,v=e.length;t<v;)D=e[t++],c[D]=D;this.Hn=l.Hn||{};this.Rj=q;this.Ys=r;this.Ff=d;this.kn=x;this.cs=function(){for(var a=[],b={},c=
0,f=d.length,h=[],e=this.Hn;c<f;){var k=d[c++];0===k.search(/[A-Z][a-z]/)?q.hasOwnProperty(k.toLowerCase())?e.hasOwnProperty(k)?(b[k]=q[k],a.push(k)):h.push(k):(b[k]=q[k],a.push(k)):(b[k]=q[k],a.push(k))}c=0;for(f=h.length;c<f;)e=h[c++],k=e.toLowerCase(),b[k]=b[k].concat(q[e]);this.Rj=q=b;this.Ff=d=a};return this}return new a(l)}for(var q=g.String,k=q.rf,m=g.b.Kb,e="a i -- am an as at be by d' de di do ex he if in is it me my no o' of on or so t' to up us we ya ye any are but can cum des did ere fer few for had has her him his hoo how i'd i'm its lot may nor not off our qua s/p she ten the via was who why yet you 'tis amid atop been both does doth down d\u2019 each even from haec hast hath have he'd he's here hers i'll i're i've into it'd it's last less like many mine miss more most must near nigh none o'er once only onto ours over o\u2019 past port reg. sans says some such thae than that thee them then they thir this thou thro thru thus till unto upon upto we'd were what when whom will wilt with your yous zero abaft aboon about above adown afore after ain't along among anear anent aught baith being below can't circa could didst doest doeth don't every fewer fifty forty gonna he'll he're he've her'n his'n isn't it'll maybe might neath never noone one's other our'n round shall shalt she'd she's since their there these those thro' today under until we'll we're we've where which while who'd who's whose whoso won't would you'd yours youse aboard across allyou amidst anyone aren't around before behind beside beyond cannot contra couple didn't during either eleven except google hadn't hasn't having inside itself myriad myself no-one nobody o\u2019er quibus she'll she're she've should sundry that'd that's theirs they'd thirty this'd thwart tother toward twelve twenty unless unlike versus wasn't what's whence whilst withal within you'll you're you've your'n against ain\u2019t amongst another anybody astride athwart because beneath besides between betwixt can\u2019t despite doesn't don\u2019t haven't herself himself hisself however hundred isn\u2019t neither nothing oneself ourself outside outwith pending perhaps several someone that'll there's they'll they're they've this'll through thro\u2019 thyself towards weren't whereby wherein whereof whereon whereto whether whoever without won\u2019t you-all aren\u2019t didn\u2019t hadn\u2019t hasn\u2019t wasn\u2019t doesn\u2019t haven\u2019t weren\u2019t".split(" "),
v={},l=0,A=e.length;l<A;){var t=e[l++];0>t.indexOf("'")&&(v[t]=t)}a.oy=v;a.prototype.bt=function(a){var e,h=this.Xq;if("string"===typeof a)e&&h(a,e);else if(a.nodeType)e||(e=a.id),e&&h(m(a),e);else if(a.length){e=0;for(var c=a.length;e<c;){var b=a[e++];1===b.nodeType&&b.id&&h(m(b),b.id)}}};a.prototype.ou=function(){if(this.dh)return this.dh;for(var a=this.dh={oc:[]},e=q.jp,h=this.Ff,c=0,b=h.length;c<b;){var f=h[c++];e(a,f,0)}return a};return a}();g.a||(g.a={});g.a.Oc||(g.a.Oc={Vc:"cohi"});g.a.hd||(g.a.hd={});g.a.gk||(g.a.gk={});g.a.yf||(g.a.yf={});g.a.Ih||(g.a.Ih={});g.a.$j||(g.a.$j={});g.a.pg||(g.a.pg={});g.a.Jm||(g.a.Jm={});g.a.tc||(g.a.tc={});g.a.ek||(g.a.ek={});
(function(){function a(a,v){var l=v||k.Oc.Vc,A=a.name||a,t=m[l],y;if(t!==A){if(t){var w=document.getElementsByName(t),t=0;for(y=w.length;t<y;)q.l(w[t++],l)}m[l]=A||!1;if(A)for(A=document.getElementsByName(A),y=A.length,t=0;t<y;)q.h(A[t++],l)}}var q=g.b,k=g.a,m={};k.Oc.vd=a;k.Oc.onmouseover=function(e,k){for(var l=q.c(e);l;){if(3===l.nodeType)l=l.parentNode;else if(1!==l.nodeType){l=!1;break}if("INPUT"===l.tagName||"TEXTAREA"===l.tagName||"A"===l.tagName&&l.href)return;if(l.name||l.getAttribute("name"))break;
else l=l.parentNode}l&&a(l.name||l.getAttribute("name"),k)};k.Oc.onmouseout=function(e,m){a(!1,m||k.Oc.Vc)}})();
g.a.Pc=function(){function a(e,k,h){if(1===e.nodeType){if(e.childNodes)for(var c=e.childNodes,b=0,f=c.length;b<f;)a(c[b++],k,h);e.className&&e.className.search&&0<=e.className.search(k)&&h.push(e)}}function q(a){var e=a.childNodes;if(e){for(var h=document.createDocumentFragment(),c=[],b=0,f=e&&e.length;b<f;)c.push(e[b++]);b=0;for(f=c.length;b<f;)h.appendChild(c[b++]);v.replace(a,h)}else v.remove(a)}function k(a,e,h,c){e||(e="fdjthighlight");var b=!1;if(3===a.nodeType)if(0<=a.nodeValue.search(/\S/g))b=
v("span."+e);else var b=t(a.parentNode),f=a.nextSibling,k=a.UC,r=f&&1===f.nodeType&&t(f),d=k&&1===k.nodeType&&t(k),r=r&&r.display,d=d&&d.display,b="normal"!==b.whiteSpace?v("span."+e):f||k?"inline"!==r&&"table-cell"!==r&&"inline"!==d&&"table-cell"!==d?!1:v("span."+e):v("span."+e);else{if(1!==a.nodeType||l(a,e))return a;l(a,"fdjtskiptext")||(k=t(a),f=k.display,k=k.position,"static"!==k&&""!==k)||("block"===f?b=v("div."+e):"inline"===f&&(b=v("span."+e)))}if(!b)return a;h&&(b.title=h);if(c)for(var m in c)c.hasOwnProperty(m)&&
b.setAttribute(m,c[m]);v.replace(a,b);b.appendChild(a);return b}function m(a,e,h,c,b,f){var k=a.nodeValue,l=a.parentNode;if(!1===h||"undefined"===typeof h)h=k.length;if(e!==h){var d;if(d=0<e)d=k.slice(0,e),d=document.createTextNode(d);e=k.slice(e,h);c=v("span."+(c||"fdjthighlight"),e);b&&(c.title=b);if(f)for(var m in f)f.hasOwnProperty(m)&&c.setAttribute(m,f[m]);if(b=h<k.length)h=k.slice(h),b=document.createTextNode(h);h=b;d&&h?(l.replaceChild(h,a),l.insertBefore(c,h),l.insertBefore(d,c)):d?(l.replaceChild(c,
a),l.insertBefore(d,c)):h?(l.replaceChild(h,a),l.insertBefore(c,h)):l.replaceChild(c,a);return c}}function e(a,e,h,c){a=v.su(a);var b=a.startContainer,f=a.endContainer;if(b===f)return[m(b,a.startOffset,a.endOffset,e,h,c)];for(var l=[],r=b;r&&!r.nextSibling;)r=r.parentNode;for(r=r.nextSibling;r&&r!==f;)if(A(f,r))r=r.firstChild;else{for(var d=r;d&&!d.nextSibling;)d=d.parentNode;d=d.nextSibling;l.push(k(r,e,h,c));r=d}l.push(m(b,a.startOffset,!1,e,h,c));l.push(m(f,0,a.endOffset,e,h,c));return l}var v=
g.b,l=v.L,A=v.getParent,t=v.Ac;e.clear=function(e,k){var h=[];e===k||l(e,k)?h=[e]:a(e,new RegExp("\\b"+k+"\\b","g"),h);for(var c=0,b=h.length;c<b;)q(h[c++])};e.remove=q;return e.vd=e}();
(function(){function a(a){return 1===a.nodeType&&"INPUT"===a.tagName&&("checkbox"===a.type||"radio"===a.type)}function q(c){if(a(c))return c;var b=w(c,a);if(b)return b;b=h(c,"input");if(b.length){c=0;for(var f=b.length;c<f;){if(a(b[c]))return b[c];c++}}return!1}function k(c,b){var f,e;if("string"===typeof c)c=l(c);else if(c.length){f=0;for(e=c.length;f<e;)k(c[f++],b);return}if(c&&c.nodeType){var r=A(c,"checkspan")?c:w(c,".checkspan");if(!r)return!1;var d=a(c)&&c||q(c)||q(r);if(!d)return!1;if(A(r,
"isdisabled")){if(d.disabled)return!1;y(r,"isdisabled")}else if(d.disabled)return t(r,"isdisabled"),!1;f=A(r,"ischecked");var m=!1,v=[];"undefined"===typeof b&&(b=f);d.checked!==b?(d.checked=b,m=!0):f!==d.checked&&(m=!0);b?t(r,"ischecked"):y(r,"ischecked");if(m&&"radio"===d.type){(f=d.form)||(f=w(d,".fdjtinputs"));f||(f=r.parentNode);var J=d.name,G=h(f,"input");f=0;for(e=G.length;f<e;){var D=G[f++];if(D!==d&&"radio"===D.type&&D.name===J){var E=w(D,".checkspan");E!==r&&A(E,"ischecked")&&(D.checked||
v.push(D))}}}m&&(r=document.createEvent("HTMLEvents"),r.initEvent("change",!1,!0),d.dispatchEvent(r));if(v.length)for(f=0,e=v.length;f<e;)d=v[f++],r=w(d,".checkspan"),y(r,"ischecked"),r=document.createEvent("HTMLEvents"),r.initEvent("change",!1,!0),d.dispatchEvent(r)}}function m(){for(var a=g.r(".checkspan"),b=0,f=a.length;b<f;)for(var h=a[b++],k=e.hl(h),d=0,l=k.length;d<l;){var m=k[d++];if("radio"===m.type||"checkspan"===m.type){m.checked&&t(h,"ischecked");m.disabled&&t(h,"isdisabled");break}}}var e=
g.b,v=g.a,l=g.I,A=e.L,t=e.h,y=e.l,w=e.getParent,h=e.J;v.sa=function(a,b,f,h){var k=e.Im("input[type=checkbox]",b,f),d=e(a||"span.checkspan",k);h?(k.checked=!0,e.h(d,"ischecked")):k.checked=!1;4<arguments.length&&e.xk(d,arguments,4);return d};v.sa.set=k;v.sa.onclick=function(a){a=a||window.event;a=a.target||a.tE;if("TEXTAREA"!==a.tagName&&"SELECT"!==a.tagName&&"OPTION"!==a.tagName&&("INPUT"!==a.tagName||"checkbox"===a.type||"radio"===a.type)){var b="A"===a.tagName?a:w(a,"A");if(!b||!b.href)if(b=w(a,
".checkspan"))return b=A(b,"ischecked"),k(a,!b),!1}};v.sa.W=function(a){a=a||window.event;a=v.c(a);if("radio"===a.type||"checkbox"===a.type){var b=w(a,".checkspan");b&&(a.checked?t:y)(b,"ischecked")}if("radio"===a.type)for(var b=a.form,f=document.getElementsByName(a.name),h=0,k=f.length;h<k;){var d=f[h++];d!==a&&d.form===b&&"radio"===d.type&&(d=e.getParent(d,".checkspan"),y(d,"ischecked"))}};v.sa.MA=m;g.kb(m,"CheckSpans",!1)})();
g.a.zf=function(){function a(a){"undefined"===typeof a?a=k("div.fdjtprogress",k("div.indicator"),k("div.message")):"string"===typeof a&&(a=k("div.fdjtprogress",k("HR"),k("div.message",a)));this.f=a;return this}function q(a,e,q){"string"===typeof a&&(a=document.getElementById(a));"number"===typeof q&&(e=e/q*100);a&&(a=a.f||a,a.nodeType&&(k.J(a,"div.indicator")[0].style.width=e+"%"))}var k=g.b;a.Cj=q;a.Bj=function(a){"string"===typeof a&&(a=document.getElementById(a));if(a){var e=a.f||a;if(e.nodeType){var q=
k.J(e,".message")[0],l=k("div.message");k.xk(l,k.Array(arguments,1));e.replaceChild(l,q)}}};a.prototype.Cj=function(a,e){q(this.f,a,e)};a.prototype.Bj=function(){var a=this.f,e=k.J(a,".message")[0],q=k("div.message");k.xk(q,k.Array(arguments));a.replaceChild(q,e)};return a}();
(function(){function a(a){for(a=l.c(a);a;)if(1!==a.nodeType||"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName||!a.getAttribute("helptext"))a=a.parentNode;else{(a=A(a.getAttribute("helptext")))&&l.h(a,"showhelp");break}}function q(c){c=c||window.event||null;var b=l.c(c);b&&t(b,"isempty")&&(b.value="",w(b,"isempty"));a(c)}function k(a){for(a=l.c(a);a;)if(1!==a.nodeType||"INPUT"!==a.tagName&&"TEXTAREA"!==a.tagName||!a.getAttribute("HELPTEXT"))a=a.parentNode;else{(a=A(a.getAttribute("HELPTEXT")))&&w(a,"showhelp");
break}}function m(a){var b=l.c(a);if(""===b.value){y(b,"isempty");var f=b.prompt||b.getAttribute("prompt")||b.title;f&&(b.value=f)}else w(b,"isempty");k(a)}function e(a){if(a=l.J(a,".isempty"))for(var b=0,f=a.length;b<f;)a[b++].value=""}function v(a){a=l.c(a);e(a)}var l=g.b,A=g.I,t=l.L,y=l.h,w=l.l,h=g.String.Ja;g.a.hd.bm=function(a,b){for(var f="FORM"===a.tagName?[a]:l.J(a||document.body,"FORM"),e=0,k=f.length;e<k;){var d=f[e++],x=l.J(d,"INPUT.autoprompt,TEXTAREA.autoprompt");if(x.length){for(var t=
0,w=x.length;t<w;){var G=x[t++];G.blur();if(h(G.value)){y(G,"isempty");var D=G.prompt||G.getAttribute("prompt")||G.title;D&&(G.value=D)}b||(l.addListener(G,"focus",q),l.addListener(G,"blur",m))}b||l.addListener(d,"submit",v)}}};g.a.hd.onfocus=q;g.a.hd.onblur=m;g.a.hd.onsubmit=v;g.a.hd.Fk=e;g.a.gk.onfocus=a;g.a.gk.onblur=k})();
(function(){function a(a){a=k.c(a);var m=[];if("TEXTAREA"===a.tagName||"INPUT"===a.tagName&&/text|email/i.exec(a.type)){for(;a;){var l=a.className;l&&"string"===typeof l&&0<=l.search(/\bfdjtfoci\b/)&&0>l.search(/\bfdjtfocus\b/)&&m.push(a);a=a.parentNode}m.length&&setTimeout(function(){for(var a=0;a<m.length;){var e=m[a++];e.className+=" fdjtfocus"}},300)}}function q(a){a=k.c(a);var m=[];if("TEXTAREA"===a.tagName||"INPUT"===a.tagName&&/text|email/i.exec(a.type)){for(;a;){var l=a.className;l&&"string"===
typeof l&&0<=l.search(/\bfdjtfocus\b/)&&m.push(a);a=a.parentNode}m.length&&setTimeout(function(){for(var a=0;a<m.length;){var e=m[a++];e.className=e.className.replace(/ fdjtfocus\b/,"")}},300)}}var k=g.a,m=g.b.addListener;k.cz=a;m(window,"focusin",a);k.dz=q;m(window,"focusout",q)})();
(function(){var a=g.b,q=g.a,k=g.String.Ja,m=a.L;q.Jm.Fo=function(e,v,l,A){e=e||event;var t=e.charCode,y=String.fromCharCode(t),w=q.c(e);v instanceof RegExp?(l=v,v=!1):v&&v.call&&(A=v,v=!1);!v&&w.getAttribute("data-sepchars")&&(v=w.getAttribute("data-sepchars"));if(13===t&&k(w.value)&&m(w,"fdjtentersubmit"))g.a.cancel(e),w.form.submit();else if(13===t||v&&0<=v.indexOf(y)){!l&&w.getAttribute("data-separator")&&(l=new RegExp(w.getAttribute("data-separator"),"g"));v=w.getAttribute("data-checkspec")||
"div.checkspan";l=l?w.value.split(l):[w.value];t=0;for(y=l.length;t<y;){var h=l[t++];if(A)a(w.parentNode,"\n",A(w.name,h));else{var c=a.Im("[type='checkbox']",w.name,h),h=a(v,c,h);c.checked=!0;a.h(h,"ischecked");a(w.parentNode,"\n",h)}}q.cancel(e);w.value=""}}})();
(function(){function a(a,e,h){h||(h=q.Vk(a,"shownclass","http://fdjt.org/")||"fdjtshown");for(var c=!1,b=q.J(a,".tab"),f=0;f<b.length;){var m=b[f++];if(m.getAttribute("contentid")===e)A(m,h),c=!0;else if(l(m,h)){t(m,h);var r=(m=q.Ng(m,"contentid"))&&v(m);r?t(r,h):k.warn("No reference for tab content %o",m)}else t(m,h)}v(e)?c?A(e,h):k.warn("a tab for %s was not found in %o",e,a):k.warn("No reference for tab content %o",e)}var q=g.b,k=g.t,m=g.$a,e=g.a,v=g.I,l=q.L,A=q.h,t=q.l;e.pg.click=function(a,w){var h=
e.c(a);w||(w=q.Vk(h,"shownclass","http://fdjt.org/")||"fdjtshown");if(h){for(var c=!1;h.parentNode&&!(c=q.Ng(h,"contentid"));)h=h.parentNode;if(c){var b=document.getElementById(c),f=q.getParent(h,".tabs")||h.parentNode,f=q.J(f,".tab")||f.childNodes;if(null===b)k("No content for "+c);else{for(var v=0;v<f.length;){var r=f[v++],d;if(1===r.nodeType&&(d=q.Ng(r,"contentid"))&&d){var x=document.getElementById(d);r!==h&&l(r,w)&&(t(r,w),x&&t(x,w))}}l(h,w)?(t(h,w),t(b,w)):(A(h,w),A(b,w));if(h=q.Vk(h,"tabstate"))"#"===
h?(b={},e.yp(b),document.location.hash=h+c,e.Wl(b)):m.Gp(h,c);return!1}}}};e.pg.PD=a;e.pg.bm=function(k){k?"string"===typeof k&&(k=v(k)):k=q.r(".tabs[tabstate]");if(k&&k.getAttribute("tabstate")){var l=k.getAttribute("tabstate"),h=!1;if("#"===l){h=document.location.hash;"#"===h[0]&&(h=h.slice(1));l=h&&v(h);if(!l)return;var c={};e.yp(c);window.scrollTo(0,0);q.Tg(l)||e.Wl(c)}else h=m.ae(l)||m.$d(l);h&&("#"===h[0]&&(h=h.slice(1)),h&&a(k,h))}};e.pg.Jz=function(a){a=q.J(a,".tab");for(var e=0;e<a.length;){var h=
a[e++];if(l(h,"shown"))return h.getAttribute("contentid")}return!1}})();
(function(){var a=g.b,q=g.a;q.Ih.toggle=function(k,m,e){k=k||window.event;k=q.c(k);(m=a.getParent(k,m||".fdjtexpands"))&&a.qc(m,e||"fdjtexpanded")};q.Ih.onclick=q.Ih.toggle;q.$j.click=function(k){k=k||window.event;var m=q.c(k);!q.nt(m)&&(m=a.getParent(m,".collapsible"))&&(q.cancel(k),a.qc(m,"expanded"))};q.$j.focus=function(k){k=k||window.event;k=q.c(k);(k=a.getParent(k,".collapsible"))&&a.qc(k,"expanded")};q.Fv=function(k,m,e){k=q.c(k);(m=a.getParent(k,m))&&a.qc(m,e)}})();
(function(){function a(a){a?(a.scrollX=!1,a.scrollY=!1):l=!1}function q(a){a?(a.scrollX=window.scrollX,a.scrollY=window.scrollY):(l||(l={}),l.scrollX=window.scrollX,l.scrollY=window.scrollY)}function k(a,k){if(0===k||k||!e.Tg(a)){for(var l=a.offsetTop,h=a.offsetHeight;a.offsetParent;)a=a.offsetParent,l+=a.offsetTop;var c=e.zb();window.scrollTo(0,h/3*2<c/2-50?l+h/3-c/2:h<c-100?l-(50+h/2):l-50)}}function m(a){A&&(A=!1);if(a&&"number"===typeof a.scrollX)return window.scrollTo(a.scrollX,a.scrollY),!0;
if(!l||"number"!==typeof l.scrollY&&"number"!==typeof l.scrollX)return!1;window.scrollTo(l.scrollX,l.scrollY);l=!1;return!0}var e=g.b,v=g.a,l=!1,A=!1;v.scrollTo=function(l,m,q,h,c){a(h);m&&(document.location.hash=m);q?setTimeout(function(){k(q,c);e.Tg(l)||k(l,c)},100):setTimeout(function(){k(l,c)},100)};v.yp=q;v.Wl=m;v.scrollIntoView=k;v.AD=function(a,m,w){a?a!==A&&(l||q(),"number"===typeof a?window.scrollTo("number"===typeof m&&m||0,a):k(a,w),A=a):(e.l(document.body,"preview"),A&&A.className&&e.l(A,
"previewing"),A=!1)};v.Wl=m})();
(function(){function a(e,q,l){var A=m(e),t=A.display;if("block"===t||"table-row"===t||"list-item"===t||"preformatted"===t){t=k(e,l);if(t.top>q)return e;if(t.bottom>q){if("avoid"===A.pageBreakInside)return e;for(var A=e.childNodes,t=0,y=A.length;t<y;){var w=A[t++];if(w=1===w.nodeType&&a(w,q,l))return w}return e}}return!1}var q=g.b,k=q.mb,m=q.Ac;g.a.oE=function(e,m,l){"undefined"===typeof l&&(l=e);if(0>=m)e.scrollTop=0;else{var q=a(l,m,l);q?(l=k(q,l||e),e.scrollTop=l-top-m<e.offsetTop/4?l.top:m):e.scrollTop=
m}}})();g.a.hw=function(a,q,k){setTimeout(k,a)};g.a.iw=function(a,q){q||(q=25);setTimeout(a,q)};
(function(){var a=g.b,q=g.a;q.yy=function(k){k=k||window.event;k=q.c(k);k=a.getParent(k,"FORM");var m=document.createEvent("HTMLEvents");m.initEvent("submit",!1,!0);k.dispatchEvent(m);k.submit()};q.ez=function(a){var m=document.createEvent("HTMLEvents");m.initEvent("submit",!1,!0);a.dispatchEvent(m)};q.DE=function(k){k=k||window.event;if(13===(k.keyCode||k.charCode)){var m=q.c(k),m=a.getParent(m,"FORM");q.cancel(k);m.submit()}};q.Lx=function(k){k=k||window.event;for(var m=q.c(k),m=a.hl(m,!1,"file"),
e=0,v=m.length;e<v;){var l=m[e++];l.value&&""!==l.value||(q.cancel(k),(g.a.alert||window.alert)("You need to specify a file!"))}}})();(function(){var a=g.b,q=a.h,k=a.l,m=a.mb,e=a.As;g.a.Kq=function(a){var l=m(a);e(a).bottom>l.bottom?q(a,"overflow"):k(a,"overflow")}})();
(function(){function a(a,e){A&&(A.style.left=a+"px");t&&(t.style.top=e+"px")}function q(){e()}function k(e,h,c){a(h||e.clientX,c||e.clientY)}function m(a){"undefined"===typeof a&&(a=!y);a?(A&&v.h(A,"highlight"),t&&v.h(t,"highlight"),y=!0):(A&&v.l(A,"highlight"),t&&v.l(t,"highlight"),y=!1)}function e(a){"undefined"===typeof a&&(a=1500);y||(m(!0),setTimeout(function(){m(!1)},a))}var v=g.b,l=g.a,A=!1,t=!1,y=!1;l.tc.bm=function(){A||(A=v("div.reticle.vertical#VRETICLE"," "),v.gb(document.body,A));t||
(t=v("div.reticle.horizontal#HRETICLE"," "),v.gb(document.body,t));v.addListener(document,"mousemove",k);v.addListener(document,"click",q);l.tc.gc=!0};l.tc.vd=m;l.tc.fs=e;l.tc.onmousemove=k;l.tc.bE=a;l.tc.gc=!1})();(function(){var a=g.b,q=g.a;q.FF=function(k){k=k||window.event;(k=a.getParent(q.c(k),".fileuploader"))&&a.h(k,"inuse")}})();
(function(){function a(m,e){"string"===typeof m&&(m=k(m));if(!m)return!1;e||(e=m.getAttribute("data-interval")?parseInt(m.getAttribute("data-interval"),10):a.interval);m.getAttribute("data-images")||m.setAttribute("data-images",m.src);m.oi||(m.oi=m.src);var q=m.getAttribute("data-images").split("|");if(0===q.length)return!1;var l=0;return setInterval(function(){m.src===q[l]?l++:m.src=q[l++];l>=q.length&&(l=0)},e)}var q=g.a,k=g.I;a.reset=function(a){a.oi&&(a.src=a.oi)};a.interval=1E3;q.fk=a})();
(function(){var a=g.b,q=g.a,k=g.I,m=a.L;q.c=function(a){a=a||window.event;return a.target||a.srcElement};q.ij=function(a){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;return!1};q.cancelBubble=q.Wo=function(a){a=a||window.event;a.stopPropagation?a.stopPropagation():a.Fx=!0};q.cancel=function(a){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0;return!1};q.Vf=function(a){for(window.Event&&a instanceof
window.Event&&(a=q.c(a));a;){if("A"===a.tagName&&a.href||"INPUT"===a.tagName||"BUTTON"===a.tagName||"TEXTAREA"===a.tagName||"SELECT"===a.tagName||"OPTION"===a.tagName||m(a,"checkspan")||m(a,"clickable")||m(a,"isclickable")||a.onclick)return!0;a=a.parentNode}return!1};q.nt=function(a){for(window.Event&&a instanceof window.Event&&(a=q.c(a));a;){if("A"===a.tagName&&a.href||"INPUT"===a.tagName||"TEXTAREA"===a.tagName||"SELECT"===a.tagName||"OPTION"===a.tagName||m(a,"isclickable"))return!0;a=a.parentNode}return!1};
q.vv=function(a){for(a=a.nodeType?a:q.c(a);a&&"FORM"!==a.tagName;)a=a.parentNode;if(a){var k=document.createEvent("HTMLEvents");k.initEvent("submit",!0,!0);a.dispatchEvent(k)}};q.bz=function(a){a=a.nodeType?a:q.c(a);var k=document.createEvent("HTMLEvents");k.initEvent("focus",!0,!0);a.dispatchEvent(k)};q.vy=function(e){"string"===typeof e&&(e=k(e));if(e){e=a.J(e,"button,input,optgroup,option,select,textarea");for(var m=0,l=e.length;m<l;)e[m++].disabled=!0}}})();
(function(){function a(a,c,b,f,e){f=l(c,b,f||.2);var r="string"!==typeof f,d=c.length;e||(e=q);if("string"===typeof f&&f.length===d)return a?m(a,c):document.createTextNode(c);b=r?f[0]:f;f=r?f[1]:"";var x=Math.round(100*(b.length+f.length)/d);a&&y(t,"ellipsis");t=r?c.slice(b.length,d-f.length):c.slice(b.length);t=m("span.elided",t);r=m("span.elision",k("\u00a0\u2026\u2190%d%% more\u2192\u2026",100-x));x=m("span.delision",k("\u00a0\u2192\u2026hide %d%%\u2026\u2190\u00a0",100-x));r.title="show elided text";
x.title="hide elided text";r.onclick=e;x.onclick=e;var t=m(a||"span.ellipsis",b," ",r,x,t," ",f);a&&y(t,"ellipsis");t.title=k.rf(c);return t}function q(a){var c=!1;if(a)"string"===typeof a?a=v(a):a.nodeType||(c=a,a=e.c(a));else if(c=window.event||!1)a=e.c(c);else return;if(a=A(a,".ellipsis"))c&&e.cancel(c),t(a,"expanded")?(y(a,"compact"),w(a,"expanded")):(y(a,"expanded"),w(a,"compact"))}var k=g.String,m=g.b,e=g.a,v=g.I,l=k.Rr,A=m.getParent,t=m.L,y=m.h,w=m.l;e.yf=a;a.expand=function(a){"string"===
typeof a&&(a=v(a));a=A(a,".ellipsis");y(a,"expanded");w(a,"compact")};a.$x=function(a){"string"===typeof a&&(a=v(a));a=A(a,".ellipsis");y(a,"compact");w(a,"expanded")};a.toggle=q})();(function(){function a(a){a=a||window.event;a=k.c(a);""!==a.value&&(a=q.getParent(a,"FORM"))&&a.submit()}var q=g.b,k=g.a;g.kb(function(){for(var k=q.r(".fdjtselectsubmit"),e=0,v=k.length;e<v;)q.addListener(k[e++],"change",a)},"selectsubmit")})();
(function(){var a=g.b,q=g.a,k=a.getParent,m=a.h,e=a.l;q.xF=function(a,e,k){a=a||window.event;"string"===typeof e&&(e=document.getElementById(e));e&&(a=q.c(a),e.type=k?a.checked?"PASSWORD":"TEXT":a.checked?"TEXT":"PASSWORD",setTimeout(function(){e.focus()},1E3))};q.EF=function(e){e=e||window.event;e=q.c(e);(e=a.getParent(e,".upload"))&&a.h(e,"uploading")};q.ek.focus=function(a){a=a||window.event;a=q.c(a);(a=k(a,".focusbox"))&&m(a,"focused")};q.ek.blur=function(a){a=a||window.event;a=q.c(a);var l=k(a,
".focusbox");l&&setTimeout(function(){e(l,"focused")},200)}})();
(function(){function a(a){a=a?g.rt?q.J(a,".fdjtime"):q.J(a,"time,.fdjtime"):g.rt?q.r(".fdjtime"):q.r("time,.fdjtime");for(var k=0,l=a.length;k<l;){var A=a[k++],t=A.getAttribute("datetime")||A.getAttribute("data-datetime")||A.getAttribute("data-time"),y=t&&new Date(t),w=y&&"nogood"!==(y.getYear()||"nogood");t||(t=A.innerText,(w=(y=new Date(t))&&"nogood"!==(y.getYear()||"nogood"))&&("TIME"===A.tagName?A.setAttribute("datetime",t):A.setAttribute("data-datetime",t)));w&&(A.title||(A.title=y.toGMTString()),
m(A,"fdjtkeeptext")||(m(A,"fdjtisotime")?y.toISOString&&(A.innerHTML=y.toISOString()):m(A,"fdjtutctime")?y.toUTCString&&(A.innerHTML=y.toUTCString()):m(A,"fdjtdate")?y.toDateString&&(A.innerHTML=y.toDateString()):m(A,"fdjtdateortime")?y.toDateString&&y.toTimeString&&(A.innerHTML=y.toDateString()===(new Date).toDateString?y.toTimeString():y.toDateString()):m(A,"fdjtlocaletime")?y.toLocaleString&&(A.innerHTML=y.toLocaleString()):m(A,"fdjtlocaledate")?y.sm&&(A.innerHTML=y.sm()):m(A,"fdjtlocaledateortime")?
(y.toLocaleDateString&&y.toTimeString&&(A.innerHTML=y.toDateString()===(new Date).toDateString?y.toLocaleTimeString():y.toLocaleDateString()),y.sm&&(A.innerHTML=y.sm())):(m(A,"fdjthumantime"),A.innerHTML=y.toDateString&&y.toLocaleTimeString?y.toDateString()+" ("+y.toLocaleTimeString()+")":y.toLocaleString?y.toLocaleString():y.toString())))}}var q=g.b,k=g.a,m=q.L;g.QA=a;g.ex=function(){q.addListener(document.body,"DOMNodeInserted",function(e){e=e||window.event;a(k.c(e))})};g.kb(a,"TimeElements",!1)})();
(function(){var a=navigator.Xv||navigator.OF||navigator.VB||navigator.WB;g.a.Xv=function(q){if(!a)return!1;a(q);return!0}})();g.Lr=g.a.Lr=function(){var a=g.b,q=a.Ac,k=a.L,m=a.r;return function(a){for(var v=m("input,select,button,textarea",a),l=0,A=v.length;l<A;){var t=v[l++];if(!k(t,"fdjtignore")){for(var y=t,w=!1;y&&y!==a;){if("none"===q(y).display){w=!0;break}y=y.parentNode}t.disabled=w}}}}();g.of=g.a.of=function(){function a(a){var b;(b="string"===typeof a?document.getElementById(a):a.nodeType?a:g.a.c(a)?g.a.c(a):!1)?b=d.getParent(b,".fdjtpage")||b:x.warn("Bad showPage container arg %s",a);return b}function q(a,b,c){b||(b=a.offsetHeight);return c?a.scrollHeight>b-c:a.scrollHeight>b}function k(a,b,c){"undefined"===typeof b&&(b=!0);"undefined"===typeof c&&(c=!0);return c&&a.scrollHeight>a.offsetHeight||b&&a.scrollWidth>a.offsetWidth}function m(b,f,k){if(b=a(b)){k="number"!==typeof k?1:
0>k?-1:1;var p=z(D(b,".fdjtshow")),r=G(b,".fdjtstartofpage"),S=G(b,".fdjtendofpage"),x=G(b,".fdjtpageinfo"),ca=h(b),M=ca.length,C,Da=0>k?"fdjtstartofpage":"fdjtendofpage",n=W(b,!1,!0).Bn,F,B=g.Qb.ca?"touchstart":"click";if(0!==ca.length&&(f?"number"===typeof f&&0<f&&1>f?(C=Math.round(f*ca.length),f=ca[C]):"number"===typeof f?(C=f-1,f=ca[C]):f.nodeType&&(f=w(b,f),C=ca.indexOf(f)):(C=0,f=ca[0]),!(!f||0>C||C>=M||0===C&&0>k))){P(b,"fdjtpage");F=b.offsetHeight;P(b,"formatting");x||(x=y(b,C,M));p.length&&
(E(p,"fdjtshow"),E(p,"fdjtoversize"));r&&E(r,"fdjtstartofpage");S&&E(S,"fdjtendofpage");P(f,"fdjtshow");P(f,0>k?"fdjtendofpage":"fdjtstartofpage");f.offsetHeight>F&&P(f,"fdjtoversize");if(0>k&&O(f,/fdjtpagebreak(auto)?/)||q(b,F,n))return E(b,"formatting"),C;f=c(b,ca,C,k,F,n);p=ca[f];if(0<k&&O(p,"fdjtpagehead"))for(;f>C&&O(p,"fdjtpagehead");)E(p,"fdjtshow"),E(p,Da),f--,p=ca[f],P(p,Da);if(0<k&&O(p,"fdjtpagekeep"))for(;f<C&&O(p,"fdjtpagekeep");)E(p,"fdjtshow"),E(p,Da),f++,p=ca[f],P(p,Da);Da=ca=!1;0===
C?(P(b,"fdjtfirstpage"),ca=!0):E(b,"fdjtfirstpage");f>=M-1?(P(b,"fdjtlastpage"),Da=!0):E(b,"fdjtlastpage");if(0>k&&0===f)return E(b,"formatting"),m(b,0,1);k=C<=f?C:f;C=C>f?C:f;r=d("span.count",d("strong","/"),M);p=d("span.value",Math.floor(k/M*100));r=d("span.pct",p,"%",r);S=d("span.button.forward"," \u300b");n=d("span.button.backward","\u300a ");x.innerHTML="";d.append(x,n,r,S);x.title=K("Items %d through %d of %d",k,C,M);p.setAttribute("contentEditable","true");L(p,"blur",v);L(p,"keyup",Q);L(p,
"keypress",Q);L(p,"keydown",e);L(r,B,l);ca?n.innerHTML="\u00b7 ":L(n,B,t);Da?S.innerHTML="\u00b7 ":L(S,B,A);P(b,"fdjtpagechange");setTimeout(function(){E(b,"fdjtpagechange")},1E3);E(b,"formatting");return f}}}function e(a){var b=r.c(a),c=M(b,".fdjtpage");if(c){var f=a.keyCode;b.Zb||(b.Zb=b.innerHTML);if(13===f){try{var e=d.Kb(b),h=parseFloat(e)/100;"number"!==typeof h||Number.isNaN(h)?(b.innerHTML=b.Zb,b.Zb=!1):m(c,h,1);b.blur()}catch(k){b.Zb&&(b.innerHTML=b.Zb,b.Zb=!1),b.blur()}C(a)}else 27===f&&
(b.Zb&&(b.innerHTML=b.Zb,b.Zb=!1),b.blur(),C(a))}}function v(a){a=r.c(a);var b=M(a,".fdjtpageinfo");b&&E(b,"fdjteditpageinfo");a.Zb&&(a.innerHTML=a.Zb,a.Zb=!1)}function l(a){var b=r.c(a),c=d.la(b,"span.value");(b=M(b,".fdjtpageinfo"))&&P(b,"fdjteditpageinfo");c&&c.focus();(b=window.getSelection&&window.getSelection())&&b.anchorNode&&M(b.anchorNode,c)&&(c=b.anchorNode,3===c.nodeType&&b.extend(c,c.nodeValue.length));C(a)}function A(a){g.a.cancel(a);b(a)}function t(a){g.a.cancel(a);f(a)}function y(a,
b,c){b=d("div.fdjtpageinfo",b+1,"/",c);a.appendChild(b);return b}function w(a,b){for(var c=b,d=c.parentNode;d&&d!==a;)c=d,d=c.parentNode;return d===a?c:!1}function h(a){var b=[],c=a.childNodes;P(a,"getvisible");for(var d=0,f=c.length;d<f;){var e=c[d++];if(1===e.nodeType){var h=J(e);"none"===h.display||h.position&&"static"!==h.position||("always"===h.pageBreakBefore?P(e,"fdjtpagebreakauto"):E(e,"fdjtpagebreakauto"),b.push(e))}}E(a,"getvisible");return b}function c(a,b,c,d,f,e){var h=b.length,k=b[c+
d],z=b[c],l=0>d?"fdjtstartofpage":"fdjtendofpage";c+=d;for(P(z,l);0<=c&&c<h&&!(0<d&&O(k,/fdjtpagebreak(auto)?/));){E(z,l);P(k,"fdjtshow");P(k,l);k.offsetHeight>f&&P(k,"fdjtoversize");if(q(a,f,e)){P(z,l);E(k,"fdjtshow");k.style.display="";E(k,l);break}if(0>d&&O(k,/fdjtpagebreak(auto)?/))return c;c+=d;z=k;k=b[c]}return c-d}function b(b){if(b=a(b)){E(b,"fdjtpagechange");var c=G(b,".fdjtendofpage");return c?O(b,"fdjtlastpage")?!1:c.nextSibling?m(b,c.nextSibling):!1:m(b)}}function f(b){if(b=a(b)){E(b,
"fdjtpagechange");var c=G(b,".fdjtstartofpage");return c?O(b,"fdjtfirstpage")?!1:c.previousSibling?m(b,c.previousSibling,-1):!1:m(b)}}function F(b){if(b=a(b)){var c=G(b,".fdjtstartofpage");if(c.hidden){for(;c;)if(1!==c.nodeType)c=c.nextSibling;else if(c.hidden)c=c.nextSibling;else return m(b,c);m(b)}else m(b,c)}}var r=g.a,d=g.b,x=g.t,K=g.String,J=d.Ac,G=d.la,D=d.J,E=d.l,P=d.h,O=d.L,L=d.addListener,z=d.Jd,W=d.mb,M=d.getParent,Q=r.cancelBubble,C=r.cancel,V=d.Ef;m.dB=k;m.Mx=function(a){var b=a.style.overflow||
"";a.style.overflow="auto";k(a)&&(P(a,"fdjtoversize"),k(a)&&V(a));a.style.overflow=b};m.forward=b;m.Sk=function(b){if(b=a(b)){var c=G(b,".fdjtendofpage");if(!c)m(b);else if(!O(b,"fdjtlastpage")&&c.nextSibling){var d=h(b),c=d.indexOf(c);m(b,d[Math.floor(c+(d.length-c)/2)],1)}}};m.He=f;m.Zn=function(b){if(b=a(b)){var c=G(b,".fdjtstartofpage");if(!c)m(b);else if(!O(b,"fdjtfirstpage")&&c.previousSibling){var d=h(b);m(b,d[Math.floor(d.indexOf(c)/2)],-1)}}};m.update=F;m.check=function(b){if(b=a(b))O(b,
"fdjtpage")?b.offsetHeight&&O(b,"needsresize")&&(E(b,"needsresize"),F(b)):b.offsetHeight&&m(b)};m.Op=function(b,c){if(b=a(b)){if(!O(b,"fdjtpage"))if(b.offsetHeight)m(b);else return;for(var d=c.parentNode;d&&d!==b;)c=d,d=c.parentNode;d&&(O(c,"fdjtshown")||m(b,c))}};return m}();g.we=function(){function a(a){a?"string"===typeof a&&(a={Jc:a}):a={};var c=b(a.Jc||"div.fdjtdialog");a.qd&&(c.className=(c.className||"")+(c.className?" ":"")+a.qd);a.style&&c.setAttribute("style",a.style);if(!(a.Nt||a.hB||J(c,"fdjtmodal")||J(c,"fdjtkeep"))){var f=b("div.countdown","Closing\u2026");f.id="FDJTCOUNTDOWN"+P++;c.appendChild(f)}a.Nt||a.cC||J(c,"fdjtmodal")||(f=b.Image("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyEAYAAAE5qGRkAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAEXpJREFUeNrdXGl4VEW6fqv3bCT0SQjhVADpCggMuywiUTbZAoRNFlkER8SZwUdnrtuMy+idcUZFwHEYERdAkR1kcxRkXwVBWYSw5DSE5DQQyOmsnd677o9Ah5vcvt2ns3Cf+/7Jw6n63u99vzpL1anTALeh5NH2rNPGKQgBe6f0NhmW+D8HDygLxRKmG3JQUShljHPlEjWzjmszgwGt6Xi2Mfb5YLuTprM2xU2rGS20NWudNSPYIV+0sfYrtwX/XUgtLK304VCKoNhpf7ZoohIMUGgy6+QvqdlPEwy4JE5kIwwzwCHhg7VmuOCHt3IjABOcmkQlIJayQZ+uqc7wmliZodO/FMxQSpuyLg570EJb0cnaTj4bbK+k/ZjlozHVBCW0NUt33heyqhm0M5s1fR2iBbmT+s4BQZBlSSIkqKBGe8iGmqhJhJqBoQhUZ1DtIXrU1K6coxms5dq+Ecd/Tw+xdxNoqBoETzXSE4/xE1m7gpHN4YRh4uFgYDEdwB5buS9IvE7cw9bGvRwk7IHJ+LSsIBgfByCmeGmtItdSuI9qWVr2RHRCGuI2rw1ryQ0/tKUJQgv5unQxqaJmsyZUHPk1/4ov3fFJxLUvBkX++t2hmquv0s30T2ypccGdUvAfyYvkWWdisKcfgLdiU/D0aY9byJi88K5SX4f4VK+7Lspx7LGP+9QqXa3TygsvnI7rQnO5ULLFtwhnyN6eWlj6tKf5IbhhXLHkzvFaV47SXcxkC0yeiEsVAsp+ms7EL14JOrE/Rxey38VM4m9gPnZUBm9cIa/dUMQ1K2FCIZKWyiTqm0Qo4hqI+m4U8b1FraJwqCkkauuRljLsINZ1jBrfQYONQYOdRQ19HWjg5meQMC5JLXHYfn744Sv1Visppc0YHWeLtvZBnmtUYOnloYUpbUW3ZWPMu7UeuaU0kbH14R9M9QTlFn2Z2ROSaumwiXb2q+WtavYnxUnp/dhU4/aAlefhmGtopIlIKlqhybonzT75sPTzpGV1FW5/QpTZo3F/5gtIH1ypeDPiQC8CSF72QHBo7DqabKkcfoQXwkQ6f/ugaiU6JCF9tSwkymelvY+nhxX+Cn3QsjbuU/4iCsirFU+pzueFBw57QGgu35SuC9qQ55id0Cw2O+sEL8Jp7P2mh+pEJ1CB/JVDhKFyieSZtlOZKPZik2Pfw2JyDSccL6rm8yMOvOSk0Ey+KFmbdq/ZHPnz+JxYxjQj3WhOOqDNNoNqIWqhgw6a0m5CopwnXUo6Fa57xEZqGZMos+RnT0JTuMjAzWui5QlCCx08ZR8ISXKelJ/4e7XhGrUBwQr8k8fh4R11ntIFkQc3+Mb2UeuJtKN9NBUsM01JfBliyCFncRS53Lf/GiMSxtAB2s+mmIvl76WLs8OOeOhH6As03rLKmIY/Iom84bqmWrYHDjgrDglpcrFkS8hUXDSWJTxWCQfMSF0Xo5aOiEhD/CfHzC75uHRqTp9a7UHhs8T5ll+M/fE+WUjGuvaqFk7ghc+RKZjlQikv/lC47koubcs0kz+DGZVos/rXqtM1hxEtF6ebvbJV2vNbmSgBmsj0oy6iGAlotbVtxEw+EAQqVwupcoF0Oe5x1cZrGjsmVlicU4aDkftJp1XfRhzohgvashu1Ti27nvZjxrFX+Q3kIf3rlnc1VYBXrhcEuUSyxk2sq/Cwxs6JlZaC6WY0J23JgC+VYIMWfpCyDUKSfF3KTXwsPNFZamDp32YrT9IKy1/19Xd3UmuomGayfvu2FS1JT2Vm7dnIA/OpkTXZtq/mZM3+gVjIsoz3N5oBP23DHtxTPWksoiJjvMw+TJzHSnQna/avfnlxlqaz9ltLEIcUNBv5SM2OfDrpgYuuc8okOs1y1nClwQyU0p5M3J2KEnhwa0D1bZ6AAEjgq8g/0NPbXHlafN+yQHfXKwU97cS6bJ3Fb6AYjlFLI8wXINuQiymGs+aZcoz0F2+XOhsopqlswC6GAPQoGJQbNoAAILjFd6EQTt1TGp6HEngHd1aZV8NHIQOrPZ2VvmI3yzDd36I2cI22Yxm7ScQG7oAD4EjRrATh53vs1AiiXCDlxP4eWujgrjyjWsk2cotYvS/a19KW7Gl9XqRh9kTagXXe2QxGOMAHBlTnLebf8w/7fG7eInusCT86g9eIkCTnSQVxXWBADAKVR1WRcuj4YHDs9TS3d6GnLJ8b0kKOgI1msAe2/5tfRhkqBxeq1U/m4iHM6btMYLYO1hHHguuY0FOUCtqSdXBmwY0APKZvVJji4KjkbszjX+r1yaL8uPUhn0G5KLrZwO1bkUwsyB86SrWBf0CD9L7Pmv9Tzpf2/rCoVns4AqWStmAZrmw4oQE3blaZ3wcXbuLajn/BhGZoMfQ51QY6Ygw/+WCh+Ya8yJpwtHnIfpESKvk0hbV0jkccjDCYNqgVpBpOCLje7zWByqclx+G3wxpWy69cpxaW7uwEA9wwmtTfHMIJSuX56Jc53+yzaaTlh16IOC7ahEohbc/SXDHQoRxxxso6O4jDRBQ+vEowyQuk8oNTVRegrvmVIprOMnglCDg41K8z2oFC0/8Jc5F8VLq0/8todUS91FUCopdptr4RrYE74BchI7DvoyIvPWiZpmJSWLMgqg2U0kQmbvbBhwTEZGujTVzbEQiAHNIaE3gr/QxzhbzQutv3U70bURTahrHNBIAHyFb/JI5cEQFwiozFy6jQlZv3y3OlG/6Hw4eFM1BERZaxSQYBAR8jqhamBaD1OuEH4NerOQU5gIKAggS+Vdsvpa18wdohkB+qc8hrRLlCzUzY9ETUBq7xDXzXoHZCkixLFw2x0MAPv6dIBQMBkK4RUEFG+88Xj0nvn0E0IU+1WkaUG5SxzhtGogli0XTMctUGfuGn+f5HM4VOtj7W1nsu3TksNJWvS1eMKVVvED3DVLLGBj7nVm7xe+zvpP+c8bP2vf/JdZWBC5Qx8/plSIEL5gkzVRvI5+f5yiGPCt1sCdbeO3eF664U03TW2pOKADh0+hsR56lSvAk+tMcx3fNCM3mnJPjzieKnqazH+hMogR6lE9S/rNbwFWj56LtCU9sAac+uVyINu73ppLGX0RYsw7sVPmjAdVmqchP8wPPJ25q+GosGpdDBNWqPagMBaKAb2k2tgaCGqsoGzE3ka1KufhT80MHvtasi4XhQ0y3QM3DroV537wKKjDlzARDAxEIKuI8fR96wcnOZLU3y7WiiugChNFWNkN5eRluyDM9M+BAA14f+suIAjDznkSbCWNlqNRwor15YCbJNkmIyoIUGenft23I+v4KYEdn1bSBYoKqMXnMTOV/KNayAHxx+b611ELkfduj6f3fHQFhixU5bsDbuJfZYGmspHN67voWHw+0RMiiltAVr55ulHBZzLe5H/qPOxEqWuM2SHdNDuUqTWNI3e2ttUp6nSSxlw0dKX3ED0xm2Nrbxxoa9Ge3FlsavV/xUZJ32dr/r/RtljDsVq1jKWi3Pt38tGtjjulcj5Q05Qyly0YEsNmYRuYpfkLJuPpJhhH7k5YgVO8DRct1xbIAdy6b3FP4gO6VWnjqvGu4VFCudxwYmDEQLfIHA5g6oRAnkgf8MG8jBAdih5QVgy+JwCB3Jiae/EUbZzucW+SbU7F69OX2A7mErTJd5L8zF4nUmOFCGm6PSwiaMDAFcRTKwrgOZgz8iZvp483F5kvSLJ+rXeg0NZR59yzIufi1mYjfZu2UWNLgMYaCjzsRV70evIwAnYpaW4gG+ma+Y01nIs2Vau/i8RHHRrsy8djUcKIJ54uRG8svRBCa0WjeevM1nkwtT3zC/aXs51+br1kj5a0Fx089Yq9jRcOFN+Lbq4AMQM2hjoyQnKEM5NCj/sEv19KRYPMpaDfsRnIyA9utnwBELTUzEy8w6guMS9Ehccw2P8I04M+M5wWPrLnm9DVYQew79OEMb14vH4RPedcsVxOMmSgfdbCS/VV/Eeoqfwg3+C982bLbQ3ZZs7fJjn9CfoTShyZb8EWO4DIH0WT8NXjgQGzu+EaQSEHgQgzS0X92bvISH8NbMMvMieaHUzRP5M6wGlNz0zmxI3HtoyhOR9/UKEFxBYEi9v1sMCSMI4ounws838/dGXBUSbT2sQ44erm0+Qtg70ydY5xG7+CHshmPDFngBkJgPG8EKAYEbF3CTn1k5E1MwDG/N6irky1us73hDroCUt0UTK49ri6kkBVkbX0ACOK4Nnd0IequQAB90JSnkBbREnxHLzB/KP0rLfwi7/xD1rMeeQnuzzKyZ/CpsKNx4DU4AAeOOBjdaNWtx4iA0KF+5lN8ibnhn/otYeQ9+Td8V07GdtNv8M9IgQj/kQoPruQM/YuErPUpa4LfQDEs1++TnpctH26ilqbdpqFJITYxkWeFDIlpt2AAT9NCZXmq0gjQ2tDBAX/odLuBB/smIdUIfeaU188jyutI22LpA+VosYv1GX0Rv0ha2tYNgQiy0poK6M98jGEDAS0rhB/ipUR2EJLnAmnBI/VdfYdBoCzXlNBUtzux3kAo9saypgB4+xJr+0lj5VYPDiECpFev5OXQceVX4jc0kbTs0qKHT3rOVs3KFTrV4sx9BDI6R7uuSoIcLTsPme6UHOmjgLH+eNMdD/HTWEbNTXm1NPni8sWVEvW9YV5Cdgfn85PZxiIcV5p2NN/sJBRuKkbJxBucYzHceabz1SM26NFYi+0DxRcsrpoP8W/IBWbw2Bw6kImX00/fKeBjcwAU0hWbpFvIGfIHtc54z75bPX27jc9ed+n9Hwz3UC2gM6206BAMEONachA6AK3tuQxuqd1RtlJ+GCW1Q+tkm8lfM40t+87n5HbmXdZxPru909Tft9dBVLMY4Gm78DYlrUuFBCeLHRP6b1/rDndtNswZhJ+AAzpEWcCD1s0Vwk3gMfuaAmRfI0lv+nLrTRwllmbiJ7TMMxxAyBS+sc8OEZJRk746WTzXccMHjeB05PAf2UT+RoaQb7hd685sAilcxAAREr/qroihRiTIkwPvpV9oZOI7Jz7yUdFCOl94NlKolivzTkzzahWUas6HHTUirJsAELeLGTWskw4AfZSivmA4X/4pvGLNWaGkbbc3c7Q3V3W4Uyy0lE228kGSQ7isWwA8dNIb3G0ntJSShIyxL3OQK6U6Sf/eqmRX8PXelf1u4wNDflL5H/826GOdhIl5F4leDkYAiXJvQtZEMAQEE4K44jjOo4CfHPS0MksusyTtPRUtnN9OHWedJhTwHeXB8+Tr0CIAYlkTLpwIEBLuQgPvAPj5GWuEosuaeM1+XPdJc/+rane8IXiXmsIcMa3gv0gu2lQKaIgm6CYMbQXAVNHDB6yhGCT+M1mPThfts7aT9O+u+IVQDd74TKU6lTZlhSn9+CXFo88Vr8APw6Qc0uM+qin+LJkhB18Wz8Hd8QqbMfV94Xe6ZOz4wgyiXaDv2q5VzIMAB1+OL/1tYQ8IFDfzOM0jhhxGbPVAw2NKlczuVuhOrw+0BIvYfRCvTTy5DRzIArb/qX/W5iPZEI8mwIYAHoFswuHqDKoca2JgxfdEMAnLWcBBoETAeqbeUfnD4KkXSjBeAjGtnhk0jXdmh/od0DYzgFURodxY/tTkvgR3isoXwwwe/vv5+RuZBJVA2DN/wlfCNrBRm24ZLeQcPhn6GVNLxzDx2KVz4CUmrOoDDB40p8s9onAhA63BgNd/OD0yYLbxo62xN3b464vj/I7g9QCa7m2otFdNdKEUa6fL5M9ABIPrFkRPBDWepA6eQyn8YPV8YLJ+1tjzw55rdIt+gEmhbNmHsJZ4LJ06vvlL1gxDjkGAHLfTwOkcilm/FzfHjBYOtk+T87sl7XdD6xu0BMtpt4hXLkWlOGElfMmXZYGighV5XPe2vhBeB8q44z3NgH7VBGGITpJL9GQ0mTLlFm7DYcX+yC/QPlpzhYf8LhP+v4IEe3Xt0h95uoZls2rRnlSPiQcupR6Iu/H8B7AjpZA9bJIMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTQtMTItMzFUMTI6NDQ6NTYtMDU6MDBEL5TZAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE0LTEyLTMxVDEyOjQ0OjU2LTA1OjAwNXIsZQAAADh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vc3JjL2dyYXBoaWNzL3RhcmdldHMvZmRqdC9yZWR4LnN2Z3qXB16JAAAAAElFTkSuQmCC",
"closebutton","Close"),D(f,"click",e),D(f,"touchend",e),D(f,"touchstart",F.cancel),f.title="click to close",c.appendChild(f));a.title&&(a.title.nodeType?h.push(a.title):(h=x(a.title,a,a.data),c.title=h,c.appendChild(b("div.title",h))));for(var h=[],h=1,f=arguments.length,k=!0;h<f;){var l=arguments[h++];if(l.nodeType){k=!1;break}else if("string"===typeof l&&0<=l.indexOf("<")){k=!1;break}}k?(k=b("P"),c.appendChild(k)):k=c;for(h=1;h<f;)if(l=arguments[h++])if(l.nodeType)k.appendChild(l);else if("string"===
typeof l){var l=K[l]||l,r=0<=l.indexOf("<"),m=0<=l.search("{{");r&&m?k.appendChild(d.Kd(l,a)):r?b.append(k,l):m?k.appendChild(document.createTextNode(x(l,a))):k.appendChild(document.createTextNode(l))}else k.appendChild(document.createTextNode(l.toString));a.id&&!c.id&&(c.id=a.id);b.Fe(c,a);return c}function q(a){a=(a=a||window.event)?a.nodeType?a:F.c(a):r("FDJTALERT")||r("FDJTDIALOG");if(a=b.getParent(a,".fdjtdialog")){var c=b.la(a,".countdown");if(c&&c.id){var d=O[c.id];d&&clearInterval(d);delete O[c.id]}m(a);
b.remove(a)}}function k(a,c){var d=(a=a||window.event)?a.nodeType?a:F.c(a):r("FDJTALERT")||r("FDJTDIALOG");a&&!a.nodeType&&F.cancel(a);var f=b.getParent(d,".fdjtdialog");f&&(m(f),c?b.remove(f):b.nq&&!b.L(f,"closing")?(b.addListener(f,b.nq,function(){b.remove(f)}),b.h(f,"closing")):b.remove(f))}function m(a){if(a=b.la(a,".countdown")){var c=O[a.id];delete O[a.id];c&&clearInterval(c)}}function e(a){a=a||window.event;F.cancel(a);k(a)}function v(a){a=a||window.event;var c=F.c(a),c=b.getParent(c,".fdjtdialog");
m(c);c.style[b.transitionDelay]="";c.style[b.transitionDuration]="";b.l(c,"countdown");b.l(c,"closing");F.cancel(a)}function l(){var c=b.Jd(arguments),c=a.apply(null,[{}].concat(c));G(c,"fdjtalert")}function A(){var c=r("FDJTALERT");c&&(c.id="",b.l(c,"closing"),q(c));c=b.Jd(arguments);c=a.apply(null,[{}].concat(c));c.id="FDJTALERT";b.gb(document.body,c);return c}function t(a,c,d){var f=b.la(a,".countdown");f.innerHTML="\u2026"+c+"\u2026";var h=c;a.style[b.transitionDelay]=h/2+"s";a.style[b.transitionDuration]=
h/2+"s";var e=setInterval(function(){0>=h?(clearInterval(e),e=!1,delete O[f.id],d&&d(),b.remove(a)):f.innerHTML="\u2026"+h--+"\u2026"},1E3);O[f.id]=e;f.onclick=v;D(f,"touchend",v);D(f,"touchstart",F.cancel);setTimeout(function(){b.h(a,"closing")},10);return a}function y(c){var d=r("FDJTALERT");d&&(d.id="",b.l(d,"closing"),q(d));d=[{timeout:c}].concat(b.slice(arguments,1));d=a.apply(null,d);d.id="FDJTALERT";b.gb(document.body,d);t(d,c);return d}function w(c){var d=r("FDJTMESSAGE");d&&(d.id="",b.l(d,
"closing"),q(d));d=b.Jd(arguments);d=a.apply(null,d);c.timeout&&t(d,c.timeout);d.id="FDJTMESSAGE";b.gb(document.body,d);return d}function h(a,c,d){var f=a.f;f||(f=b("button"),a.label.nodeType?f.appendChild(a.label.cloneNode(!0)):f.innerHTML=a.label?a.label:"Choice "+d);a.name&&(f.name=a.name);a.value&&(f.value=a.value);f.onmousedown=F.cancel;f.onmouseup=F.cancel;f.tabIndex=d;a.title&&(f.title=a.title);a.Vc&&G(f,a.Vc);f.onclick=function(d){d=d||window.event;var h=F.c(d),h=b.getParent(h,".choices"),
h=b.la(h,".selected");h!==f&&(h&&(b.l(h,"selected"),h.blur()),b.h(f,"selected"),f.focus());a.S&&a.S();F.cancel(d);c()};D(f,"touchstart",F.cancel);D(f,"touchend",f.onclick);return f}function c(a){function c(){for(var b=0,f=k.length;b<f;){var p=k[b++];p.onclick&&E(p,"touchend",p.onclick);E(p,"touchstart",F.cancel);p.onclick=null;p.onmousedown=null;p.onmouseup=null}r&&(E(r,"touchend",r.onclick),E(r,"touchstart",F.cancel),r.onclick=null);d&&(d.onclick=null);d&&(d.onkeydown=null);if(d)var e=setTimeout(function(){if(a.onclose)a.onclose(d);
q(d);clearTimeout(e);e=!1},500)}var d=!1,e=-1,k=[],l,r=!1,m=!1;if("function"===typeof a)l=[{label:"Cancel"},{label:"OK",S:a,eb:!0}];else if(a.constructor===Array)l=a;else if(a.Le)l=a.Le;else if(a.label&&a.S)l=[{label:"Cancel"},a];else if(a.S)l=[{label:"Cancel"},{label:"OK",S:a.S,eb:a.eb}];else if(l.length)l=a;else{f.warn("Bad spec %o to fdjtUI.choose");return}a.Zt&&(m=a.Zt);for(var x=0,p=l.length;x<p;){var ea=l[x],S=h(ea,c,x);k.push(S);0>e&&ea.eb&&(S.setAttribute("autofocus","autofocus"),b.h(S,"selected"),
e=x);x++}0>e&&!a.Tt&&(b.h(k[x],"selected"),e=0);d=L(a,b("div.message",b.slice(arguments,1)),b("div.choices",k));r=b.la(d,".closebutton");a.cancel?(E(r,"touchend",r.onclick),r.onclick=c,D(r,"touchend",r.onclick)):b.remove(r);var w=a.cancel||!1;d.onkeydown=function(a){a=a||window.event;var b=a.keyCode;9===b?(a.shiftKey?e--:e++,0>e?e=k.length-1:e>=k.length&&(e=0),0<=e&&k[e].focus(),F.cancel(a)):13===b?(0<=e&&l[e]&&l[e].S&&l[e].S(),m&&0<=e&&l[e]&&m(l[e],d),c(),F.cancel(a)):w&&27===b&&(c(),F.cancel(a))};
b.h(d,"fdjtconfirm");d.id="FDJTDIALOG";b.gb(document.body,d);a.timeout&&t(d,a.timeout,function(){a.St?c():(0<=e&&l[e]&&l[e].S&&l[e].S(),m&&0<=e&&l[e]&&m(l[e],d))});0<=e&&k[e].focus();return d}var b=g.b,f=g.t,F=g.a,r=g.I,d=g.kk,x=g.kk,K=g.Nq,J=b.L,G=b.h,D=b.addListener,E=b.removeListener,P=1,O={},L=a;a.close=k;a.hr=l;F.hr=l;a.alert=A;F.alert=A;g.alert=A;a.Uu=t;F.Uu=t;a.Td=y;F.Td=y;a.message=w;g.message=w;a.Bq=c;a.Uc=c;F.Uc=c;g.Bq=c;return g.a.we=a}();g.a||(g.a={});
(function(){function a(a,b,c){this.f=a||!1;this.input=b||!1;this.options=c||7;this.Ad=[];this.values=[];this.je=++d;this.cues=[];this.Ok=[];this.dh={oc:[]};this.Dn={};this.Ag=new Q;this.selected=!1;c&8||(this.mm={});this.ce=!1;return this}function q(a){return a.key||a.getAttribute("data-key")||a.getAttribute("key")||x(a,"variation")&&h.Kb(a)||x(a,"completion")&&k(a,"")}function k(a,b){if(3===a.nodeType)return b+a.nodeValue;if(!x(a,"variation")&&!x(a,"fdjtskiptext")&&1===a.nodeType&&a.childNodes)for(var c=
a.childNodes,d=0,f=c.length;d<f;){var e=c[d++];3===e.nodeType?b+=e.nodeValue:1===e.nodeType&&(b=k(e,b))}return b}function m(a,b,c,d,f){b=(f?b.split(/\W/g):[]).concat(b);f=0;for(var e=b.length;f<e;){var h=b[f++];z(c,h,0);d[h]&&d.hasOwnProperty(h)?d[h].push(a):d[h]=Array(a);d.pk++}}function e(a,b,c,d){var f=[],e=[],h=[],k=y(a);if(O(k))return[];d||(k=a.toLowerCase());a=W(b,k,0);b=!1;for(var l=[],r=[],m=[],n=0,z=a.length;n<z;){var B=a[n++],q=B===k;b=b?M(b,B,!1,!d):B;var t=c[B];if(t)for(var L=0,w=t.length;L<
w;){var E=t[L++];if(!(x(E,"hidden")||0<=f.indexOf(E)))if(x(E,"completion"))q&&(r.push(E),l.push(E)),f.push(E),m.push(B),e.push(E);else{var F=D(E,".completion");F&&x(F,"hidden")||!F||(q&&l.push(F),f.push(F),m.push(B),h.push(E))}}}l.length&&(f.Rk=l);r.length&&(f.My=r);f.prefix=b;f.oc=a;f.matches=e.concat(h);return f}function v(a,b,c,d){"undefined"===typeof c&&(c=b.key||q(b));d||(d=b.value||b.getAttribute("value")||c);b.dr||(a.Ad.push(b),b.dr=!0,d&&(a.values.push(d),a.Ag.add(d,b)),a.li=a.$i=!1,c&&l(a,
b,c))}function l(a,b,c){c||(c=b.key||q(b));var d=a.options,f=a.f,e=a.dh,k=a.Dn,l=a.mm,r=y(c);c=d&8;var z=d&4;c||(d=r.toLowerCase(),l[d]=r,r=d);D(b,f)||h.append(f,b," ");m(b,r,e,k,z);x(b,"cue")&&a.cues.push(b);a=G(b,".variation");b=0;for(f=a.length;b<f;){var r=a[b++],t=y(r.key||q(r));c||(d=t.toLowerCase(),l[d]=t,t=d);m(r,t,e,k,z)}}function A(a){for(var b=G(a.f,".completion"),c=0,d=b.length;c<d;)v(a,b[c++]);a.ce=!0}function t(a,b){var c=a.Ok,d,f;if(c)for(d=0,f=c.length;d<f;)J(c[d++],"displayed");a.Ok=
c=[];if(b)for(d=0,f=b.length;d<f;){var e=b[d++];if(x(e,"completion"))K(e,"displayed"),c.push(e);else{var h=D(e,".completion");h&&!x(h,"displayed")&&(c.push(e),c.push(h),K(h,"displayed"),K(e,"displayed"))}}a.visible=!1;a.selection&&!x(a.selection,"displayed")&&(a.ag()||a.kh()||a.Ne());a.xm&&a.xm.call(a)}function y(a){return a.replace(/\s+/," ").replace(/(^\s)|(\s$)/,"")}var w=g.String,h=g.b,c=g.a,b=g.tb,f=g.I,F=h.requestAnimationFrame,r=g.async,d=0,x=h.L,K=h.h,J=h.l,G=h.J,D=h.getParent,E=h.Ac,P=b.position,
O=w.Ja,L=w.Qs,z=w.jp,W=w.kp,M=w.Cr;c.dk=1;c.ck=2;c.bk=4;c.kw=8;c.jw=16;var Q=g.Map||b.Map;a.getKey=q;a.prototype.Ee=function(a,b,c){this.ce||A(this);v(this,a,b,c);this.visible&&(this.visible=!1)};a.prototype.gn=function(a,b){this.ce?l(this,a,b):(A(this),v(this,a,b));this.visible&&(this.visible=!1)};a.prototype.ps=function(a){if(a===this.li||a===this.$i||this.li&&this.$i&&L(a,this.li)&&L(this.$i,a))return this.result;var b,c=this;this.ce||A(this);O(a)?(b=[],b.prefix="",b.matches=[],this.f&&K(this.f,
"noinput")):(b=e(a,this.dh,this.Dn,this.options&8),this.f&&J(this.f,"noinput"),F(function(){t(c,b.matches)}));if(this.mm&&this.oc)for(var d=this.mm,f=this.oc,h=0,k=f.length;h<k;){var l=d[f[h]];l?f[h++]=l:h++}this.li=a;this.$i=b.prefix||a;return this.result=b};a.prototype.Og=function(a){if(a.value)return a.value;if(a.getAttribute("data-value"))return a.getAttribute("data-value");if(a.getAttribute("value"))return a.getAttribute("value");a=P(this.Ad,a);return 0>a?!1:this.values[a]};a.prototype.getKey=
function(a){return a.key?a.key:a.getAttribute("data-key")?a.getAttribute("data-key"):a.getAttribute("key")?a.getAttribute("key"):q(a)};a.prototype.complete=function(a,b){var c=this;this.ce||A(this);a||""===a||(a=this.kl?this.kl(this.input):x(this.input,"isempty")?"":this.input.value);if(O(a))return F(function(){c.Ok&&t(c,!1);K(c.f,"noinput");J(c.f,"nomatches");b&&r(function(){b([])})}),[];var d=this.ps(a);if(d&&0!==d.length)return F(function(){t(c,d.matches);J(c.f,"noinput");J(c.f,"nomatches");b&&
r(function(){b(d)})}),d;F(function(){t(c,!1);J(c.f,"noinput");K(c.f,"nomatches");b&&r(function(){b(d)})});return[]};a.prototype.Di=function(a,b){this.ce||A(this);var c=[],d=this.Ag;b&&(b=new h.Ra(b));a instanceof Array||(a=[a]);for(var f=0,e=a.length;f<e;){var k=a[f++];if(k=d.get(k))if(k instanceof Array||(k=[k]),b)for(var l=0,r=k.length;l<r;)b.match(k[l])?c.push(k[l++]):l++;else c=c.concat(k)}return c};a.prototype.Tu=function(a,b){this.ce||A(this);var c=h.J(this.f,".completion."+b);c&&c.length&&
J(h.Array(c),"hidden");for(var c=[],d=this.Ag,f=0,e=a.length;f<e;){var k=a[f++];if(k=d.get(k)){k instanceof Array||(k=[k]);for(var l=0,r=k.length;l<r;){var m=k[l++];x(m,b)||(K(m,b),c.push(m))}}}return c};a.prototype.l=function(a){var b=h.J(this.f,".completion."+a);b&&b.length&&J(h.Array(b),a)};a.prototype.Rn=function(a){this.ce||A(this);a||(a=this.input);var b=this.Xx||100,c=this;this.za&&(clearTimeout(c.za),c.za=!1);this.za=setTimeout(function(){a||(a=c.input);c.complete(a.value)},b)};c.xf=a;var C=
h.Ra;a.prototype.ll=function(){var a;if(this.visible)a=this.visible;else{a=this.f;for(var b=a.firstChild,c=[];b!==a;){if(1===b.nodeType){var d=x(b,"completion");d&&"none"!==E(b).display&&c.push(b);if(b.firstChild&&!d){b=b.firstChild;continue}}for(;b!==a&&!b.nextSibling;)b=b.parentNode;b!==a&&(b=b.nextSibling)}a=this.visible=c}return a};a.prototype.select=function(a){var b=!1,c=this.ll();a instanceof C&&(b=a,a=!1);if(!a&&b)for(var d=0,f=c.length;d<f;){var e=c[d++];if(x(e,b)){a=e;break}}!a&&c.length&&
(a=c[0]);this.selection&&J(this.selection,"selected");K(a,"selected");return this.selection=a};a.prototype.ag=function(){var a;a||(a=this.selection?this.selection:!1);for(var b=this.ll(),c=!1,d=!1,f=0,e=b.length;f<e;){var h=b[f++];c||(c=h);if(a)h===a&&(a=!1,d=!0);else{a=h;break}}this.selection&&J(this.selection,"selected");d||(a=c);K(a,"selected");return this.selection=a};a.prototype.kh=function(){var a;a||(a=this.selection?this.selection:!1);for(var b=this.ll(),c=!1,d=!1,f=b.length-1;0<=f;){var e=
b[f--];c||(c=e);if(a)e===a&&(a=!1,d=!0);else{a=e;break}}this.selection&&J(this.selection,"selected");d||(a=c);a&&K(a,"selected");return this.selection=a};a.prototype.Ne=function(a){if(a&&this.selection&&a!==this.selection)return!1;if(this.selection)return J(this.selection,"selected"),this.selection=!1,!0};var V={};c.xf.sC=function(b){b=b||window.event;b=c.c(b);var d=b.name,e=V[d],p=h.Ng(b,"completions");if(p=p&&f(p))e&&e.f===p||(e=new a(p,b,7),V[d]=e),e&&e.Rn(b)};c.xf.update=function(b){b=b||window.event;
"string"===typeof b&&(b=f(b));if(b){b=b.nodeType?b:c.c(b);var d=b.name,e=V[d],p=h.Ng(b,"completions");if(p=p&&f(p))e&&e.f===p||(e=new a(p,b,7),V[d]=e),e&&e.Rn(b)}}})();g.a||(g.a={});
g.D=g.a.D=function(){function a(a,b,c,d){return"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&"number"===typeof d?H((a-c)*(a-c)+(b-d)*(b-d)):!1}function q(b,c,d){if("number"===typeof b.clientX)return b.clientX;b=b.changedTouches&&b.changedTouches.length&&b.changedTouches||b.touches&&b.touches.length&&b.touches;var f=window.pageXOffset,e=window.pageYOffset;if(b&&b.length){if(1===b.length||"number"!==typeof c||"number"!==typeof d)return b[0].pageX-f;for(var h=1,k=b.length,l=b[0],n=a(Math.abs(l.pageX-
f),Math.abs(l.pageY-e),c,d),r=n,m=l;h<k;)l=b[h++],n=a(Math.abs(l.pageX-f),Math.abs(l.pageY-e),c,d),n<r&&(m=l,r=n);return m.pageX-f}return!1}function k(a,b,c){if("number"===typeof a.clientY)return a.clientY;a=a.changedTouches&&a.changedTouches.length&&a.changedTouches||a.touches&&a.touches.length&&a.touches;var d=window.pageXOffset,f=window.pageYOffset;if(a&&a.length){if(1===a.length||"number"!==typeof b||"number"!==typeof c)return a[0].pageY-f;for(var e=1,h=a.length,k=a[0],n=Math.abs(Math.abs(k.pageX-
d)-b)+Math.abs(Math.abs(k.pageY-f)-c),l=n,r=k;e<h;)k=a[e++],n=Math.abs(Math.abs(k.pageX-d)-b)+Math.abs(Math.abs(k.pageY-f)-c),n<l&&(r=k,l=n);return r.pageY-f}return!1}function m(a,b,d,f,e,h,k,l){var n=d.id||typeof d,m=d.Mc;d=d.C;var z=f&&W(f);a||(a=z);z=document.createEvent("UIEvent");z.initUIEvent(b,!0,!0,window,f&&f.touches&&f.touches.length||f&&f.button||0);z.clientX=e;z.clientY=h;z.ef=k||1;if(l)for(var x in l)l.hasOwnProperty(x)&&(z[x]=l[x]);if(m||r)l&&"number"===typeof l.rb?c("TapHold/%s(%s) on %o @%d,%d/%d,%d from %o given %j",
b,n,a,e,h,l.rb,l.qf,f||"scratch",l):l?c("TapHold/%s(%s) on %o @%d,%d from %o given %j",b,n,a,e,h,f||"scratch",l):c("TapHold/%s(%s) on %o @%d,%d from %j",b,n,a,e,h,f||"scratch");a&&P(a,document.body)||(a=document.elementFromPoint(e,h));d&&d.hasOwnProperty(b)?(z.target=a,d[b](z,a)):a.dispatchEvent(z)}function e(a,b,c,d){a=K(a,b);b=0;for(var f=a.length;b<f;){var e=a[b++],h=e.offsetLeft,k=e.offsetTop,n=e.mC,l=e.lC;if("number"===typeof h&&(1>=n-h?c>=h&&d<=n:c>=h&&d<n)&&(1>=l-k?d>=k&&d<=l:c>=k&&d<l))return e}return!1}
function v(a){a=a||window.event;r&&c("TapHold/global/mouseup %o",a);1===a.button&&(R=!1)}function l(a){a=a||window.event;r&&c("TapHold/global/mousedown %o",a);1===a.button&&(R=!0)}function A(a){a=a||window.event;var b=W(a),d=a.relatedTarget||a.toElement;2<r&&c("TapHold/global/mouseout %o %o==>%o",a,b,d);b===document.documentElement&&(R=!1)}function t(a){return(a=/\bfdjtlog(\d*)/.exec(a))&&a.length?(a="string"===typeof a[1]&&parseInt(a[1],10))&&!isNaN(a)?a:1:0}function y(a,b,c,d){(c=b[a]||c&&c[a]||
d.getAttribute("data-"+a)||h[a])&&(b[a]=c)}function w(a,b,c){b=b.nodeType&&b||f.c(b);c.Ot||h.Ot||D(b,"fdjtmute")||D(c.Z,"fdjtmute")||(a=b.getAttribute("data-"+a)||c[a],"string"===typeof a&&(a=document.getElementById(a)),a&&a.play())}function h(p,H){function S(){var a=ub(p,".tapholdcontext");a&&a.length&&(J(a,Ra),bb=a);J(p,Ra)}function aa(){bb&&bb.length&&(G(bb,Ra),bb=!1);G(p,Ra)}function ca(){N||G(p,Ra)}function ia(a){la&&(clearTimeout(la),la=!1);a&&T&&(clearTimeout(T),T=!1);N&&I&&G(N,I);N=qa=!1;
Z=[];X=ka=Ma=ya=Ga=Qa=Ka=Va=pa=ha=Sa=wa=U=Za=!1}function K(a){(2<sa||2<r||a!==N&&(sa||r))&&c("TapHold/setTarget(%s) %o cur=%o",Ba,a,N);N&&N!==a&&I&&G(N,"tapholdtarget");a&&I&&J(a,"tapholdtarget");a&&N&&a!==N&&(U=pa,Za=ha);ob=N;N=a;qa=F()}function Da(a,b,c,d){"undefined"===typeof c&&(c=pa);"undefined"===typeof d&&(d=ha);w("tapsound",a,Pa);m(a,"tap",Pa,b,c,d,wa,!1)}function n(a,b){var c,d;"undefined"===typeof c&&(c=pa);"undefined"===typeof d&&(d=ha);ya=!0;w("holdsound",a,Pa);Ra&&setTimeout(S,20);m(a,
"hold",Pa,b,c,d,wa,!1)}function ba(a,b,d,f){var e=qa&&ob&&F()-qa;"undefined"===typeof d&&(d=pa);"undefined"===typeof f&&(f=ha);w("releasesound",a,Pa);Ra&&setTimeout(ca,50);e&&200>e&&(sa&&c("TapHold(%s) %d=i<200ms, target=%o not %o",Ba,e,ob,a),a=ob);m(a,"release",Pa,b,d,f,wa,{rb:Qa,qf:Ka})}function B(a,b,c){c?(c.rb=Qa,c.qf=Ka):c={rb:Qa,qf:Ka};if(b&&!c.hasOwnProperty("relatedTarget")){var d=b.relatedTarget;d!==a&&(c.relatedTarget=d)}w("slipsound",a,Pa);Ra&&setTimeout(ca,50);m(a,"slip",Pa,b,pa,ha,wa,
c)}function Ha(a,b){w("taptapsound",a,Pa);m(a,"taptap",Pa,b,pa,ha,wa,!1)}function Oa(a,b,c,d,f,e){var h=f-c,p=e-d;Ga=F();w("swipesound",a,Pa);m(a,"swipe",Pa,b,f,e,wa,{rb:c,qf:d,Gy:f,Hy:e,deltaX:h,deltaY:p})}function V(a,b){b||(b=Ya||h.interval||100);a=a||window.event;(1<sa||1<r)&&c("TapHold/startpress(%s) %o tht=%o timer=%o tt=%o touched=%o pressed=%o@%o timeout=%oms",Ba,a,N,la,na,X,ka,Ma,b);na&&la&&(clearTimeout(la),la=!1);na&&T?(clearTimeout(T),T=!1,Ha(na,a),ia(!0)):X||ka||la||(N?(X=N,Ga=ka=!1,
O.gc&&O.vd(!0),Ma=F(),la&&clearTimeout(la),la=setTimeout(function(){(1<sa||1<r)&&c("TapHold/startpress/timeout(%s) (%dms) %o",Ba,b,a);if(0<Z.length)for(var d=Z,f=0,e=d.length;f<e;){var h=d[f++];if(f===e&&h===N)break;n(h);ra||(f<e?B(h,a,{relatedTarget:d[f]}):B(h,a))}ka=N;Z=[];Ma=N?F():!1;n(N,a);la&&clearTimeout(la);X=la=!1},b)):Ga=!1)}function Xa(a){(1<sa||1<r)&&c("TapHold/endpress(%s) %o t=%o p=%o tch=%o tm=%o ttt=%o/%o, start=%d,%d,%d/%d",Ba,a,N,ka,X,la,na,da,Qa,Ka,Va,F());if(ka||X||la){var d=pa,
f=ha;if(la)clearTimeout(la),la=!1,O.gc&&setTimeout(function(){O.vd(!1)},1500),N===X||F()-Va<Ya/1E3?(na=N,da&&0<da?T=setTimeout(function(){T=!1;Da(na,a,d,f)},da):Da(N,a,d,f)):ra||B(N,a);else if(ka){var e=b.mb(p);d>=e.left&&d<=e.right&&f>=e.top&&f<=e.bottom?ba(ka,a,d,f):ra?ba(ka,a,d,f):B(N,a,{gF:d,hF:f})}O.gc&&O.vd(!1);ia();K(!1);Ra&&setTimeout(aa,20);Z=[]}else ia(!0)}function ga(a,b){(sa||r)&&c("TapHold/abort%s(%s) %o: th=%o t=%o p=%o",b?"("+b+")":"",Ba,a,N,X,ka);la?(clearTimeout(la),la=!1):ra||ka&&
B(ka,a,{relatedTarget:!1});O.gc&&O.vd(!1);Ma=X=ka=na=!1;Ra&&setTimeout(aa,20);Z=[];K(!1)}function ta(a){a=a||window.event;var b=a.toElement||a.relatedTarget;fb||N&&ka&&!P(b,p)&&(fb=setTimeout(eb,gb,a,b))}function eb(a,b){ra||B(ka,a,{relatedTarget:b});ga(a,"taphold_mouseout")}function Ia(){fb&&(clearTimeout(fb),fb=!1)}function mb(b){b=b||window.event;var d,f=b.touches&&b.touches.length||1;ua||L(b);Aa&&z(b);cb&&b.touches&&b.touches.length<=ma&&(0<=Y&&(cb.scrollLeft=Y-(b.touches[0].pageX-window.pageXOffset)),
0<=hb&&(cb.scrollTop=hb-(b.touches[0].pageY-window.pageYOffset)));if(ka&&Q>Va)ga(b,"move/cleared");else if(!X&&!ka||R){var h=b.clientX||q(b,pa,ha),l=b.clientY||k(b,pa,ha),m=ka?a(h,l,U,Za):a(h,l,Qa,Ka);b.touches||La||Ta?(h+=La,l+=Ta,d=document.elementFromPoint(h,l)):d=W(b);if(!d||!M(d)){var I=Math.abs(h-pa)+Math.abs(l-ha),x=F()-Sa;(2<sa||2<r)&&c("TapHold/move(%s) s=%d,%d tt=%d,%d t=%d,%d c=%d,%d d=%d thresh=%o, dt=%o md=%o, pressed=%o, touched=%o, event=%o target=%o",Ba,Qa,Ka,U,Za,pa,ha,h,l,m,Ua,x,
R,ka,X,b,d);if(d){var H=E(d,".tapholder");if(H!==p)(2<sa||2<r)&&$a(b,Ba,p,H,N,d,Qa,Ka,U,Za,pa,ha),N&&((sa||r)&&c("setWanderTimeout(%s): h=%o!=elt=%o",Ba,H,p),fb=setTimeout(function(){ga(b,"taphold_wander_timeout")},gb),ka&&(ra||B(ka,b,{relatedTarget:!1}),K(!1)));else if(fb&&(clearTimeout(fb),fb=!1,(2<sa||2<r)&&c("Wander return(%s) %o pressed=%o, target=%o",Ba,b,ka,N),ka&&!N&&(K(ka),n(ka,b))),X||ka)if(Ua&&la&&m>Ua)(1<sa||1<r)&&c("TapHold/move/cancel(%s) s=%d,%d tt=%d,%d t=%d,%d c=%d,%d d=%d thresh=%o, dt=%o md=%o, event=%o",
Ba,Qa,Ka,U,Za,pa,ha,h,l,m,Ua,x,R,b),ga(b,"movefar"),la&&clearTimeout(la),Ma=X=la=ka=!1,Z=[],!Ga&&!ya&&0<va&&a(Qa,Ka,h,l)>va&&Oa(d,b,Qa,Ka,h,l),K(!1),pa=h,ha=l,Sa=F(),wa?f>wa&&(wa=f):wa=f;else if(I<10*oa&&0<x&&I/x<oa)(2<sa||2<r)&&c("TapHold/move/ignore(%s) s=%d,%d t=%d,%d c=%d,%d dt=%o total=%d/%o, local=%d/%o/%o, thresh=%o md=%o",Ba,Qa,Ka,pa,ha,h,l,x,m,Ua,I,I/x,oa,R),pa=h,ha=l,Sa=F(),wa?f>wa&&(wa=f):wa=f;else{if((2<sa||2<r)&&c("TapHold/move(%s) s=%d,%d t=%d,%d c=%d,%d dt=%o total=%d/%o, local=%d/%o/%o, md=%o",
Ba,Qa,Ka,pa,ha,h,l,x,m,Ua,I,oa,I/x,R),pa=h,ha=l,Sa=F(),wa?f>wa&&(wa=f):wa=f,d=E(d,pb),!(b.touches&&b.touches.length&&b.touches.length>ma)){if(O.gc)O.onmousemove(b,pa,ha);d||(d=e(p,pb,pa,ha));d&&((P(d,".tapholder")&&!ra&&K(d),b.touches&&X&&!ka&&Z[Z.length-1]!==N&&Z.push(N),R)?ka&&N!==ka&&!P(N,ka)&&!P(ka,N)&&ra?((1<sa||1<r)&&c("TapHold/move(%s) endpress pressed=%o tt=%o %o",Ba,ka,N,b),Xa(b)):ka&&N!==ka&&(ra||B(ka,b,{relatedTarget:d}),Ma=(ka=N)?F():!1,n(ka)):(ra||B(ka,b,{relatedTarget:d}),Ma=ka=!1))}}else!Ga&&
!ya&&0<va&&a(Qa,Ka,h,l)>va&&Oa(d,b,Qa,Ka,h,l),pa=h,ha=l,Sa=F(),wa?f>wa&&(wa=f):wa=f}else pa=h,ha=l,Sa=F(),wa?f>wa&&(wa=f):wa=f}}else ga(b,"move/up")}function $a(a,b,d,f,e,h,p,n,k,l,r,m){c("TapHold/move%s/farout(%s) %o %o -> %o s=%d,%d tt=%d,%d t=%d,%d",R?"/md":"",b,a,e,h,p,n,k,l,r,m);c("TapHold/move/farout(%s) target in %o, elt is %o",b,f,d)}function ib(a,b){a=a||window.event;if(!(a.ctrlKey||a.altKey||a.metaKey||a.button||a.which&&1<a.which)){var d=a.touches&&a.touches.length||1;R=!0;Q=0;pa=(a.clientX||
q(a)||pa)+La;ha=(a.clientY||k(a)||ha)+Ta;Qa=U=pa;Ka=Za=ha;Sa=F();var f=La||Ta?document.elementFromPoint(pa,ha):W(a);if(!f||!M(f)){wa?d>wa&&(wa=d):wa=d;ua||L(a);Aa&&z(a);var d=!1,e=E(f,".tapholder");(1<sa||1<r)&&c("TapHold/down(%s) %o tht=%o target=%o holder=%o elt=%o",Ba,a,N,f,e,p);if(e!==p)(1<sa||1<r)&&c("TapHold/ignore(%s) %o tht=%o t=%o h=%o elt=%o",Ba,a,N,f,e,p);else{f&&(f=E(f,pb));cb&&a.touches&&a.touches.length<=ma&&(0<=Y&&(Y=cb.scrollLeft+(a.touches[0].pageX-window.pageXOffset)),0<=hb&&(hb=
cb.scrollLeft+(a.touches[0].pageY-window.pageYOffset)));a.touches&&(f=document.elementFromPoint(pa,ha));(1<sa||1<r)&&c("TapHold/down2(%s) %o tht=%o trg=%o s=%o,%o,%o t=%o,%o m=%o tch=%o prs=%o ttt=%o",Ba,a,N,f,Qa,Ka,Va,pa,ha,R,X,ka,da||!1);if(a.touches&&N){var h=E(p,".tapholder"),n=a.changedTouches[0];(1<sa||1<r)&&c("TapHold(%s) second touch on %o (in %o) after %o (in %o)",Ba,f,e,N,h,h===e);if(Na&&h===e){(1<sa||1<r)&&c("TapHold(%s) touchtoo with touchtoo on %o after %o: %o",Ba,f,N,a);if(Na.call){Na.call(Pa,
a);return}d=document.createEvent("UIEvent");d.initUIEvent("touchtoo",!0,!0,window,0);d.screenX=n.screenX;d.screenY=n.screenY;d.clientX=n.clientX;d.clientY=n.clientY;d.ctrlKey=a.ctrlKey;d.altKey=a.altKey;d.shiftKey=a.shiftKey;d.metaKey=a.metaKey;d.touches=document.createTouchList(n);d.targetTouches=document.createTouchList(n);d.changedTouches=document.createTouchList(n);f.dispatchEvent(d);return}h&&e&&h!==e&&((1<sa||1<r)&&c("TapHold(%s) Clearing on %o, moving %o to %o",Ba,N,a,f),d=document.createEvent("TouchEvent"),
d.initTouchEvent(a.type,!0,!0,window,null,n.screenX,n.screenY,n.clientX,n.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,document.createTouchList(n),document.createTouchList(n),document.createTouchList(n)))}d?(ga(a,"down/touch2"),f.dispatchEvent(d)):(K(f),Z=[],Va=F(),(1<sa||1<r)&&c("TapHold/down3(%s) %o t=%o x=%o y=%o t=%o touched=%o",Ba,a,N,Qa,Ka,Va,X),fa&&fa(a)||X||V(a,b))}}}}function jb(b){b=b||window.event;R=!1;if(Q>Va)ga(b,"up");else{var d=W(b);if(!d||!M(d)){ua||L(b);Aa&&z(b);var f=E(d,".tapholder");
if(f!==p)(1<sa||1<r)&&c("TapHold/up/ignore(%s) %o tht=%o target=%o holder=%o elt=%o",Ba,b,N,d,f,p);else{d&&(d=E(d,pb));pa=(b.clientX||q(b)||pa)+La;ha=(b.clientY||k(b)||ha)+Ta;Sa=F();if(!d||La||Ta)d=e(p,pb,pa,ha);(1<sa||1<r)&&c("TapHold/up(%s) %o tht=%o d=%o s=%o,%o,%o t=%o,%o m=%o touched=%o pressed=%o ttt=%o swipe_t=%o",Ba,b,N,a(Qa,Ka,pa,ha),Qa,Ka,Va,pa,ha,R,X,ka,da,Ga);if(!(b.changedTouches&&b.changedTouches.length&&b.changedTouches.length>ma)){f=Ga?0:a(Qa,Ka,pa,ha);if(X||ka){if(fa&&fa(b))return;
Xa(b)}else if(0<va&&f>va&&!ya&&!(X&&X===p||ka&&ka===p))Oa(d,b,Qa,Ka,pa,ha);else if(X||ka)fa&&fa(b)||Xa(b);ia()}}}}}function rb(a){(sa||r)&&c("TapHold/cancel(%s) %o: th=%o t=%o p=%o",Ba,a,N,X,ka);la?(clearTimeout(la),la=!1):ka&&ba(ka,a);O.gc&&O.vd(!1);Ma=X=ka=na=!1;Ra&&setTimeout(aa,20);Z=[];K(!1)}if(p){if(!(this instanceof h))return new h(p,H);var Pa=this,Ra="tapholding",I="tapholdtarget",X=!1,ka=!1,Ma=!1,la=!1,T=!1,N=!1,Z=[],na=!1,qa=!1,ob=!1,Ea=!1,ra=!1,ua=!1,Aa=!1,ma=1,Na=!1,Ya=!1,da=!1,Ua=!1,
gb=!1,va=30,ya=!1,cb=!1,Y=0,hb=0,Qa=!1,Ka=!1,Va=!1,pa=!1,ha=!1,Sa=0,wa=!1,U=!1,Za=!1,Ga=!1,oa=2,La=0,Ta=0,sa=0,ab=C++,Ba=H&&H.id?H.id+":"+ab:p.id?"#"+p.id+":"+ab:""+ab;Pa.id=Ba;var bb=[],ub=b.Fs;y("tapsound",Pa,H,p);y("holdsound",Pa,H,p);y("releasesound",Pa,H,p);y("slipsound",Pa,H,p);y("taptapsound",Pa,H,p);y("swipesound",Pa,H,p);var pb=p.getAttribute("data-touchable"),pb=H&&H.hasOwnProperty("touchable")?"string"===typeof H.tm?b.Ra(H.tm):H.tm:pb?b.Ra(pb):function(a){return P(a,p)},vb=f.Vf,fa;if(H&&
H.hasOwnProperty("untouchable"))if("string"===typeof H.Wj){var db=b.Ra(H.Wj);fa=function(a){return a.nodeType?db.match(a):db.match(W(a))}}else fa=H.Wj;else fa=function(a){return vb(a)};H&&H.lj&&(ra=H.lj);H&&H.Kv&&(La=H.Kv);H&&H.Lv&&(Ta=H.Lv);H&&H.hasOwnProperty("trace")?(Ea=H.trace,sa="number"===typeof Ea?Ea:Ea?2:0):sa=D(p,/\bfdjtlog\d*/g)?t(p.className):0;var fb=!1;H?H.hasOwnProperty||(H={ca:!0}):H={};Ea=H.hasOwnProperty("fortouch")?H.Bi:x.hasOwnProperty("fortouch")?x.Bi:!1;Ya=H.hasOwnProperty("holdmsecs")?
H.wd:x.hasOwnProperty("holdmsecs")?x.wd:150;Ua=H.hasOwnProperty("movethresh")?H.ej:x.hasOwnProperty("movethresh")?x.ej:20;da=H.hasOwnProperty("taptapmsecs")&&H.Lc;gb=H.hasOwnProperty("wanderthresh")?H.xq:x.hasOwnProperty("wanderthresh")?x.xq:2E3;Aa=H.hasOwnProperty("override")?H.ff:x.hasOwnProperty("override")?x.ff:!1;Na=H.hasOwnProperty("touchtoo")?H.xh:x.hasOwnProperty("touchtoo")?x.xh:!1;va=H.hasOwnProperty("minswipe")?H.pb:x.hasOwnProperty("minswipe")?x.pb:30;ua=H.hasOwnProperty("bubble")?H.Cn:
x.hasOwnProperty("bubble")?x.Cn:!1;ma=H.hasOwnProperty("maxtouches")?H.Al:x.hasOwnProperty("maxtouches")?x.Al:1;da&&"number"!==typeof da&&(da=x.Lc||200);if(cb=H.hasOwnProperty("scrolling")?H.ca:!1)cb.nodeType||(cb=p),Y=H.Ps("scrollx")&&H.CD?0:-1,hb=(H.Ps("scrolly")?H.ED:1)?0:-1;H.hasOwnProperty("holdclass")?Ra=H.Ao:x.hasOwnProperty("holdclass")&&(Ra=x.Ao);H.hasOwnProperty("touchclass")?I=H.Mv:x.hasOwnProperty("touchclass")&&(I=x.Mv);oa=H.hasOwnProperty("minmove")?H.Kt:x.hasOwnProperty("minmove")?
x.Kt:Ea?2:0;H.hasOwnProperty("handlers")&&(this.C=H.C);J(p,"tapholder");Ea||b.addListener(p,"mousemove",mb);b.addListener(p,"touchmove",mb);Ea||b.addListener(p,"mousedown",ib);Ea||b.addListener(p,"mouseout",ta);Ea||b.addListener(p,"mouseover",Ia);b.addListener(p,"touchstart",ib);Ea||b.addListener(p,"mouseup",jb);b.addListener(p,"touchend",jb);b.addListener(p,"touchcancel",rb);d||(x.Bi||(b.addListener(window,"mousedown",l),b.addListener(window,"mouseup",v),b.addListener(window,"mouseout",A)),d=window);
this.Sb=p;this.je=ab;this.clear=function(){(sa||r)&&c("TapHold/clear(%s) th=%o t=%o p=%o",Ba,N,X,ka);ka&&!ra&&B(ka);Ma=X=ka=na=!1;ia(!0);K(!1);Z=[]};this.Zr=function(a,b){Qa=U=pa=a.clientX||q(a);Ka=Za=ha=a.clientY||k(a);Sa=Va=F();var d=document.elementFromPoint(Qa,Ka);d||c("TapHold(%s): No target from %o,%o",Ba,Qa,Ka);K(d);Z=[d];(sa||r)&&c("TapHold/fakePress(%s) t=%o x=%o y=%o t=%o",Ba,N,Qa,Ka,Va);V(a,b)};this.abort=ga;this.trace=function(a){var b=sa;sa="undefined"===typeof a?1:"number"===typeof a?
a:a?2:0;return b};this.debug=function(){debugger};(sa||r)&&c("New TapHold(%s) for %o: %o opts %j, trace=%o/%o",Ba,p,Pa,H||!1,sa,r);return this}c.warn("TapHold with no argument!")}var c=g.t,b=g.b,f=g.a,F=g.mg,r=0,d=!1,x={},K=b.J,J=b.h,G=b.l,D=b.L,E=b.getParent,P=b.cb,O=f.tc,L=f.Wo,z=f.ij,W=f.c,M=b.Si,Q=0,C=1,V={shift:16,alt:18,control:17,KB:224,wC:91,Ww:225,az:-1,jC:144,Gx:20,BD:145},ba;for(ba in V);var H=Math.sqrt,R=!1;h.prototype.id=h.prototype.Sb=h.prototype.C=!1;h.prototype.je=0;h.prototype.clear=
h.prototype.trace=h.prototype.abort=h.prototype.debug=!1;h.clear=function(){r&&c("TapHold.clear()");Q=F()};h.trace=function(a){if("undefined"===typeof a)return r;var b=r;"number"===typeof a?r=a:a&&(r=x.iF||2);return b};h.Hg=x;return h}();g.a||(g.a={});
g.Nm=g.a.uw=g.a.Nm=function(){function a(b,c){if(this instanceof a)this.je=++ba;else return new a(b,c);if("string"===typeof b){var d=document.getElementById(b);if(d)this.Ad=b=[d];else return!1}else if(b.nodeType)this.Ad=b=[b];else if(b.length)this.Ad=b;else return!1;var f=0,d=this.Nl=[],e=this.zm=[],h=this.gd=[],k=this.uf=[],l=[];if(c&&c.hasOwnProperty("trace"))var n=c.trace,f="number"===typeof n?n:n?1:0;this.Mc=f;c.nj&&(this.nj=c.nj);c.oj&&(this.oj=c.oj);var r=this.prefix="fdjtSel0"+this.je;if(c.ob||
a.ob)n=c.ob||a.ob,this.ob=n.nodeType?n:J("span.fdjtselectloupe");this.Eb=!1;C[r]=this;for(var m=r.length+1,n=0,z=b.length;n<z;){var x=b[n++],t="inline"===O(x).display?J("span.fdjtselecting"):J("div.fdjtselecting");this.ob&&!this.ob.parentNode&&t.appendChild(this.ob);t.id=r+"w"+n;t.title=c&&c.title||"Tap or hold/drag to move the ends of the text range";C[t.id]=this;k.push(t);var L=K(t,this,c);V[t.id]=L;l.push(L);(f||H)&&G("Created TapHold handler (#%d) for wrapper %s around %o",L.je,t.id,x);x.parentNode.replaceChild(t,
x);d.push(x);e.push(t);q(x,d,e,h,r);t.appendChild(x)}this.end=this.start=!1;this.max=this.min=-1;this.fj=0;this.onchange=c&&c.onchange||!1;this.jg=function(a){for(var b=!1;a&&1!==a.nodeType;)a=a.parentNode;return a&&(b=a.id)&&"SPAN"===a.tagName&&0===b.search(r)?parseInt(b.slice(m),10):!1};this.Up=function(a,b){var c=D.c(a);H&&G("startEvent %o, target=%o, wrappers=%o",a,c,k);for(var d=0,e=k.length;d<e;){var h=k[d++];if(E(h,c)||E(c,h)){c=V[h.id];(f||H)&&G("Using TapHold handler @%d for wrapper %s (#%d)",
d-1,h.id,c.je);c.Zr(a,b);break}}};return this}function q(a,b,c,d,f){var e,h;if(3===a.nodeType){var k;e=a.nodeValue.split(/\b/);h=0;b=e.length;a=[];for(c=!1;h<b;){var n=e[h++];"\u00ad"===n?c?(k=e[h])?(c=c+n+k,h++):c+=n:c=n:(c&&a.push(c),c=n)}c&&a.push(c);b=[];e=0;for(h=a.length;e<h;)if(c=a[e++],0!==c.length)if(0<=c.search(/\S/)&&0<=c.search(/\s/))for(;c.length;)n=c.search(/\s/),k=c.search(/\S/),n=0>=n?k:0>=k?n:n<k?n:k,0>=n&&(n=c.length),0<n&&(k=c.slice(0,n),k=J("span.fdjtword",k),k.id=f+"_"+d.length,
d.push(k),b.push(k)),c=c.slice(n);else k=J("span.fdjtword",c),k.id=f+"_"+d.length,d.push(k),b.push(k);return J("span.fdjtselectwrap",b)}if(1===a.nodeType){if((e=a.className)&&"string"===typeof e&&("fdjtselectwrap"===e||"fdjtskiptext"===a.className||0<=a.className.search(/\bfdjtskiptext\b/)))return a;e=O(a);if(""!==e.position&&"static"!==e.position)return a;if((n=a.childNodes)&&0!==n.length&&"fdjtselectwrap"!==a.className)for(e=0,h=n.length;e<h;){k=n[e++];var l=q(k,b,c,d,f);k!==l&&(b.push(k),c.push(l),
a.replaceChild(l,k))}}return a}function k(a,b,c){for(;b<=c;)a[b++].className="fdjtselected"}function m(a,b,c){for(;b<=c;)a[b++].className="fdjtword"}function e(a){a.Ce||(a.Ce=!0,a.nj&&a.nj())}function v(a){a.Ce&&(a.Ce=!1,a.oj&&a.oj())}function l(a,b,c){for(var d=!1;a&&1!==a.nodeType;)a=a.parentNode;if(!E(a,".fdjtselectloupe")){c.Ce||e(c);if(!c&&a&&(d=a.id)&&"SPAN"===a.tagName&&0===d.search("fdjtSel")){var f=d.indexOf("_");f&&(c=C[d.slice(0,f)])}if(!c){for(d=a;d&&!(d.className&&d.id&&"string"===typeof d.className&&
0<=d.className.search(/\bfdjtselecting\b/));)d=d.parentNode;if(d)c=C[d.id];else return!1}if(!c)return!1;(H||c.Mc)&&G("overWord %o, sel=%o, tapped=%o, adjust=%o, anchor=%o",a,c,b,c.Eb,c.anchor);if(b)A(a,c,!0);else if(c.Zj)A(a,c);else if(z(a,"fdjtselectstart")||z(a,"fdjtselectend"))c.timeout&&(clearTimeout(c.timeout),c.timeout=!1),c.$g=!1,c.Zj=a,A(a,c);else if(c.$g!==a)if(a.offsetParent)c.timeout&&clearTimeout(c.timeout),w(a,c,!1),c.Zj=!1,c.$g=a,c.timeout=setTimeout(function(){c.$g===a&&(c.timeout&&
clearTimeout(c.timeout),c.Zj=a,c.$g=!1,A(a,c))},100);else return!1;return!0}}function A(a,b,c){var d=b.start,f=b.end;if(a.offsetParent){if(b.start)if(b.anchor)d=b.anchor,f=a;else if(b.start===b.end)d=b.start,f=a;else{var e=b.jg(a);if("start"===b.Eb&&e>b.max||"end"===b.Eb&&e<b.min)return;if("start"===b.Eb)d=a;else if("end"===b.Eb)f=a;else if(d===a)b.Fd("start");else if(f===a)b.Fd("end");else if(e<=b.min)d=a,b.Fd("start");else if(e>=b.max)f=a,b.Fd("end");else if(6>e-b.min)d=a,b.Fd("start");else if(6>
b.max-e)f=a,b.Fd("end");else{if(c)return;e-b.min>(b.max-b.min)/2?(f=a,b.Fd("end")):(d=a,b.Fd("start"))}}else e=y(a),d=e.start,f=e.end;Q(function(){b.Dj(d,f);b.ob&&w(a,b,c)})}}function t(a,b){if(3===a.nodeType)return 0<=a.nodeValue.search(b);if(1===a.nodeType)for(var c=a.childNodes,d=0,f=c?c.length:0;d<f;){var e=c[d++];if(3===e.nodeType){if(0<=e.nodeValue.search(b))return e}else if(1===e.nodeType&&t(e,b))return e}return!1}function y(a){var b=a,c=a,d,f;if(!t(a,/"\(\[\{/)){f=b;for(d=b.previousSibling;d;)if(1===
d.nodeType&&z(d,"fdjtword"))if(t(d,/["\(\[\{]/)){b=d;break}else if(t(d,/[.;!?]/)){b=f;break}else f=d,d=d.previousSibling;else d=d.previousSibling;d||(b=f)}if(t(a,/[.;!?]/))c=a;else{f=c;for(d=c.nextSibling;d;)if(1===d.nodeType&&z(d,"fdjtword"))if(t(d,/[".;!?]/)){c=d;break}else f=d,d=d.nextSibling;else d=d.nextSibling;d||(c=f)}return{start:b,end:c}}function w(a,b,c){var d=a.parentNode,f=b.ob;if(f){var e=E(f,".fdjtselecting");b.Zi&&(clearTimeout(b.Zi),b.Zi=!1);if(a.offsetParent){for(var k=a.parentNode;k&&
"inline"===O(k).display;)k=k.parentNode;(H||b.Mc)&&G("updateLoupe(%d) over %o for %o%s",b.je,a,b,c?" (tapped)":"");var k=z(a,"fdjtselectend")?h(a,7,3,k):h(a,3,7,k),l=J("span.fdjtloupetext");f.innerHTML="";J.append(l,k.gd);J.append(f,l);e&&d.insertBefore(f,a);f.style.display="";c&&setTimeout(function(){b.Ce&&v(b);b.ob.style.display="none"},1E3)}}}function h(a,b,c,d){var f=a.id,e=f&&/(fdjtSel\d+_)(\d+)/.exec(f);if(e&&3===e.length){var f=e[1],e=parseInt(e[2],10),h=e-b;c=e+c;0>h&&(h=0);b=[];for(var k=
0,n,l,r=R(a);h<c;){var m=document.getElementById(f+h);if(m&&(!d||E(m,d)))if(1===m.nodeType){var z=R(m);if(z.bottom<r.top||z.top>=r.bottom){h++;continue}z=m.cloneNode(!0);P(z);h<e?k+=m.offsetWidth:h===e?(n=k,k=l=k+m.offsetWidth):k+=m.offsetWidth;m===a&&J.h(z,"fdjtselected");b.push(z)}else b.push(m.cloneNode(!0));h++}return{gd:b,width:k,SF:n,RF:l}}}function c(a){var b=!1;return a&&(b=a.id)&&"SPAN"===a.tagName&&0===b.search("fdjtSel")?(a=b.indexOf("_"))?C[b.slice(0,a)]||!1:!1:!1}function b(a){a=a||window.event;
for(var b=D.c(a);b&&1!==b.nodeType;)b=b.parentNode;for(;b;)if(b&&b.id&&"SPAN"===b.tagName&&0===b.id.search("fdjtSel")){var d=c(b);!d||d.anchor||d.start||(d.anchor=b);(H||d&&d.Mc)&&G("TextSelect/hold %o t=%o sel=%o",a,b,d);l(b,!1,d);D.cancel(a);break}else if(1===b.nodeType)b=b.parentNode;else break}function f(a){a=a||window.event;for(var b=D.c(a);b&&1!==b.nodeType;)b=b.parentNode;for(;b;)if(b&&b.id&&"SPAN"===b.tagName&&0===b.id.search("fdjtSel")){var d=c(b);(H||d&&d.Mc)&&G("TextSelect/tap %o t=%o sel=%o",
a,b,d);1===d.fj?d.Dj(!1):"fdjtselectstart"===b.className||"fdjtselectend"===b.className?(D.cancel(a),d.Dj(b,b)):l(b,!0,d)?(d.Eb="fdjtselectstart"===b.className?"start":"fdjtselectend"===b.className?"end":!1,D.cancel(a)):d&&(d.Eb=!1);break}else if(1===b.nodeType)b=b.parentNode;else break}function F(a,b){a=a||window.event;var c=D.c(a);(H||b&&b.Mc)&&G("TextSelect/release %o t=%o sel=%o",a,c,b);b&&(b.anchor=!1,b.Zj=!1,b.$g=!1,b.timeout&&(clearTimeout(b.timeout),b.timeout=!1),b.Fd(!1),b.ob&&(b.ob.style.display=
"none"),b.Ce&&v(b))}function r(a,b){a=a||window.event;var c=D.c(a);(H||b&&b.Mc)&&G("TextSelect/slip %o t=%o sel=%o",a,c,b);b&&b.ob&&(b.Zi=setTimeout(function(){b.Zi=!1;b.Ce&&v(b);b.ob.style.display="none"},2E3))}function d(a,b){return function(c){F(c,a);b&&b(c,a)}}function x(a,b){return function(c){r(c,a);b&&b(c,a)}}function K(a,c,e){e||(e={});e.ff=!0;e.tm=".fdjtword,.fdjtselected,.fdjtselectstart,.fdjtselectend";var h=new D.D(a,e);J.addListener(a,"tap",e&&e.au||f);J.addListener(a,"hold",e&&e.rC||
b);J.addListener(a,"release",d(c,e.cp||!1));J.addListener(a,"slip",x(c,e.dp||!1));return h}var J=g.b,G=g.t,D=g.a,E=J.cb,P=J.th,O=J.Ac,L=J.Kb,z=J.L,W=J.pc,M=J.l,Q=J.requestAnimationFrame,C={},V={},ba=0,H=0;a.prototype.je=a.prototype.Mc=a.prototype.Eb=a.prototype.fj=a.prototype.start=a.prototype.end=a.prototype.min=a.prototype.max=0;a.prototype.prefix=a.prototype.Mc=0;a.prototype.Ad=a.prototype.Nl=a.prototype.zm=a.prototype.uf=a.prototype.gd=a.prototype.ob=[];a.prototype.onchange=a.prototype.jg=a.prototype.Up=
!1;a.prototype.toString=function(){for(var a=this.uf,b="TextSelect(["+this.min+("start"===this.Eb?"*":"")+","+this.max+("end"===this.Eb?"*":"")+"],",c=0,d=a.length;c<d;)a[c].id&&(b=b+(0<c?",":"")+"'"+a[c].id+"'"),c++;return b+")"};a.prototype.Dj=function(a,b){(this.trace||H)&&G("TextSelect.setRange %o %o for %o",a,b,this);if(a){var c=this.gd,d=this.jg(a),f=this.jg(b);if(f<d){var e=a;a=b;b=e;e=d;d=f;f=e}if(this.start){if(this.start===a&&this.end===b)return;var e=this.jg(this.start),h=this.jg(this.end);
d>h||f<e?(m(c,e,h),k(c,d,f)):(d<e?k(c,d,e):d>e&&m(c,e,d),f>h?k(c,h,f):f<h&&m(c,f,h))}else k(c,d,f);c[f].className="fdjtselectend";c[d].className="fdjtselectstart";this.min=d;this.max=f;this.start=a;this.end=b;this.fj=f-d+1}else this.start&&this.end&&m(this.gd,this.min,this.max),this.start=this.end=!1,this.min=this.max=-1,this.fj=0;if(this.onchange)this.onchange()};var R=J.mb;a.Lz=c;a.prototype.Xu=function(a){var b=this.uf,c=1===b.length&&b[0];if(!c)for(var c=J("div"),d=0,f=b.length;d<f;){var e=b[d++];
c.appendChild(e.cloneNode(!0))}if((b=J.Se(c,a,0,1))&&0!==b.length){b=b[0];a=b.startContainer;for(b=b.endContainer;a&&1!==a.nodeType;)a=a.parentNode;for(;b&&1!==b.nodeType;)b=b.parentNode;a&&b&&a.id&&b.id&&0===a.id.search(this.prefix)&&0===b.id.search(this.prefix)&&(a=document.getElementById(a.id),b=document.getElementById(b.id),a&&b&&this.Dj(a,b))}};a.prototype.ud=function(a,b,c){a||(a=this.start);b||(b=this.end);for(var d=this.uf,f=[],e=this.prefix,h=-1;a;){if(!c&&1===a.nodeType){var k=O(a);"static"===
k.position&&"inline"!==k.display&&"none"!==k.display&&f.push("\n")}if(1===a.nodeType&&"SPAN"===a.tagName&&a.id&&0===a.id.search(e)&&(k=a.innerText||L(a),f.push(k.replace("\u00ad","")),a===b))break;if(a.firstChild&&"fdjtselectloupe"!==a.className&&3!==a.firstChild.nodeType)a=a.firstChild;else if(a.nextSibling)a=a.nextSibling;else{for(;a;){a:if(d.indexOf)h=d.indexOf(a);else{h=0;for(k=d.length;h<k;){if(d[h]===a)break a;h++}h=-1}if(0<=h)break;else if(a.nextSibling){a=a.nextSibling;break}else a=a.parentNode}0<=
h&&h+1<d.length&&(a=d[h+1])}if(!a)break}return f.join("")};a.prototype.Ds=function(a){if(!this.start)return!1;var b=this.gd[0];if(a){var c=this.gd,d=0,f=c.length;if(!E(this.start,a)||!E(this.end,a))return!1;for(;d<f&&!E(b,a);)b=c[d++]}a=this.ud(!1,!1,!0);return this.ud(b,this.end,!0).length-a.length};a.prototype.Fi=function(a){var b=this.Mc;if(!this.start)return!1;var c=this.ud(),d=this.gd[0];if(a){var f=this.gd,e=0,h=f.length;if(!E(this.start,a)||!E(this.end,a))return!1;for(;e<h&&!E(d,a);)d=f[e++]}a=
this.ud(!1,!1,!0);d=this.ud(d,this.end,!0);(b||H)&&G("GetInfo %o: start=%o, end=%o, off=%o, string=%o",this,this.start,this.end,d.length-a.length,c);return{start:this.start,end:this.end,Vb:d.length-a.length,lm:c}};a.prototype.Fd=function(a){var b=this.Mc;(H||b)&&G("TextSelect.setAdjust %o for %o",a,this);a?(this.Eb=a,W(this.Ad,/\b(fdjtadjuststart|fdjtadjustend)\b/,"fdjtadjust"+a)):(this.Eb=!1,M(this.Ad,/\b(fdjtadjuststart|fdjtadjustend)\b/))};a.prototype.clear=function(){var a=this.uf,b=this.Nl,c=
this.zm;if(b){for(var d=b.length-1;0<=d;){var f=b[d],e=c[d];d--;e.parentNode.replaceChild(f,e)}d=0;for(b=a.length;d<b;)c=a[d++],delete V[c.id],delete C[c.id];if(this.Yg)for(a=this.Yg,this.Yg=!1,Array.isArray(a)||(a=[a]),d=0,b=a.length;d<b;)a[d++]();delete C[this.prefix];delete this.zm;delete this.Nl;delete this.uf;delete this.Ad;delete this.gd;delete this.uf;delete this.start;delete this.end}};a.wA=b;a.S=b;a.SE=f;a.fD=F;a.trace=function(a,b){if("undefined"===typeof a)return H;H="number"===typeof a?
a:a?1:0;b&&g.D.trace(b)};return a}();g.HF=g.ky=function(a){var q="fdjtDOM fdjtUI fdjtTime fdjtString fdjtState fdjtLog fdjtHash fdjtAjax fdjtAsync fdjtInit fdjtDialog fdjtTemplate fdjtID fdjtRef fdjtTapHold fdjtSelecting fdjtTextIndex fdjtRefDB TextIndex RefDB CodexLayout pageShow".split(" ");a||(a=window);if(a){for(var k=0,m=q.length;k<m;){var e=q[k++],v=0===e.search("fdjt")?e.slice(4):e;g[v]&&!a[e]&&(g.t("%s = fdjt.%s",e,v),a[e]=g[v])}return m}g.t("Nowhere to put globals")};var zb=function(){function a(a,c){if(0===arguments.length)return this;c||(c={});c.wa=c.wa?c.wa.concat(["terms","hooks","genls","specls","allgenls"]):["terms","hooks","genls","specls","allgenls"];var e=c.language,h=l.call(this,a,c);if(e&&h.language!==e)throw{error:"language mismatch"};if(c.language&&h.language&&c.language!==h.language)throw{error:"language mismatch"};h.language=c.language?c.language:"EN";h.Qe={};h.$h=[];h.Ec=[];h.eh={};h.Uv=!0;h.sv=!1;h.es=!1;h.kr=[];h.cw={};h.ir=[];h.ln=new y;h.Wt=
{};h.Qr={};return h}function q(a,c,k){if(0===arguments.length)return this;var l=!1,d="*"===a[0]&&a.search(/[^*]/),m=!1,q=this,q=!1;"~"===a[0]?(l=!0,a=a.slice(1)):d&&(a=a.slice(d),c.eh[a]||(d>c.eh[a]&&(c.eh[a]=d),m=!0));var y=a.indexOf("@");if(0===y||1===y&&":"===a[0])q=!0;else if(2<y&&"\\"!==a[y-1]){var v=a.slice(y+1);v!==c.name&&0>c.Sa.indexOf(v)&&t("Reference %s in %s is being handled by %s",a,v,c);a=a.slice(0,y)}q||(0===a.search(w)?(q=a.indexOf("$"),k=a.slice(0,q).toUpperCase(),a=a.slice(q+1)):
k=k?k.toUpperCase():c.language||"EN");a=h(a);y=k===c.language?a:k+"$"+a;q=A.call(this,y,c);q===this&&(q.ta||(q.ta=y),q.add("dterms",y),c.Qe.hasOwnProperty(y)||(c.Qe[y]=q,c.$h.push(y)),q.Ob=g.Set(),k&&q.add(k,a),q.ja=e());l&&(q.Ch=!0);d&&(q.Ec=d);d&&m&&c.Ec.push(q);k&&k!==c.language&&(q.language=k);return q}function k(a,c,e){for(e=a.indexOf(c,e||0);0<e&&"\\"===a[e-1];)e=a.indexOf(c,e+1);return e}var m=g.String,e=g.Aa,v=g.t,l=g.tb,A=g.Rc,t=v.warn,y=l.Jq,w=/^(([A-Za-z]{2,3}\$)|([A-Za-z]{2,3}_[A-Za-z]{2,3}\$))/;
a.prototype=new l;a.prototype.language=a.prototype.Qe=a.prototype.$h=a.prototype.Ec=a.prototype.eh=a.prototype.Uv=a.prototype.sv=a.prototype.es=a.prototype.kr=a.prototype.cw=a.prototype.ir=a.prototype.ln=a.prototype.Wt=a.prototype.Qr=!1;a.prototype.toString=function(){return"Knodule("+this.name+")"};var h=m.ov;q.prototype=new l.Rc;q.prototype.Qe=!1;a.ie=a.prototype.ie=q;a.oa=q;a.Hq=q;a.prototype.oa=a.prototype.Hq=function(a,c){return a instanceof q?a:new q(a,this,c)};a.prototype.qa=function(a,c){var e=
this.Ka,k=this.Sa;a=h(a);if(this.language!==c&&c)a=c.toUpperCase()+"$"+a;else return e.hasOwnProperty(a)&&e[a]||k.hasOwnProperty(a)&&k[a]||!1;return this.Qe[c+"$"+a]||!1};q.prototype.add=function(a,c){var e=this.m.ln;if(A.prototype.add.call(this,a,c)&&"genls"===a){this.Ob.push(c);for(var h=this.Ob=l.To(this.Ob,c.Ob),d=0,k=h.length;d<k;)e.add(h[d++],this);if(d=e.get(this))for(var k=0,m=d.length;k<m;){var q=d[k++];q.Ob=l.To(q.Ob,this.Ob);for(var t=0,w=h.length;t<w;)e.add(h[t++],q)}return!0}return!1};
q.prototype.wk=function(a,c){var e;if("string"===typeof a&&0===a.search(w)){var h=a.indexOf("$");e=a.slice(0,h).toUpperCase();h=a.slice(h+1);e===this.m.language?c?this.add(c,h):(this.add(e,h),this.add("terms",h)):c?this.add(c,e+"$"+h):(this.add(e,h),this.add("terms",a))}else e?(e=e.toUpperCase(),e===this.m.language?c?this.add(c,a):this.add("terms",a):c?this.add(c,e+"$"+a):this.add("terms",e+"$"+a)):c?this.add(c,a):(this.add(this.m.language,a),this.add("terms",a))};q.prototype.xv=function(){var b;
if(this.ic)return this.ic;if(this.Pa)return this.Pa;if(this.o)return this.o;b||(b=a.current||!1);return b===this.m?this.d:this.m.Ia?this.d:this.Ha?this.d+"@"+this.Ha:this.d+"@"+this.m.name};q.prototype.jq=function(){var a="",c=this[this.m.language||"EN"],e=0;"string"===typeof c&&(c=[c]);for(var h=0;h<c.length;)a=a+(0<e?"|":"")+c[h++],e++;c=this.jz;"string"===typeof c&&(c=[c]);if(c&&c.length)for(h=0;h<c.length;)a=a+(0<e?"|^":"^")+c[h++].ta,e++;c=this.rE;"string"===typeof c&&(c=[c]);if(c&&c.length)for(h=
0;h<c.length;)a=a+(0<e?"|_":"_")+c[h++].ta,e++;return a};var c=m.Ru;a.prototype.Ns=function(a,c){var e=!1,h=!1,d=!1;0<=a.indexOf("\\")&&(a=m.Pv(a));if(!(0===a.length||0>a.search(/[^\n\t ]/g)))switch(a[0]){case "^":"~"===a[1]?c.add("sometimes",this.oa(a.slice(2))):"*"===a[2]?c.add("commonly",this.oa(a.slice(2))):(e=k(a,"("),0<e?(d=k(a,")",e),0>d?v.warn("Invalid Knodule clause '%s' for %o (%s)",a,c,c.ta):(h=this.oa(a.slice(1,e)),e=this.oa(a.slice(e+1,d)),e.add(h.ta,c),c.add("genls",h))):c.add("genls",
this.oa(a.slice(1))));break;case "_":e=this.oa(a.slice(1));c.add("examples",e);e.add("genls",c);break;case "-":c.add("never",this.oa(a.slice(1)));break;case "&":d=a.slice("-"===a[1]?2:1);h=this.oa(d);"-"===a[1]?c.add("antiassocs",h):c.add("assocs",h);break;case "@":"#"===a[1]?c.add("tags",a.slice(2)):c.add("uri",a.slice(1));break;case "=":"@"===a[1]?c.ic=a.slice(1):"*"===a[1]?c.add("equiv",this.oa(a.slice(2))):"~"===a[1]?c.add("kinda",this.oa(a.slice(2))):"="===a[1]?c.add("identical",this.oa(a.slice(1))):
(h=a.slice(1),e=c.m,e.Qe.hasOwnProperty(h)||(c.add("dterms",h),e.$h.push(h),e.Qe[h]=c));break;case "+":c.be="*"===a[1]?a.slice(2):"~"===a[1]?a.slice(2):a.slice(1);c.wk(c.be,"glosses");break;case "%":h=this.oa(a.slice(1));if(c.$e===h)break;else e=c.$e,v.warn("Inconsistent mirrors for %s: +%s and -%s",c,h,e),e.$e=!1;h.$e&&(v.warn("Inconsistent mirrors for %s: +%s and -%s",h,c,h.$e),e.$e=!1);c.$e=h;h.$e=c;break;case ".":e=k(a,"=");if(!e)throw{name:"InvalidClause",mt:a};h=this.oa(a.slice(1,e));e=this.oa(a.slice(e+
1));c.add(h.ta,e);e.add("genls",h);break;case "~":h=a.slice(1);c.wk(h,"hooks");break;case ":":d=k(a,"=");if(0<d){h=a.slice(1,d);d=(e="+"===a[d+1])?a.slice(d+2):a.slice(d+1);if("\\"===d[0])d=d.slice(1);else if(/\d/.exec(d[0])){var l=parseFloat(d);"number"!==typeof l||!l&&0!==l||(d=l)}e?c.add(h,d):c.rv(h,d)}c.add("flags",a.slice(1));break;default:e=k(a,"="),0<e?(h=this.oa(a.slice(0,e)),e=this.oa(a.slice(e+1)),c.add(h.ta,e),e.add("genls",h)):c.wk(a)}};a.prototype.Sf=function(a){var f=c(a,/[|]/g),e;a:{e=
h(f[0]);var k=this.qa(e);if(k)e=k;else{e=1;for(var d=f.length;e<d;)if(k=f[e++],"="===k[0]&&(k=this.qa(h(k.slice(1))))){e=k;break a}e=this.oa(f[0])}}2<this.vm&&v("Processing subject entry %s %o %o",a,e,f);for(a=1;a<f.length;)this.Ns(f[a++],e);2<this.vm&&v("Processed subject entry %o",e);return e};a.prototype.Ve=function(b){b=b.trim();if(0===b.length)return!1;var c=b.search(/[^*]/);0<c&&(b=b.slice(c));var e=m.bo(b,"|"),h=m.bo(b,"@");if(0<h&&(0>e||h<e)){var d=b.slice(0,h),h=0>e?b.slice(h+1):b.slice(h+
1,e),h=new a(h);h instanceof a?b=0>e?h.oa(d):h.Ve(d+b.slice(e)):(t("Resolved %s to non-knodule %o",b,h),b=h.G(d))}else b=this.Sf(b);if(c){var e=b.d,d=this.Ec,h=this.eh,k=h[e];k?c>k&&(h[e]=c,b.Ec=c):(d.push(e),h[e]=c,b.Ec=c)}return b};a.prototype.nl=function(a){if("string"===typeof a)return a=a.replace(/^\s*#.*$/g,"").replace(/^\s*\/\/.*$/g,""),a=c(a,/(?:\s*[\n;]\s*)+/g),1<this.vm&&v("Handling %d entries",a.length),this.nl(a);if(a instanceof Array){for(var f=[],e=0;e<a.length;){var h=a[e++],d=h.length;
";"===h[d-1]&&(h=h.slice(0,d-1));f[e]=this.Ve(h)}return f}throw{name:"TypeError",mt:a};};a.prototype.mi=a.prototype.Sf;a.mi=function(b,c){c||(c=a.$);return c.mi(b)};a.G=l.G;a.prototype.vm=0;return a}(),Ab=zb.oa;Ab!==Ab&&g.t("Weird stuff");(function(){function a(e,k,h){if(0===arguments.length)return this;var c=[],b=this.Kj=[];k||(k=a.ny||!1);h||(h=this.Dh||{tags:1});e instanceof Array||(e=[e]);for(var f in h)h.hasOwnProperty(f)&&b.push(f);f=0;for(var l=e.length;f<l;){var r=e[f++];"string"===typeof r?c.push({Uk:"strings",values:[r]}):r.m&&r.m.Kj?c.push({Uk:r.m.Kj,values:[r]}):c.push({Uk:b,values:[r]})}this.ba=e;return m.call(this,k,c,h)}var q=g.tb,k=g.Rc,m=q.Qc,e=zb.oa,v=g.t.warn,l=g.Set,A={"~%":1,"~%*":1,"%":4,"%*":4,"^%":2,"^%*":2,
"*%":8,"*%*":6,"**%":12,"**%*":8};zb.Yh=function(a,l,h,c,b,f){b||(b="tags");"string"===typeof l?l=[l]:l instanceof k?l=[l]:l.length?l instanceof Array||(l=[].concat(l)):l=[l];"string"===typeof a?a=[a]:a instanceof k?a=[a]:a instanceof Array||(a=a.length?[].concat(a):[a]);for(var m=Array(l.length),r=0,d=l.length,x,t,J;r<d;){x=l[r];t=b;J=!1;if("string"===typeof x){if("*"===x[0]){var G=x.search(/[^*]/);t=x.slice(0,G)+b;x=x.slice(G)}else"~"===x[0]&&(t="~"+b,x=x.slice(1),J=!0);0<x.indexOf("|")?c?x=c.Ve(x):
zb.current&&(x=zb.current.Ve(x)):J&&c?x=c.qa(x)||x:J||c&&(x=c.G(x))}m[r]=t;l[r]=x;r++}G=0;for(c=a.length;G<c;)r=a[G],(J=h&&"string"===typeof r?h.G(r):q.resolve(r,!1,zb,!0))?a[G++]=J:(v("Couldn't resolve %s to a reference",r),G++);for(r=0;r<d;){x=l[r];t=m[r];f&&(h=t.replace(b,"%"),(h=A[h])||(h=3),f.Rg(x,c*h));for(G=0;G<c;)if(J=a[G++])J.add(t,x,!0),J.ai?J.ai.push(x):J.ai=[x],x instanceof e&&(J.add("knodes",x),J.add(t+"*",x,!0)),x instanceof e&&x.Ob&&J.add(t+"*",x.Ob,!0);r++}};zb.Ur=function(a,e,h){a instanceof
Array||(a=[a]);h=h.ba||(h.ba=[]);var c=e.search(/[^*~]+/),b=e.search(/[*]*$/),f=c&&e.slice(0,c);b?e.slice(c,b):c&&e.slice(c);e=0;for(b=a.length;e<b;){var k=a[e++];k&&(k="string"===typeof k?k:k.o||k.K(),c?h.push(f+k):h.push(k))}};zb.$s=function(a,m,h,c,b){c=[];var f=[],t,r=a.aq||a.m.aq||zb.aq||zb.current;h instanceof Array||(h=[h]);for(var d=0,x=h.length;d<x;){var A=h[d++];if(A)if(A instanceof k)c.push(A);else if("object"===typeof A&&A.d)t=a.resolve(A,r,zb,!0)||A.d,c.push(t);else if("string"===typeof A){var J=
A.search(/[^*~]/),G=A,D=m;t=A;0<J&&(D=A.slice(0,J)+m,G=A.slice(J));A=G.indexOf("|");t=0<A?G.slice(0,A):G;t=q.resolve(t,r,zb,!0)||r&&r.G(t)||t;0<A&&(t instanceof e?t.m.Ve(G):v("No knodule for %s",G));f.push(t);t instanceof e&&a.add("knodes",t,b);D!==m?a.add(D,t,b):c.push(t)}else c.push(A)}a["all"+m]=l(f.concat(c));if(c.length)return c};a.prototype=new m;var t=g.Map;a.prototype.cl=function(){var a;if(this.Mn)return this.Mn;if(this.Xn()){a||(a=this.hb);for(var e=this.mf,h=this.Kj,c=h.length,b=this.Mn=
[],f=this.fg=new t,k=this.vh=new t,l=this.fr||this.Dh,d=0,m=0,q=0,v=a.length;q<v;)for(var A=a[q++],D={},E=e&&e[A.d]||1,P=0;P<c;){var O=h[P];if(A.hasOwnProperty(O)){var L=A[O],O=l[O]||1;L?L instanceof Array||(L=[L]):L=[];for(var z=0,W=L.length;z<W;){var M=L[z++];f.get(M)||b.push(M);if(!D[M]){var Q=k.Rg(M,1);Q>m&&(m=Q);D[M]=!0}M=f.Rg(M,O*E);M>d&&(d=M)}}P++}return b}return!1};a.prototype.ud=function(){for(var a=g.Set(this.ba),e="",h=0,c=a.length;h<c;){0<h&&(e+=";");var b=a[h++],e="string"===typeof b?
e+b:e+(b.o||b.K())}return e};zb.Mm=a})();(function(){function a(a,k,m,h,c){function b(){if(a instanceof A){var b=a.ta;f.innerHTML=b;d.setAttribute("data-key",b);d.setAttribute("data-dterm",a);if(c||h){var k=a[c];k&&"string"===typeof k&&(k=[k]);if(k)for(var l=0;l<k.length;){var m=k[l++];if(m!==b){var r=e("span.variation",m,"=");r.setAttribute("data-key",m);q.appendChild(r)}}a.ea&&(d.title=a.ea)}d.setAttribute("data-key",a.ta)}else a.name&&(d.setAttribute("data-key",a.name),d.innerHTML=a.name);h&&h.Ee(d)}!0===h?("string"!==typeof c&&(c=zb.language||
"EN"),h=!1):h&&"string"!==typeof c&&(c=zb.language||"EN");k="string"===typeof a&&a||a.o||a.K&&a.K()||a.toString();m=m&&e({tagName:"INPUT",type:"CHECKBOX",name:m,value:k});var f="string"===typeof a&&a||e("span.term",k),q=a instanceof A&&e("span.variations"),r="string"===typeof a,d=e(r?"span.rawterm":"span.dterm",m," ",q,r?e("span.termtext","\u201c"+f+"\u201d"):f);if(c||h)l(d,"completion"),d.setAttribute("data-value",k);"string"===typeof a?(d.setAttribute("data-key",a),h&&h.Ee(d)):a.ja?b():a.fe(b);
return d}function q(a,e){var k=v.kl("string"===typeof a?a:a.src),k=e.nl(k);(e.yh||zb.yh)&&m("Parsed %d entries from %s",k.length,a.src)}var k=g.String,m=g.t,e=g.b,v=g.Od,l=e.h,A=zb.oa;zb.oa.prototype.Kd=zb.oa.prototype.Ld=function(){var a=e(this.Ec?"span.dterm.prime":this.Ch?"span.dterm.weak":"span.dterm",this.ta);this.be&&(a.title=k.CE(this.be));a.ta=this.ta;return a};zb.V=a;zb.ow=a;zb.pw=a;zb.jB=a;zb.wl=function(a){var k;if("string"===typeof a)return k=e("OPTION",a),k.setAttribute("value",a),k;
k=a.ta;a="string"===typeof a&&a||a.o||a.K&&a.K()||a.toString();var l=document.createDocumentFragment();k=e("option",k);k.setAttribute("value",a);l.appendChild(k);return l};zb.V.hk=function(a){a||(a=new zb(document.location.href));var k=new Date,l=e.jl("{http://knodules.org/}knodule"),h=0,c,b;l&&l.length||(l=e.jl("knodule"));l&&l.length||(l=e.jl("*.knodule"));h=0;for(c=l.length;h<c;)q(l[h++],a);l=e.dc("knodef");for(h=0;h<l.length;)a.Ve(l[h++].content);l=document.getElementsByTagName("META");h=0;for(c=
l.length;h<c;)b=l[h++],"KNODEF"===b.name&&a.Ve(b.content);l=document.getElementsByTagName("SCRIPT");h=0;for(c=l.length;h<c;){b=l[h++];var f=b.getAttribute("language"),v=b.type;if("text/knodule"===v||"application/knodule"===v||f&&("knodule"===f||"KNODULE"===f||"knowlet"===f||"KNOWLET"===f))b.src?q(b,a):b.text&&(b=b.text,f=b.search("<!\\[CDATA\\["),0<=f&&(v=b.search("]]\x3e"),b=b.slice(f+9,v)),b=a.nl(b),(a.yh||zb.yh)&&m("Parsed %d inline knodule entries",b.length))}l=new Date;(a.yh||zb.yh)&&m("Processed knodules in %fs",
(l.getTime()-k.getTime())/1E3)}})();g.Mb=function(){function a(a,b,c){var d=b.length;c=c||0;for(var f=document.createDocumentFragment();c<d;){var e=b[c++];e?3===e.nodeType&&0===e.nodeValue.length||f.appendChild(e):c++}a.appendChild(f)}function q(a){if("string"===typeof a){var b;if(0===a.length)return!0;b=a.search($a);if(0>b)return!0;if("&"!==a[b])return!1;a=a.replace(/&nbsp;/g,"\u00a0");b=a.search($a);return 0>b}return!1}function k(a){var b=p(a);return"none"===b.display||"static"!==b.position&&""!==b.position?!1:a}function m(a){if(a){if("string"===
typeof a)return"."===a[0]&&0>a.slice(1).search(/\.|#|\[/)?new RegExp("\\b"+a.slice(1)+"\\b"):new L.Ra(a);if(a instanceof RegExp||a.match)return a;if(a.length){for(var b=[],c=[],d=[],f=[],e=0,h=a.length;e<h;){var k=a[e++];"string"!==typeof k?b.push(k):"."===k[0]?0<=k.slice(1).search(/\.|#|\[/)?f.push(k):d.push(k.slice(1)):"#"===k[0]||"["===k[0]?f.push(k):d.push(k)}d.length&&c.push(new RegExp("\\b("+d.join("|")+")\\b"));f.length&&c.push(new L.Ra(f.join(", ")));return c.concat(b)}}return a}function e(a,
b){var c;if(!b)return!0;c="string"===typeof b?[b]:b instanceof Array?b:[b];for(var d=0,f=c.length;d<f;){var e=c[d++];if(a===b)return!0;if(e instanceof RegExp){if(a.className&&a.className.search&&0<=a.className.search(e))return!0}else if("string"===typeof e){if(a.className&&a.className.search&&("."===e[0]&&(e=e.slice(1)),0<=a.className.search(new RegExp("\\b"+e+"\\b"))))return!0}else if(e.match&&e.match(a))return!0}return!1}function v(a,b,c,d){"string"===typeof a&&(a=V(a));if(a&&0!==a.length)if(a.nodeType){if(1===
a.nodeType&&!aa(a,"_pagescaled")&&!a.getAttribute("style")){var f=a.getAttribute("data-pagescale")||a.getAttribute("pagescale")||Da(a,"xdatapagescale"),e=1,h=1,k=a.style,n=p(a);if(!k[L.transform]||"none"===k[L.transform]||""===k[L.transform]){f&&(h=f.split(/ |,|x/g),2===h.length?(e=l(h[0]),h=l(h[1])):h=e=l(h[0]));b*=e;c*=h;var f=a.offsetWidth,m=a.offsetHeight,e=b/f,h=c/m;"IMG"===a.tagName?(k.maxHeight=k.minHeight="inherit",k.maxWidth=k.minWidth="inherit",f=a.offsetWidth,m=a.offsetHeight,e=b/f,h=c/
m,e<h?(k.width=Math.round(f*e)+"px",k.height="auto"):(k.height=Math.round(m*h)+"px",k.width="auto")):d?(d="inline"===n.display?L("span.codexscalewrapper"):L("div.codexscalewrapper"),"inline"===n.display&&(k.display="inline-block",d.display="inline-block"),d.style.width=b+"px",d.style.height=c+"px",a.style[L.transform]="scale("+e+","+h+")",a.style[L.transformOrigin]="left"===n.textAlign?"top left":"right"===n.textAlign?"top right":"top center",a.parentNode.replaceChild(d,a)):(ib(a),"inline"===n.display&&
(k.display="inline-block"),k.width=b+"px",k.height=c+"px");ca(a,"_pagescaled")}}}else if(a.length)for(k=0,n=a.length;k<n;)v(a[k++],b,c,d||!1)}function l(a){return 0<a.search(/%$/g)?parseFloat(a.slice(0,a.length-1))/100:parseFloat(a)}function A(a,b){var c;c||(c=document.body);for(var d=a;d;){if(d===b)return!0;if(d===c)return!1;if(d.previousSibling)if(3===d.previousSibling.nodeType&&q(d.previousSibling.nodeValue))d=d.previousSibling;else if(1!==d.previousSibling.nodeType||k(d.previousSibling))break;
else d=d.previousSibling;else d=d.parentNode}return 1===d.nodeType&&d.className&&d.className.search&&0<=d.className.search(/\bcodexpage\b/g)}function t(a,b){return a?0>a.search(Ra)?a+" "+b:a.replace(Ra,"")+" "+b:b}function y(a,b,c,d){if(a===document.body||"CODEXCONTENT"===a.id||aa(a,"codexroot")||aa(a,"codexpage"))return!1;if(H(a,b))return a;if(a.className&&a.className.search&&0<=a.className.search(/\bcodexwraptext\b/))return y(a.parentNode,b,c,d);var f=a.id,e=a.getAttribute("data-baseid");f||(f=
e);var h=c[f],k=h&&h.length&&h[h.length-1];if(!f)f=a.id="CODEXTMPID"+Pa++;else if(h)for(var n=h.length-1;0<=n;){if(H(h[n],b))return h[n];n--}n=a.cloneNode(!1);d=y(a.parentNode,b,c,d);var p=a.className&&a.className.search&&a.className||"",l=k&&k.className&&k.className.search&&k.className;e&&(n.fa=e);h||(a.className=t(p,"codexdupstart"),w(a,!0),e=n.style,!n.hasAttribute("data-savedstyle")&&n.setAttribute("data-savedstyle",e.cssText),e.textIndent="0px",e.paddingTop="0px",e.borderTopWidth="0px",e.marginTop=
"0px");n.className=t(p,"codexdupend");0<=p.search(/\bcodexdupend\b/g)&&(a.className=t(p,"codexdup"),w(a,!0));l&&0<=l.search(/\bcodexdupend\b/g)&&(k.className=l.replace(/\bcodexdupend\b/g,"codexdup"),w(k,!0));f&&(n.fa=f,n.setAttribute("data-baseid",f),n.removeAttribute("id"));h?h.push(n):c[f]=[n];d?d.appendChild(n):b.appendChild(n);return n}function w(a,b){var c=a.style;b&&!a.hasAttribute("data-savedstyle")&&a.setAttribute("data-savedstyle",c.cssText);c.paddingBottom="0px";c.borderBottomWidth="0px";
c.marginBottom="0px"}function h(a){for(a=a.firstChild;a;){if(3===a.nodeType&&!q(a.nodeValue)||1===a.nodeType&&k(a))return a;a=a.nextSibling}return!1}function c(a,b,c){var d,f=!1;if(H(a,b))return a;if(1===a.nodeType)(d=a.className)&&"string"!==typeof d&&(f=!0);else if(3===a.nodeType)if(0<=a.nodeValue.search(/\w/g)){var e=L("span.codexwraptext");a.parentNode&&a.parentNode.replaceChild(e,a);e.appendChild(a);d="codexwraptext";a=e}else a=a.cloneNode(!0);f||1===a.nodeType&&aa(a,"codextextsplit")||!a.parentNode||
a.id&&c[a.id]||(a.id||(a.id="CODEXTMPID"+Pa++),f=document.createTextNode(""),c[a.id]=f,a.className=d?d+" codexrelocated":"codexrelocated",a.parentNode.replaceChild(f,a));b.appendChild(a);return a}function b(a,b,d){a=c(a,b,d);if(b){for(var f=[],e=a.nextSibling;e&&!(1===e.nodeType&&"string"===typeof e.className&&0<=e.className.search(/\bcodexblock\b/g));)f.push(e),e=e.nextSibling;b.appendChild(a);if(f.length)for(b=0,e=f.length;b<e;)c(f[b++],a,d)}return a}function f(a,b){if(b||!aa(a,"codexpagetop"))if(!a.namespaceURI||
a.namespaceURI===Xa){var c=a.getAttribute("style")||"",d=c+(c?"; ":"")+"margin-top: 0px !important;";a.hasAttribute("data-savedstyle")||a.setAttribute("data-savedstyle",c);a.setAttribute("style",d);ca(a,"codexpagetop");if(a.childNodes)for(var c=a.childNodes,d=0,e=c.length;d<e;){var h=c[d++];if(1===h.nodeType){var k=p(h);if(!("static"!==k.position&&""!==k.position||h.Vc&&h.Vc.search&&0<=h.className.search(/\bfdjtskiptext\b/g)))return f(h)}else if(3===h.nodeType&&!q(h.nodeValue))break}}}function F(a,
c,d,e){if(H(a,c))1!==a.nodeType||ba(c,!0,!1,a)||f(a);else{for(var k=a,n=k.parentNode;n&&n!==document.body&&"CODEXCONTENT"!==n.id&&!aa(n,"codexroot")&&!aa(n,"codexpage")&&k===h(n);)k=n,n=k.parentNode;!n||n===document.body||"CODEXCONTENT"===n.id||aa(n,"codexroot")||aa(n,"codexpage")?k===a?a=k=b(a,c,e):k=b(k,c,e):(d=y(n,c,d,e),k===a?a=k=b(a,d||c,e):k=b(k,d||c,e));a&&1===a.nodeType&&!ba(c,!0,!1,k)&&f(k)}return a}function r(c){function d(){}function h(a){Fa&&(3<Fa||lb&&lb.match(a))&&sa("Moving node %o to page %o",
a,fa);return F(a,fa,bb,ub)}function n(a){for(var b=0,c=a.length;b<c;){var d=a[b++],f=d.style.height;if(!(f&&""!==f&&"inherit"!==f&&"initial"!==f&&"auto"!==f||aa(d,"codexoversize"))){d.style.height="auto";d.style.display="block";f=d.scrollHeight;if(!(f<ha)){var e=p(d),e=ha+ea(e.paddingTop)+ea(e.paddingBottom);f>e&&ca(d,"codexoversize")}d.style.height="";d.style.display="";(f=eb(d,".codexraggedsplit"))&&f.appendChild(L("span.codexdupleading.fdjtskiptext","leading"));d=ta(d,".codexblock");f=0;for(e=
d.length;f<e;){var h=d[f++];ia(h,"codexblock");ia(h,"codexterminal")}}}}function l(a,b,c,d,f,e){if(1===a.nodeType){var h=a.className;if("string"===typeof h){if(0<=h.search(/\bcodexdupstart\b/))f[a.id]||(f[a.id]=a,d.push(a.id),b.push(a.id));else if(0<=h.search(/\b(codexdup|codexdupend)\b/)){if(h=a.getAttribute("data-baseid"))a.fa=h,c[h]?c[h].push(a):c[h]=[a]}else a.id&&0<=h.search(/\bcodexrestore\b/)&&!e[a.id]&&(b.push(a.id),e[a.id]=a);if(a.childNodes&&a.childNodes.length){a=a.childNodes;for(var h=
0,k=a.length;h<k;){var n=a[h++];1===n.nodeType&&l(n,b,c,d,f,e)}}}}}function B(a){return new Promise(function(b,c){try{var d=document.createElement("div"),e=[],h={},k=[],n={},p={},m=[],B={},r=[];Fa&&z("Setting layout to %d characters of HTML",a.length);d.innerHTML=a;var q=d.childNodes,x=[];Fa&&z("Gathering layout info");for(var d=0,H=q.length;d<H;){var Ja=q[d++];x.push(Ja);1===Ja.nodeType&&(Ja.className&&Ja.className.search&&0<=Ja.className.search(/\bcurpage\b/)&&ia(Ja,"curpage"),l(Ja,e,B,k,n,p))}n=
{};Fa&&z("Getting originals by ID");d=0;for(H=e.length;d<H;){var t=e[d++];n[t]=document.getElementById(t)}q=t=!1;Fa&&z("Moving body and container out of document");Ta&&Ta.parentNode&&(t=document.createTextNode(""),Ta.parentNode.replaceChild(t,Ta));La.parentNode&&(q=document.createTextNode(""),La.parentNode.replaceChild(q,La));Fa&&z("Moving originals into layout");d=0;for(H=e.length;d<H;){var L=e[d++],E=n[L],ca=p[L];if(ca&&E){var M=ca.className,I=ca.getAttribute("style"),D=E.getAttribute("style"),
y=E.className,R=document.createTextNode(""),M=M.replace(/\bcodexrestore\b/,"");xb(E,R);ub[L]=R;xb(ca,E);M&&M!==y&&(y&&"string"===typeof y&&E.setAttribute("data-savedclass",y),E.className=M);I!==D&&(D&&E.setAttribute("data-savedstyle",D),E.setAttribute("style",I));M.search&&0<=M.search(/\bcodexpagetop\b/)&&f(E,!0)}else E&&(h[L]=E,E.id&&E.removeAttribute("id"))}Fa&&z("Gathering lostids");for(var C=Y.Xf={},w=C.Oh=[],d=0,H=k.length;d<H;){var S=k[d++],O=n[S];O&&(C[S]=O,w.push(S),O.id&&O.removeAttribute("id"))}Fa&&
z("Moving nodes around");for(var Q=La.childNodes,d=0,H=Q.length;d<H;)m.push(Q[d++]);for(d=0;d<H;)La.removeChild(m[d++]);d=0;for(H=x.length;d<H;){var vb=x[d++],fa=ta(vb,"[pagescale],[data-pagescale]");fa.length&&r.push({page:vb,Jv:fa});La.appendChild(vb)}Y.qb=x;bb=Y.Jg=B;h.Oh=e;Y.Sl=h;Y.page=x[0];Y.gf=parseInt(Y.page.getAttribute("data-pagenum"),10);Fa&&z("Moving origin/container back to document");q&&q.parentNode.replaceChild(La,q);t&&t.parentNode.replaceChild(Ta,t);for(var eb=ta(La,".codexsplitstart"),
e=0,A=eb.length;e<A;){var Da=eb[e++],G=Da.id,P=Da.getAttribute("data-textsplit");G&&P&&(pb[G]=document.createTextNode(P),Da.removeAttribute("data-textsplit"))}d=0;for(H=r.length;d<H;){var J=r[d++],Ia=J.page;Ia.style.opacity=0;Ia.style.display="block";v(J.Jv,Sa,ha);Ia.style.display="";Ia.style.opacity=""}}catch(W){c&&c(W);return}Fa&&z("Done restoring layout");return b?b(Y):Y})}function x(a,b){G(b.bd,a.id).then(function(b){a.innerHTML=b.content})}function t(a,b){if(1===a.nodeType){if(a.id){var c=a.className;
if(!(c&&"string"===typeof c&&0<=c.search(/\bcodexdup/g))&&a.id&&0!==a.id.search("CODEXTMP")){c=document.createElement(a.tagName);a.id&&(c.id=a.id);c.className="string"===typeof a.className?a.className+" codexrestore":"codexrestore";a.getAttribute("style")&&c.setAttribute("style",a.getAttribute("style"));a.parentNode.replaceChild(c,a);if(b&&b&&1===a.nodeType){var c=a.childNodes,d=[];if(c){for(var f=0,e=c.length;f<e;){var h=c[f++];1===h.nodeType&&b.match(h)&&d.push(h)}f=0;for(e=d.length;f<e;)a.removeChild(d[f++])}}return}}c=
a.childNodes;d=[];f=0;for(e=c.length;f<e;)h=c[f++],1===h.nodeType&&(b&&b.match(h)?d.push(h):t(h,b));f=0;for(e=d.length;f<e;)a.removeChild(d[f++])}}function E(a,b,c){function d(){Y.Hb=M();b&&b(Y);if(Y.ig&&Y.ig.length)for(var a=Y.ig,c=0,f=a.length;c<f;)a[c++](Y);return Y}var f=!1;if(a){if(a.hasOwnProperty("npages"))f=Y.Aj(a);else if(a.hasOwnProperty("layout"))f=Y.Aj(a.j);else if(0<=a.indexOf("<"))f=Y.Aj(a);else{a=Q.Da(a);Y&&Y.Aj(a);return}f.then(d).catch(c)}else z.warn("Falsy arg %s to restoreLayout",
a),c(Error("Falsy arg to restoreLayout"))}function D(a){if(!(2>a.length)){for(var b=[],c=0,d=a.length,f=0;c<d;){var e=a[c++],h=R(e,".codexpage"),h=h&&parseInt(h.getAttribute("data-pagenum"),10);b.push({list:e,pj:h})}b.sort(function(a,b){return a.pj>b.pj?1:a.pj<b.pj?-1:0});c=0;for(d=b.length;c<d;)a=b[c++].list,e=O(a),f&&y(a,f),f+=e}}function y(a,b){for(var c=document.createDocumentFragment();0<b;){var d=L("LI","empty");d.setAttribute("style","visibility: hidden !important; width: 0px !important; height: 0px !important; pointer-events: none; margin: 0px !important;");
c.appendChild(d);b--}a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)}function O(a,b){b||(b=0);for(var c=a.childNodes,d=0,f=c.length;d<f;){var e=c[d++];if(1===e.nodeType)if("OL"===e.tagName||"UL"===e.tagName)break;else"LI"===e.tagName?b++:b=O(e,b)}return b}function Da(a,b){if(!a||1!==a.nodeType)return!1;b||(b=p(a));return"always"===b.pageBreakBefore}function J(a){if(Da(a))return!0;if(a.childNodes&&a.childNodes.length){a=a.childNodes;for(var b=0,c=a.length;b<c;){var d=a[b];if(3===d.nodeType)if(q(d.nodeValue))b++;
else break;else{if(1===d.nodeType)return J(d);b++}}return!1}}function Ha(a,b){if(!a||1!==a.nodeType)return!1;b||(b=p(a));return"always"===b.pageBreakAfter}function za(a){if(Ha(a))return!0;if(a.childNodes&&a.childNodes.length){a=a.childNodes;for(var b=a.length-1;0<=b;){var c=a[b];if(3===c.nodeType)if(q(c.nodeValue))b--;else break;else{if(1===c.nodeType)return za(c);b--}}return!1}}function Ra(a,b){var c=S(a,b);if(!a||1!==a.nodeType)return!1;if("IMG"===a.tagName)return!0;b||(b=p(a));return"avoid"===
b.pageBreakInside||"table-row"===b.display||"block"===b.display&&a.childNodes&&a.childNodes.length&&c&&2.5*c>a.offsetHeight}function $a(a){if(!Ra(a)&&a.childNodes&&a.childNodes.length){a=a.childNodes;for(var b=0,c=a.length;b<c;){var d=a[b];if(1===d.nodeType&&(Da(d)||Ha(d)||$a(d)))return!0;b++}}return!1}function Wa(a,b){if(!a||1!==a.nodeType)return!1;b||(b=p(a));return"avoid"===b.pageBreakBefore}function ib(a){if(Wa(a))return!0;if(a.childNodes&&a.childNodes.length){a=a.childNodes;for(var b=0,c=a.length;b<
c;){var d=a[b];if(3===d.nodeType)if(q(d.nodeValue))b++;else break;else{if(1===d.nodeType)return ib(d);b++}}return!1}}function ga(a,b){if(!a||1!==a.nodeType)return!1;if(/H\d/.exec(a.tagName))return!0;b||(b=p(a));return"avoid"===b.pageBreakAfter?!0:!1}function Xa(a){if(ga(a))return!0;if(a.childNodes&&a.childNodes.length){a=a.childNodes;for(var b=a.length-1;0<=b;){var c=a[b];if(3===c.nodeType)if(q(c.nodeValue))b--;else break;else{if(1===c.nodeType)return Xa(c);b--}}return!1}}function ya(a,b){if(!a||
1!==a.nodeType)return!1;if(aa("codexsinglepage")||aa("codexfullpage")||Qa&&Qa.match(a))return!0;b||(b=p(a));return"always"===b.pageBreakBefore&&"always"===b.pageBreakAfter&&"avoid"===b.pageBreakInside}function cb(a){if(a){if("number"===typeof a)return V(pa+a);if(a.nodeType)return aa(a,"codexpage")?a:R(a,".codexpage");if("string"===typeof a)return cb(V(a));sa("Can't determine page from %o",a)}return!1}c||(c={});var Y=this;this.Xe=c;this.ig=[];var hb=this.ko=m(c.ko||!1),Qa=this.iv=m(c.iv||!1),Ka=this.eo=
m(c.eo||!1),Va=this.hs=m(c.hs||!1),pa=this.ku=c.ku||"CODEXPAGE",ha=this.height=c.eu||L.zb(),Sa=this.width=c.gu||L.sb();this.orientation=c.orientation||(Sa>ha?"landscape":"portrait");var wa=c.ju||!1,U=c.hasOwnProperty("short_page_height")&&c.em&&(1>=c.em?ha*c.em:c.em),Za=this.di="undefined"===typeof c.di?!0:c.di,Ga=c.Gf||!1;"string"===typeof Ga?Ga=L.Cp(Ga):Ga.length&&Ga.join&&(Ga=L.Cp(Ga.join(",")));this.Gf=Ga;this.Pk=c.Pk||!1;var oa=this.wj=("undefined"===typeof c.Sv?!0:c.Sv)&&("undefined"===typeof c.wj?
!0:c.wj),La=this.Z=c.Z||L("div.codexpages"),Ta=this.origin=c.origin||!1,sa=this.Yi=c.Yi||r.Yi||("undefined"!==typeof z?z:d),ab=this.gf=0,Ba=this.qb=[],bb=this.Jg={},ub=this.Mk={};this.root=!1;var pb=this.hq={},vb=this.sh={},fa=this.page=c.page,db=this.cd=!1,fb=this.tj=!1,sb=this.sj=!1,Ca=this.yc=[],tb=this.Mg=[];c.bd&&(this.bd=c.bd);this.Kc=!1;var Fa=this.Md=c.Md||r.Md||Q.Da("codexlayout.trace",!0)||0,lb=c.track||r.track||Q.Da("codexlayout.track")||!1,nb=c.debug||r.debug||Q.Da("codexlayout.debug")||
!1;lb&&(this.track=lb=L.Ra(lb),Fa||(Fa=this.Md=1));nb?(this.debug=nb=L.Ra(nb),Fa||(Fa=this.Md=1)):this.debug=!1;Fa&&ca(document.body,"debugcodexlayout");this.wp=c.wp||[];this.vn=this.Fu=0;this.Vi=!1;this.yb=c.hasOwnProperty("timeslice")?c.yb:r.yb;this.re=c.hasOwnProperty("timeskip")?c.re:r.re;var wb=this.hf=c.hf||!1;this.dn=function(c,d,f,l,m,B){function r(){var a=T[Fa],b=la[Fa],d=Z[Fa],f=d.gg||!1,e=T[Fa+1],h=Z[Fa+1],k=!1;a.id&&(Y.Vi=a.id);l&&a&&(3<l||lb&&lb.match(a))&&(sa("Considering block %o (#%d from %o); page=%o",
a,Fa,c,fa),k=!0);!a||db&&0>Ca.indexOf(db)||(db&&A(db)?Ca.length&&(Y.yc=Ca=[]):db&&f&&d.xg?0>Ca.indexOf(db)&&Ca.push(db):db&&d.Hf?0>Ca.indexOf(db)&&Ca.push(db):Ca.length&&(Y.yc=Ca=[]));a&&(a=t(a,d));if(a){var n=new Ia(a,fa),m=S(a,b),z=ea(b.paddingBottom);l&&(3<l||lb&&lb.match(a))&&sa("Layout/geom %o %j",a,n);if(n.bottom-z>ha||e&&n.height>3*m&&.9<(ha-n.bottom)/ha&&n.bottom+(new Ia(e)).height>ha&&!d.pd&&h.pd&&h.pd)if(e=ha,n.bottom-z<=ha&&(e=n.bottom-z-2*m),f)if((U?n.top>U:n.top>e-1.2*m)&&0===Ca.length&&
!d.xg)a=Q(a,d);else if(d.Mg)tb.push(a),Fa++;else if(!Za||d.Gf||d.pd||aa(a,"codexcantsplit"))(k=E(a,d,n))?a=k:Fa++;else{k&&sa("Splitting block %o @ %o",a,fa);if((k=G(a,d,b,e))&&k!==a){Y.cd=db=a;Y.tj=fb=b;Y.sj=sb=d;T[Fa]=k;la[Fa]=b=p(k);Z[Fa]=new Ja(k,b);Z[Fa].gg=f;return}n=new Ia(a,fa);n.bottom>ha&&(ca(fa,"codexoversize"),Y.yc=Ca=[],Q());Fa++;Y.yc=Ca=[]}else k&&sa("Oversize non-terminal %o, continuing",a),Fa++;else{if(d.Hf&&!A(a,fa)){if(0===Ca.length||0>Ca.indexOf(a))k&&sa("Possibly dragging %o",a),
Ca.push(a)}else Y.yc=Ca=[];Fa++}f&&(Y.cd=db=a,Y.tj=fb=b,Y.sj=sb=d)}else Fa++}function x(a,b,c,d,f,e){var k=!1;if(!(1!==b.nodeType||b.Ux||(e||(e=p(b)),"static"!==e.position&&""!==e.position||e.gs&&"none"!==e.gs))){if(Ga&&Ga.match(b)||"table-row"===e.display||"BR"!==b.tagName&&"HR"!==b.tagName&&Ra(b,e)){b.offsetWidth>Sa&&v(b,Sa,b.offsetWidth/Sa*b.offsetHeight,!0);if(0===b.offsetHeight||b.offsetHeight&&b.offsetHeight<1.5*ha){k=new Ja(b,e);ca(b,"codexblock");d.push(k);c.push(b);f.push(e);k.gg=b;h(b);
C(b,a,d);return}b.childNodes&&b.childNodes.length&&(z.warn("Allowing split of huge (%d) block %o",b.offsetHeight,b),b.style.pageBreakInside="auto",e=p(b))}var n=e.display;if("BR"!==b.tagName&&"inline"!==n&&"table-cell"!==n){ca(b,"codexblock");k=new Ja(b,e);c.push(b);f.push(e);d.push(k);if("block"===n||"table"===n||"list-item"===n||"table-row-group"===n){e=b.childNodes;for(var n=c.length,l=0,m=e.length;l<m;){var B=e[l++];1===B.nodeType&&x(a,B,c,d,f)}c.length===n&&(k.gg=b)}else k.gg=b;k.gg&&C(b,a,d);
h(b)}else if("static"===e.position&&"A"===b.tagName){k=b.childNodes;e=0;for(n=k.length;e<n;)l=k[e++],1===l.nodeType&&(m=p(l),"inline"!==m.display&&x(a,l,c,f,d,m));h(b)}}}function Ja(a,b){this.pd=Ra(a,b);this.Ai=Da(a,b);this.zi=Ha(a,b);this.xg=Wa(a,b);this.Hf=ga(a,b);this.bl=aa(a,/\bcodexfullpage\b/)||hb&&e(a,hb);this.gm=ya(a,b);this.Gf=Ga&&Ga.match(a);this.co=Ka&&e(a,Ka);this.Mg=aa(a,"codexfloat")||Va&&Va.match(a);return this}function t(a,b){return b.co||b.Mg&&b.gm?(tb.push(a),!1):b.gm?(Q(a,b),Q(),
!1):fa.childNodes.length&&(b.Ai||sb&&sb.zi||sb&&(sb.bl||sb.bl))?(Y.yc=Ca=[],Q(a,b)||a):h(a)}function E(a,b,c){var d=fa,f=!1;if(Ca.length&&A(Ca[0],fa)){if(!b.Hf&&1<(c.bottom-ha)/ha&&.2>(c.bottom-ha)/ha)return ca(fa,"codexoversize"),Y.yc=Ca=[],Q(),!1;Y.yc=Ca=[];f=Q(a,b);if(fa===d)return!1;a!==f&&(b=new Ja(f));return!Za||b.Gf||b.pd||aa(f,"codexcantsplit")?!1:f}f=Q(a,b);a!==f&&(b=new Ja(f));if(fa===d)return!1;a!==f&&(b=new Ja(f));return!Za||b.Gf||b.pd||aa(f,"codexcantsplit")?!1:f}function I(a){for(a=
a.nextSibling;a;)if(3!==a.nodeType||q(a.nodeValue)){if(1===a.nodeType&&k(a))return!1;a=a.nextSibling}else return!1;return!0}function y(a){for(a=a.previousSibling;a;)if(3!==a.nodeType&&q(a.nodeValue)){if(1===a.nodeType&&k(a))return!1;a=a.previousSibling}else return!1;return!0}function D(a,b){for(var c=b.length-1;0<=c;)if(b[c--].Ub===a)return b;return!1}function C(a,b,c){if(!aa(a,"codexterminal")){for(var d=a,f=document.body,e=[d],h=d.parentNode;h&&h!==f&&d!==b&&I(d);)e.push(h),d=h,h=d.parentNode;for(var f=
a,h=document.body,d=[f],k=f.parentNode;k&&k!==h&&f!==b&&y(f);)d.push(k),f=k,k=f.parentNode;var k=h=f=b=!1,n=e&&D(e,c);c=d&&D(d,c);var l=0,p=e.length;if(1<p)for(;l<p;)ga(e[l])&&(h=!0),Ha(e[l])&&(k=!0),l++;l=0;p=d.length;if(1<p)for(;l<p;)Wa(d[l])&&(b=!0),Da(d[l])&&(f=!0),l++;h&&k||(h?(n&&(n.Hf=!0),ca(e,"AVOIDBREAKAFTER")):k&&(n&&(n.zi=!0),ca(e,"FORCEBREAKAFTER")));b&&f||(b?(c&&(c.xg=!0),ca(d,"AVOIDBREAKBEFORE")):f&&(c&&(c.Ai=!0),ca(d,"FORCEBREAKBEFORE")));ca(a,"codexterminal")}}function w(a){if(3===
a.nodeType)return 0>a.nodeValue.search(/\S/);if(1===a.nodeType){if(a.offsetHeight)return!1;if(a.childNodes&&0!==a.childNodes.length){a=a.childNodes;for(var b=0,c=a.length;b<c;)if(!w(a[b++]))return!1;return!0}return a.offsetHeight?!1:!0}return!1}function O(a){if(fa)if(a&&H(a,fa)){var b;if(!(b=fa.firstChild===a))a:{b=fa;for(var c=a;c;){if(c===b){b=!0;break a}if(c.previousSibling)for(var d=c.previousSibling;d;)if(w(d)||1===d.nodeType&&!k(d))c=d,d=c.previousSibling;else{b=!1;break a}c=c.parentNode}b=
!1}a=b?!1:1===a.nodeType&&0===(new Ia(a,fa)).top&&"BR"!==a.tagName?!1:!0}else a=ba(fa,!0);else a=!0;return a}function Q(a,b){var d,f,e;if(Ca&&Ca.length&&Ca.length&&A(Ca[0]))return sa("Ignored call for new page @%d due to excessive drag",ab),a&&h(a),!1;if(!a&&!d&&fa&&0===fa.childNodes.length)return a?sa("Ignored call for new page for %o on empty page %d",a,ab):sa("Ignored call for new page on empty page %d",a,ab),!1;a&&3===a.nodeType&&(f=a.parentNode)&&1===f.childNodes.length&&f!==document.body&&f!==
c&&!aa(f,"codexpage")&&(a=f);if(a&&!d&&!O(a))return h(a);if(tb&&tb.length){var k=tb;tb=[];var n=fa;f=0;for(e=k.length;f<e;){var p=k[f++],m=!1;ya(p)?(Q(p),n=fa,d=!0):n===fa?(Q(p),m=new Ia(p,fa),m.bottom>ha&&(ca(fa,"codexoversize"),n=fa)):(F(p,fa),m=new Ia(p,jb),m.bottom>=ha&&Q(p))}}if(!a||d||O(a))d=fa&&eb(fa),fa&&(wa&&wa.call(Y,fa,Y),fa.style.height="",ia(fa,"codexworkpage")),Y.page=fa=L("div.codexpage.codexworkpage"),X.push(fa),d&&(e=d.nodeValue,k=e.search(/[\(\[\"\\u201c\\u2018]+$/),f=L("span.codexsplitstart",
e.slice(0,k)),e=L("span.codextextsplit",e.slice(k)),k=document.createDocumentFragment(),k.appendChild(f),k.appendChild(e),L.replace(d,k),Ca.push(e)),wb||(fa.style.height=ha+"px",fa.style.width=Sa+"px"),fa.style.height="inherit",ab++,Y.gf=ab,fa.id=pa+ab,fa.setAttribute("data-pagenum",ab),L(La,fa),Y.cd=db=!1,Ba.push(fa);l&&(2<l||lb&&a&&lb.match(a))&&(a?sa("Layout/newpage %o at %o",fa,a):sa("Layout/newpage %o",fa));if(Ca&&Ca.length){f=0;for(e=Ca.length;f<e;)h(Ca[f++]);a?(d=a,f=b&&b.gg,d&&Ca.length&&
f&&(1===Ca.length||Wa(d)||ga(Ca[Ca.length-1])?0>Ca.indexOf(d)&&Ca.push(d):Y.yc=Ca=[])):(Y.cd=db=Ca[Ca.length-1],Y.yc=Ca=[])}return a?h(a):!1}function eb(a){if(3===a.nodeType)return 0<a.nodeValue.search(/[\(\[\"\\u201c\\u2018]+$/)?a:!1;if(1===a.nodeType){a=a.childNodes;var b=a.length;return 3===a[b-1].nodeType?eb(a[b-1]):!1}return!1}function G(c,d,f,e){e||(e=ha);f||p(c);if(!Za||d.pd||!c.childNodes||0===c.childNodes.length)return ca(c,"codexcantsplit"),Q(c),c;c.id&&0!==c.id.search("CODEXTMP")&&(vb[c.id]||
(vb[c.id]=c.cloneNode(!0)));d=new mb(c,fa,!0);f=d.Io||12;if(e===ha&&d.top+d.mq+1.2*f>ha){e=fa;var h=Q(c);if(e!==fa)return h;e=ha+Oa(1.2*f)}h=ja(c.childNodes);c.innerHTML="";if((new Ia(c,fa)).bottom>e)return a(c,h),ca(c,"codexcantsplit"),Q(c),c;e===ha&&d.bottom-ha<1.2*f&&d.height>3*f&&(e=ha-Oa(f));if(e=P(c,h,d,e)){if(e===c)return a(c,h),ca(c,"codexcantsplit"),Q(c),c;d=e[0];Y.yc=Ca=[];d=Q(d);f=d.parentNode;var k,h=1,n=[];h||(h=0);k||(k=e.length);for(;h<k;)n.push(e[h++]);h=0;for(k=n.length;h<k;)b(n[h++],
f,ub);1<l&&sa("Layout/splitBlock %o @ %o into %o on %o",c,d,f,fa);return f}z("Tried to break %o which didn't need breaking",c);a(c,h);return c}function P(b,c,d,f){var e=!1,h=!1,k=-1,n=!1,l=!1;f||(f=ha);var p=d||new Ia(b,fa);if(1===c.length)e=c[0],k=0,h=e.nodeType,b.appendChild(e);else for(l=0,d=c.length;l<d;){var m=c[l++];b.appendChild(m);p=new Ia(b,fa);if(p.bottom>f){e=m;h=m.nodeType;k=l-1;break}}if(0>k)return!1;if(3===h)n=e,l=b;else{if(1!==h)return 0===k?b:c.slice(k);if(1===e.childNodes.length&&
3===e.childNodes[0].nodeType)n=e.childNodes[0],l=e;else{if(0!==k&&ba(b,!0,!1,e))return c.slice(k);a(b,c,k+1);return b}}d=m=n;for(var p=n.nodeValue.split(/(\s+)/mg),z=[],B=!1,r=0,q=p.length;r<q;){var x=p[r++],H;0<=(H=x.search(/\s/))?0===H?r>=q?B=x:B&&/\u00a0+/.exec(x)?B=B+x+p[r++]:(B&&z.push(B),B=x):(B?z.push(B+x):z.push(x),B=!1):B=B?B+x:x}B&&z.push(B);if(2>z.length)return 0===k?b:c.slice(k);B=document.createTextNode(z[0]);l.replaceChild(B,m);m=B;p=new Ia(b,fa);if(p.bottom>f){l.replaceChild(d,m);if(0===
k)return b;if(0===z[0].search(/^[.,;~?!:"'\u201d\u2019)\]-]/)){if(1===k)return b;l.removeChild(d);return c.slice(k-1)}return c.slice(k)}l.replaceChild(n,B);m=n;p=l;B=m;r=z.length;q=0;x=!1;H=B;for(var Ja=!1;q<r;){var t=q+Oa((r-q)/2),Ja=document.createTextNode(z.slice(0,t).join(""));p.replaceChild(Ja,H);H=Ja;Ja=new Ia(b,fa);if(Ja.bottom>f)r=t-1;else{Ja=document.createTextNode(z[t]);p.appendChild(Ja);var E=new Ia(b,fa);p.removeChild(Ja);if(E.bottom>f){x=t;break}else q=t+1}}!1===x&&(x=q);B!==H&&p.replaceChild(B,
H);f=x;if(0===f||f===z.length-1)return l.replaceChild(n,m),0===k?b:c.slice(k);n=z.slice(0,f).join("");f=z.slice(f).join("");z=!1;3===h?(p=L("span.codexsplitstart.codexraggedsplit"),z=p.id="CODEXTMPID"+Pa++,h=L("span.codextextsplit")):aa(e,"codextextsplit")?(m=p=e,p.innerHTML="",l=b,h=e.cloneNode(!0),ca(e,"codexraggedsplit"),h.id=""):(p=L("span.codexsplitstart"),h=e.cloneNode(!0),p.id?h.id="":z=p.id="CODEXTMPID"+Pa++);p.appendChild(document.createTextNode(n));h.innerHTML="";h.appendChild(document.createTextNode(f));
p!==m&&l.replaceChild(p,m);c=c.slice(k);c[0]=h;a(b,c);z&&(pb[z]=d);return c}function W(){function a(){B(Y)}for(var b=M();Fa<na&&(!d||M()-b<d);)r();m&&m(Y);Fa<na?d?Y.za=setTimeout(W,f||d):W():(b=T[na-1],(Ha(b)||aa(b,/\bcodexfullpage\b/)||hb&&e(b,hb))&&Q(),Y.za&&clearTimeout(Y.za),Y.za=!1,Y.root=!1,n(X),X=[],B&&(d?setTimeout(a,10):B(Y)))}var jb=!1,X=fa?[fa]:[],K=M();fa||(Q(),jb=!0);d&&"number"!==typeof d&&(d=Y.yb);f&&"number"!==typeof f&&(f=Y.re);"undefined"===typeof l&&(l=Y.Md);"undefined"===typeof m&&
(m=Y.VC||!1);Y.Kc||(Y.Kc=K);if(R(c,".codexpage"))return n(X),X=[],B&&B(Y),!1;Y.wp.push(c);Y.Fu++;var V=(K=aa(c,"codexfullpage")||hb&&e(c,hb))||aa(c,"codexsinglepage")||ya(c);if(K||V)Ra(c)||(K=V=!1);jb?c=h(c):V?Q(c):c=J(c)||db&&za(db)?Q(c):h(c);var N=ta(c,"[data-pagescale],[pagescale]");v(N,Sa,ha);"IMG"===c.tagName&&(K||V)&&rb(c,Sa,ha);if(V)V=fa.scrollWidth,N=fa.scrollHeight,V>Sa||N>ha?ca(fa,"codexoversize"):K&&V<.9*Sa&&N<.9*ha&&ca(fa,"codexundersize"),Q(),db=Y.cd=c,fb=Y.tj=p(c),sb=Y.sj=new Ja(c,fb),
n(X),X=[],Ca=[],B&&B(Y);else{K=new Ia(c,fa);V=!1;if(!$a(c))if(K.bottom<=ha)ib(c)?Ca.push(c):Ca=Xa(c)?[c]:[],V=!0;else if(Ga&&Ga.match(c)||Ra(c))jb||(Q(c),K=new Ia(c,fa)),K.bottom<=ha&&(Ca=Xa(c)?[c]:[],V=!0);if(V)db=Y.cd=c,fb=Y.tj=p(c),sb=Y.sj=new Ja(c,fb),n(X),X=[],B&&B(Y);else{var T=[],Z=[],la=[];x(c,c,T,Z,la);Y.vn+=T.length;1<l&&sa("Laying out %d blocks from %o; page=%o",T.length,c,fa);if(0===T.length)jb||Q(c),Y.root=!1,n(X),X=[],B&&B(Y);else{Y.root=c;var Fa=0,na=T.length;Ja.prototype.pd=Ja.prototype.Ai=
Ja.prototype.zi=Ja.prototype.xg=Ja.prototype.Hf=Ja.prototype.bl=Ja.prototype.gm=Ja.prototype.co=Ja.prototype.Mg=Ja.prototype.Gf=!1;if(d)W();else{for(;Fa<na;)r();n(X);B&&B(Y)}return Y}}}};var xb=L.replace;Y.Aj=function(a){function b(c){x(c,a)}return"string"===typeof a?B(a):a.hasOwnProperty("npages")?(La.innerHTML=a.j,W.xb(b,La.childNodes,{slice:Y.yb,pf:Y.re})):B(a.j)};this.Gu=function(a){var b,c=window.location.href,d=c.indexOf("?"),f=c.indexOf("#"),d=d>=f?d:f;0<d&&(c=c.slice(0,d));b||(b=Y.bd||(Y.bd=
Y.width+"x"+Y.height+"("+c+")"));if(r.Fn){for(var c=La.cloneNode(!0),d=c.childNodes,f=0,e=d.length;f<e;){var h=d[f++];if(1===h.nodeType)for(var h=h.childNodes,k=0,n=h.length;k<n;){var p=h[k++];1===p.nodeType&&t(p,Y.Pk||!1)}}d=ta(c,".codexsplitstart");f=0;for(e=d.length;f<e;)h=d[f++],(k=(k=h.id)&&pb[k])&&h.setAttribute("data-textsplit",k.nodeValue);K(b,c.innerHTML).then(function(){P(b);a(Y)}).catch(function(a){z.warn("Couldn't save layout %s: %s",b,a);return!1})}};this.Bu=function(a){return new Promise(function(b,
c){E(a,b,c)})};var Ja=L.$f.Eb;this.ds=function(a){a.style.display="block";var b=aa(a,"codexundersize"),c=aa(a,"codexoversize");if(c||b)if(jb(a),oa){var b=a.scrollWidth,d=a.scrollHeight,f=a.offsetWidth,e=a.offsetHeight;(c?d<=e&&b<=f:e<=d&&f<=b&&e>.9*d||f>.9*b)||(a.style.height="",Ja(a))}Y.iu&&Y.iu(a);ia(a,"codexworkpage");a.style.display="";a.style.height=""};this.Eq=function(){for(var a in bb)if(bb.hasOwnProperty(a)){var b=bb[a],c=b[b.length-1],d=document.getElementById(a);"OL"===d.tagName&&D([d].concat(b));
if("LI"===d.tagName)for(var d=0,f=b.length;d<f;){var e=b[d++];e.hasAttribute(e,"data-savedstyle")||e.setAttribute("data-savedstyle",e.getAttribute("style")||"");e.style.listStyleType="none"}c.className=c.className.replace(/\bcodexdup\b/,"codexdupend")}if((a=ta(fa,".codexdup"))&&a.length)for(b=0,c=a.length;b<c;)d=a[b++],w(d);fa&&(wa&&wa.call(Y,fa,Y),fa.style.height="",ia(fa,"codexworkpage"));a=0;for(b=Ba.length;a<b;)c=Ba[a++],this.ds(c);Y.Hb=M();if(Y.ig&&Y.ig.length)for(a=Y.ig,b=0,c=a.length;b<c;)a[b++](Y)};
this.Qf=cb;this.Kh=function(){var a,b;if(this.Sl){var c=this.Sl,d=c.Oh,f=this.Mk;a=0;for(b=d.length;a<b;){var e=d[a++],h;if(f[e]){h=document.getElementById(e);var k=h.getAttribute("data-savedclass"),n=h.getAttribute("data-savedstyle"),e=f[e];k&&(h.className=k,h.removeAttribute("data-savedclass"));n&&(h.setAttribute("style",n),h.removeAttribute("data-savedstyle"));e.parentNode.replaceChild(h,e)}else c[e]&&(h=c[e],e&&(h.id=e))}c=this.Xf;d=c.Oh;a=0;for(b=d.length;a<b;)if(f=d[a++])c[f].id=f;this.Sl={};
this.Jg={};this.Xf={}}else if(L.$f.Cu(),a=this.Mk,c=M(),b=0,!(this.up&&1E4>c-this.up)){this.up=c;d=this.hq;f=ja(this.Z.getElementsByClassName("_pagescaled"));b=0;for(c=f.length;b<c;)h=f[b++],k=R(h,".codexscalewrapper"),n=h.getAttribute("data-savedstyle"),ia(h,"_pagescaled"),n?h.setAttribute("style",n):h.setAttribute("style",""),k&&k.parentNode.replaceChild(h,k);b=ja(this.Z.getElementsByClassName("codexcantsplit"));ia(b,"codexcantsplit");h=ja(this.Z.getElementsByClassName("codexsplitstart"));b=0;for(c=
h.length;b<c;)f=h[b++],f.parentNode.replaceChild(d[f.id],f);h=ja(this.Z.getElementsByClassName("codextextsplit"));b=0;for(c=h.length;b<c;)f=h[b++],f.parentNode.removeChild(f);b=ja(this.Z.getElementsByClassName("codexraggedsplit"));ia(b,"codexraggedsplit");(b=ja(this.Z.getElementsByClassName("codexdupleading")))&&b.length&&L.remove(b);f=ja(this.Z.getElementsByClassName("codexrelocated"));b=ja(this.Z.getElementsByClassName("codexdupstart"));c=ja(this.Z.getElementsByClassName("codexdupend"));h=ja(this.Z.getElementsByClassName("codexdup"));
k=ja(this.Z.getElementsByClassName("codexpagetop"));ia(b,"codexdupstart");ia(c,"codexdupend");ia(h,"codexdup");ia(k,"codexpagetop");if(f&&f.length)for(this.Yi("Reverting layout of %d nodes and %d split texts",f.length,C.Er(d)),b=0,c=f.length;b<c;)if(d=f[b++],h=d.id){if(h=a[h])k=h.parentNode,aa(d,/\bcodexwraptext\b/g)?k.replaceChild(d.childNodes[0],h):h.parentNode.replaceChild(d,h);ia(d,"codexrelocated")}a=L.r("[data-savedstyle]");b=0;for(c=a.length;b<c;)d=a[b++],d.hasAttribute("data-savedstyle")&&
((f=d.getAttribute("data-savedstyle"))?d.setAttribute("style",f):d.removeAttribute("style"),d.removeAttribute("data-savedstyle"));L.Qv(this.Z);this.hq={};this.Mk={}}};return this}function d(a){"undefined"===typeof a?a=r.Fg:r.Fg=a;return new Promise(function(b,c){if(ga)return b(ga);if(Wa&&a)try{C.Yj(a,1,function(a){a.createObjectStore("layouts",{keyPath:"layout_id"})}).then(function(a){r.Wi=ga=a;r.Fn=7;b(a)}).catch(function(a){z("indexedDB failed: %o",a);r.Wi=ga=window.localStorage;b(ga)})}catch(d){c(d)}else r.Wi=
ga=window.localStorage,b(ga)})}function x(a,b,c,d,f){a=a.transaction(["layouts"],"readwrite").objectStore("layouts").put({bd:b,j:c});a.onerror=function(a){z("Error saving layout %s: %o",b,a.target.errorCode);f&&f(a)};a.onsuccess=function(){z("Layout %s cached",b);d&&d()}}function K(a,b){return new Promise(function(c,f){return ga?x(ga,a,b,c,f):d().then(function(d){ga=r.Wi=window.Iq;x(d,a,b,c,f)}).catch(function(){ga=r.Wi=window.Iq;n(a,b);c&&c(ga)})})}function J(a){if(ga)if(window.Storage&&ga instanceof
window.Storage){var b=Q.Ib;b(a);O(a)}else{var c=ga.transaction(["layouts"],"readwrite").objectStore("layouts"),d=c.get(a),f=function(){O(a)},e=function(){z("Error removing laytout %s",a)};d.onerror=e;d.onsuccess=function(){d=c["delete"](a);d.onerror=e;d.onsuccess=f}}}function G(a,b,c,d){var f=Q.Da,e=!1;if(window.Storage&&a instanceof window.Storage)(e=f(b)||!1)&&P(b),setTimeout(function(){c(e)},1);else if(a)(a=(a=ga.transaction(["layouts"]).objectStore("layouts"))&&a.get(b))||d("DB error"),a.onsuccess=
function(a){var f=(a=a.target)&&a.result;a||d(!1);f&&P(b);f?c(f.j):c(!1)},a.onerror=function(a){d(a)};else if(window.localStorage)(e=Q.Da(b)||!1)&&P(b),setTimeout(function(){c(e)},0);else return d?d(!1):c?c(!1):!1}function D(a,b){return new Promise(function(c,d){return G(a,b,c,d)})}function E(a){if(ga){var b=[];ga.transaction(["layouts"],"read").objectStore("layouts").openCursor().onsuccess=function(c){(c=c.target.result)?(b.push(c.key),c["continue"]()):a(b)}}else return!1}function P(a){n("fdjtCodex.layout("+
a+")",a);za("fdjtCodex.layouts",a)}function O(a){B("fdjtCodex.layout("+a+")",a);Ha("fdjtCodex.layouts",a);r.trace&&z("Layout %s removed",a)}var L=g.b,z=g.t,W=g.va,M=g.Aa,Q=g.$a,C=g.tb,V=g.I,ba=L.ol,H=L.cb,R=L.getParent,p=L.Ac,ea=L.Bd,S=L.Bs,aa=L.L,ca=L.h,ia=L.l,ja=L.Jd,Da=L.ss,n=Q.lc,za=Q.np,B=Q.Ib,Ha=Q.sp,Oa=Math.floor,Wa=g.rl.indexedDB,Xa;document.body?Xa=document.body.namespaceURI:L.addListener(window,"load",function(){Xa=document.body.namespaceURI});var ga,ta=L.J,eb=L.la,Ia=L.Fq,mb=L.Qq,$a=/[^ \n\r\t\f\x0b\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000\uf3ff]/g,
ib=g.b.Df,jb=g.b.Ef,rb=g.b.Ov,Pa=1,Ra=/\bcodexdup(start|end)?\b/g;r.yb=50;r.re=5;r.Md=0;r.prototype.ab=function(a){if(!a)return[];a.nodeType&&(a=a.id);var b=V(a);return(a=this.Jg[a])?[b].concat(a):!1};r.Fn=2;r.Yj=d;r.Ex=K;r.si=J;r.as=function(a){return d().then(function(b){return D(b,a)}).catch(function(b){z("Layout DB init failed: %o",b);return D(!1,a)})};r.hi=function(){var a=Q.Da("fdjtCodex.layouts",!0),b=0,c=a&&a.length;if(a){for(;b<c;)J(a[b++]);Q.Ib("fdjtCodex.layouts")}};r.Sy=E;r.zr=function(){E(function(a){var b=
[],c=0,d=a.length;if(d)if(b=a,0===b.length)z.warn("No layouts match %s",void 0);else for(z.warn("Dropping %d layouts",b.length),c=0,d=b.length;c<d;)z.warn("Dropping layout %s",b[c]),J(b[c++]);else z.warn("No layouts")})};r.Fg="codexlayout";return r}();"undefined"!==typeof window&&window.Qy&&(window.Mb=g.Mb);var Bb;Bb="object"===typeof exports&&"function"===typeof require?exports:{};
(function(){function a(a){return a}function q(){}function k(){}q.prototype={set:function(a,e){if(!this[a])throw Error("unknown hook "+a);this[a]=e},Sd:function(k){this[k]=a}};Bb.nw=q;k.prototype={set:function(a,e){this["s_"+a]=e},get:function(a){return this["s_"+a]}};Bb.Cq=function(){function a(b){return A(b)}function e(a){return a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(a,b,c,d,f,e){b=b.toLowerCase();V.set(b,D(c));
if(f)return d;e&&ba.set(b,e.replace(/"/g,"&quot;"));return""})}function v(a){a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,l);a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,l);a=a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,l);a=a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,
l);return a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,l)}function l(a,b){var c;c=b.replace(/^\n+/,"");c=c.replace(/\n+$/g,"");return c="\n\n~K"+(H.push(c)-1)+"K\n\n"}function A(c,d){c=C.PC(c,a);c=b(c);c=c.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n");c=c.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"<hr />\n");c=c.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n");c=f(c);c=r(c);c=J(c);c=C.KC(c,a);c=v(c);return c=G(c,d)}function t(a){a=C.RC(a);a=x(a);a=y(a);
a=a.replace(/\\(\\)/g,Q);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,Q);a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,c);a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,c);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,w);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,w);a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,w);a=P(a);a=a.replace(/~P/g,"://");a=D(a);a=
a.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");a=a.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");a=a.replace(/  +\n/g," <br>\n");return a=C.NC(a)}function y(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=M(b,"!"==a.charAt(1)?"\\`*_/":"\\`*_")})}function w(a,b,c,d,f,e,k,p){void 0==p&&(p="");a=c.replace(/:\/\//g,
"~P");d=d.toLowerCase();if(""==f)if(""==d&&(d=a.toLowerCase().replace(/ ?\n/g," ")),void 0!=V.get(d))f=V.get(d),void 0!=ba.get(d)&&(p=ba.get(d));else if(-1<b.search(/\(\s*\)$/m))f="";else return b;f=W(f);f=M(f,"*_");b='<a href="'+f+'"';""!=p&&(p=h(p),p=M(p,"*_"),b+=' title="'+p+'"');return b+(">"+a+"</a>")}function h(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function c(a,b,c,d,f,e,k,p){a=c;d=d.toLowerCase();p||(p="");if(""==f)if(""==d&&(d=a.toLowerCase().replace(/ ?\n/g,
" ")),void 0!=V.get(d))f=V.get(d),void 0!=ba.get(d)&&(p=ba.get(d));else return b;a=M(h(a),"*_[]()");f=M(f,"*_");b='<img src="'+f+'" alt="'+a+'"';p=h(p);p=M(p,"*_");return b=b+(' title="'+p+'"')+" />"}function b(a){a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return"<h1>"+t(b)+"</h1>\n\n"});a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return"<h2>"+t(b)+"</h2>\n\n"});return a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,b,c){a=b.length;return"<h"+a+">"+t(c)+"</h"+a+
">\n\n"})}function f(a,b){a+="~0";var c=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;R?a=a.replace(c,function(a,c,d){a=-1<d.search(/[*+-]/g)?"ul":"ol";c=F(c,a,b);c=c.replace(/\s+$/,"");return"<"+a+">"+c+"</"+a+">\n"}):(c=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(c,function(a,b,c,d){a=-1<d.search(/[*+-]/g)?"ul":"ol";c=F(c,a);return b+"<"+a+">\n"+c+"</"+a+">\n"}));return a=a.replace(/~0/,
"")}function F(a,b,c){R++;a=a.replace(/\n{2,}$/,"\n");b=p[b];var d=!1;a=(a+"~0").replace(new RegExp("(^[ \\t]*)("+b+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+b+")[ \\t]+))","gm"),function(a,b,e,h){a=h;(b=/\n\n$/.test(a))||-1<a.search(/\n{2,}/)||d?a=A(L(a),!0):(a=f(L(a),!0),a=a.replace(/\n$/,""),c||(a=t(a)));d=b;return"<li>"+a+"</li>\n"});a=a.replace(/~0/g,"");R--;return a}function r(a){a=(a+"~0").replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){a=K(L(b));a=
z(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");a="<pre><code>"+a+"\n</code></pre>";return"\n\n"+a+"\n\n"+c});return a=a.replace(/~0/,"")}function d(a){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(H.push(a)-1)+"K\n\n"}function x(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d){a=d.replace(/^([ \t]*)/g,"");a=a.replace(/[ \t]*$/g,"");a=K(a);a=a.replace(/:\/\//g,"~P");return b+"<code>"+a+"</code>"})}function K(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");
a=a.replace(/>/g,"&gt;");return a=M(a,"*_{}[]\\",!1)}function J(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c;c=b.replace(/^[ \t]*>[ \t]?/gm,"~0");c=c.replace(/~0/g,"");c=c.replace(/^[ \t]+$/gm,"");c=A(c);c=c.replace(/(^|\n)/g,"$1  ");c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c;c=b.replace(/^  /mg,"~0");return c=c.replace(/~0/g,"")});return d("<blockquote>\n"+c+"\n</blockquote>")})}function G(a,b){a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");for(var c=
a.split(/\n{2,}/g),d=[],f=/~K(\d+)K/,e=c.length,h=0;h<e;h++){var k=c[h];f.test(k)?d.push(k):/\S/.test(k)&&(k=t(k),k=k.replace(/^([ \t]*)/g,"<p>"),k+="</p>",d.push(k))}if(!b)for(e=d.length,h=0;h<e;h++)for(var p=!0;p;)p=!1,d[h]=d[h].replace(/~K(\d+)K/g,function(a,b){p=!0;return H[b]});return d.join("\n\n")}function D(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");return a=a.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function E(a,b,c,d){if(b)return a;if(")"!==d.charAt(d.length-1))return"<"+
c+d+">";a=d.match(/[()]/g);for(var f=b=0;f<a.length;f++)"("===a[f]?0>=b?b=1:b++:b--;var e="";0>b&&(d=d.replace(new RegExp("\\){1,"+-b+"}$"),function(a){e=a;return""}));e&&(a=d.charAt(d.length-1),S.test(a)||(e=a+e,d=d.substr(0,d.length-1)));return"<"+c+d+">"+e}function P(a){a=a.replace(ea,E);return a=a.replace(/<((https?|ftp):[^'">\s]+)>/gi,function(a,b){return'<a href="'+b+'">'+C.FC(b)+"</a>"})}function O(a){return a=a.replace(/~E(\d+)E/g,function(a,b){return String.fromCharCode(parseInt(b))})}function L(a){a=
a.replace(/^(\t|[ ]{1,4})/gm,"~0");return a=a.replace(/~0/g,"")}function z(a){if(!/\t/.test(a))return a;var b=["    ","   ","  "," "],c=0,d;return a.replace(/[\n\t]/g,function(a,f){if("\n"===a)return c=f+1,a;d=(f-c)%4;c=f+1;return b[d]})}function W(a){if(!a)return"";var b=a.length;return a.replace(aa,function(c,d){return"~D"==c?"%24":":"!=c||d!=b-1&&!/[0-9\/]/.test(a.charAt(d+1))?"%"+c.charCodeAt(0).toString(16):":"})}function M(a,b,c){b="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(b="\\\\"+b);return a=
a.replace(new RegExp(b,"g"),Q)}function Q(a,b){return"~E"+b.charCodeAt(0)+"E"}var C=this.Ts=new q;C.Sd("plainLinkText");C.Sd("preConversion");C.Sd("postNormalization");C.Sd("preBlockGamut");C.Sd("postBlockGamut");C.Sd("preSpanGamut");C.Sd("postSpanGamut");C.Sd("postConversion");var V,ba,H,R;this.Po=function(a){if(V)throw Error("Recursive call to converter.makeHtml");V=new k;ba=new k;H=[];R=0;a=C.QC(a);a=a.replace(/~/g,"~T");a=a.replace(/\$/g,"~D");a=a.replace(/\r\n/g,"\n");a=a.replace(/\r/g,"\n");
a=z("\n\n"+a+"\n\n");a=a.replace(/^[ \t]+$/mg,"");a=C.MC(a);a=v(a);a=e(a);a=A(a);a=O(a);a=a.replace(/~D/g,"$$");a=a.replace(/~T/g,"~");a=C.LC(a);H=ba=V=null;return a};var p={nC:"\\d+[.]",rF:"[*+-]"},ea=/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#/%?=~_|[\]()!:,.;]*[-A-Z0-9+&@#/%=~_|[\])])(?=$|\W)/gi,S=/[-A-Z0-9+&@#/%=~_|[\])]/i,aa=/(?:["'*()[\]:]|~D)/g}})();var u={mode:!1,U:!1,scrolling:!1,ra:!1,head:!1,target:!1,bb:!1,location:!1,root:!1,start:!1,jb:!1,hc:!1,uq:!1,jj:!1,e:!1,AB:!1,Pb:!1,Iw:!1,sk:!1,Bw:!1,Jw:!1,Nk:!1,sd:!1,Ua:!1,gy:!1,Xd:!1,fy:!1,Wf:!1,ut:"about",Kr:!1,Lc:200,wd:300,Dy:50,CC:250,ri:!1,YB:!1,pb:7,Vj:!1,Ql:!1,ml:/(addtag)|(addoutlet)|(editdetail)|(hamburger)|(attach)/,Ci:!1,Te:!1,aA:!1,sq:!0,Mt:[],Gn:2500,Oo:5E3,zu:500,io:!1,Pf:!1,Xb:!1,ub:!1,Tl:"sources outlets layers sync nodeid state".split(" "),iB:!1,Dc:!0,ca:!1,qt:!1,st:!0,qj:{allglosses:"METABOOKALLGLOSSES",
searchresults:"METABOOKSEARCHRESULTS",statictoc:"METABOOKSTATICTOC"},Uo:3,Qo:!1,Fc:[],Qj:!1,bq:0,cq:2E8,M:!1,eD:[],ya:!1,X:!1,pe:!1,Xj:3E4,qq:3E4,pq:18E5,eg:18E4,Zp:1E4,$p:15E3,uh:3E5,a:{C:{Dc:{},ca:{},qt:{},vl:{}}},gw:{},V:{},b:{},CSS:{},D:{},ga:{},Cm:{},Bm:[],lk:{},Ff:[],pu:{},vC:["https://www.youtube.com/"],hm:{},Yc:{},ul:[],Pn:{j:"bypage",Ie:"normal",If:"serif",wn:"high",Sj:!1,Jo:"normal",qF:"normal",ui:!1,Zw:!0,$w:!0,qA:!1,Ti:!0,wd:300,Zv:1500,Lc:200,hc:!0,KE:60,Ox:900,Uz:300,ub:!0,qE:!1,Cx:!1,
kE:!1,Ig:!1,Ln:!1},da:{n:0,Gb:0,mode:!1,ee:!1,td:0,search:0,cc:0,target:!1,Tj:!1,Q:0,hj:0,state:0,Ju:0,Xa:0,jn:0,Yc:0,ga:0,qj:0,j:0,lB:0,Pl:!1,zc:!1,resize:!1,aj:!1,Ma:!1,selection:!1,vd:0,$c:0,zoom:0,g:0}};"undefined"===typeof mB&&(mB=u);g.b.Xo=!0;(function(){function a(a){return"string"===typeof a?a:a.o?a.o:a.K?(a.o=a.K())||a.toString():JSON.stringify(a)}function q(b,c,d){if(d&&"string"!==typeof c)if(Array.isArray(c)){d=0;for(var f=c.length,e=[];d<f;){var h=c[d++];e.push(a(h))}c=JSON.stringify(e)}else c=a(c);C.Xb?M(b,c,!1):r.Wu(b,c,!1)}function k(a,b){return C.Xb?Q(a)?W(a,b):r.Yn(a)?(M(a,r.Gi(a)),W(a,b)):!1:r.Gi(a,b)||W(a,b)}function m(a){r.Ib(a);r.Pr(a)}function e(){return new Promise(function(a,b){H?a(H):ba&&!C.jj?(R.push(a),b&&p.push(b)):
b&&b(!1)})}function v(a){u.MB=H=a;d(function(){g.Mb.Yj(a.name)});var b=R;R=[];p=[];for(var c=0,f=b.length;c<f;)b[c++](a)}function l(a,b){var c=p;R=[];p=[];x("Error %s database %s: %o",a,"metaBook",b);for(var d=0,f=c.length;d<f;)c[d++](b)}function A(a,b){if(this instanceof A){if(0===arguments.length)return this;var c=zb.Mm.call(this,a);V.search&&(c.log={});return c}return new A(a,b)}function t(a){var b;a||(a=u.e);if(a){if("string"===typeof a)return t(u.O.qa(a));if(a.u&&a.u instanceof E)b=new zb(a.u.K());
else{if(a.u&&"string"===typeof a.u)return t(u.O.qa(a.u));b=a.o?new zb(a.o):a.d?new zb(a.Dw):u.$}}else return u.$;b.description=a.name;return b}function y(){if(u.e&&!g.Qb.dg&&g.Qb.Bl){var a=C.X;if(a&&C.Xs!==a){C.Xs=a;var b=encodeURIComponent(a),c=location.href,d=c.indexOf("?"),f=c.indexOf("#"),a=0>d?0>f?c:c.slice(0,f):c.slice(0,d),d=0>d?"":0>f?c.slice(d):c.slice(d+1,f),c=0>f?"":c.slice(f),e=!1,b="MYCOPYID="+b;if(2>=d.length)d="?"+b;else if(0<=d.search("MYCOPYID="))var e=d.search("MYCOPYID="),f=d.slice(0,
e),h=d.slice(e).search("&"),k=0>h?"":d.slice(e+h),e=0>h?d.slice(e):d.slice(e,e+h),d=f+b+k;else d=d+"&"+b;e&&e===b||history.replaceState(history.state,window.title,a+("?"===d[0]?d:"?"+d)+("#"===c[0]?c:"#"+c))}}}function w(){document[K.ec]?aa&&(clearInterval(aa),aa=!1):aa||(aa=setInterval(function(){u.e&&!g.Qb.dg&&!document[K.ec]&&g.Qb.Bl&&y()},3E5))}function h(){w();K.ec&&K.addListener(document,K.ue,w);u.Uf=y;w()}function c(a){return"string"===typeof a?ca(a)?!1:a:!1}function b(a){var b;a&&"string"===
typeof a&&"#"===a[0]&&(a=a.slice(1));ia||(ia=u.p);var c=ia&&(b=ia[a])&&b.Sb;if(c&&c.id||(c=document.getElementById(a)))return c;b=document.getElementsByName(a);if(1===b.length)return b[0];if(1<b.length)return!1;b=K.r("[data-tocid='"+a+"']");return 1===b.length?b[0]:b.length?(b=K.r(".codexdupstart[data-tocid='"+a+"']"),1===b.length?b[0]:!1):!1}function f(a,b,c,d){c||(c="tags");d||(d=u.$);var e=u.Zd;a instanceof Array||(a=[a]);Da(a,b,e,d,c,u.fg);for(var h=0,k=a.length;h<k;){var n=a[h++];if(n.Lb){var p=
e.find("head",n);p.length&&(p=[].concat(p));p&&p.length&&Da(p,b,e,d,"^"+c,u.fg);n=e.find("heads",n);n.length&&(n=[].concat(n));n&&n.length&&f(n,b,"^"+c,d)}}}var F=g.String,r=g.$a,d=g.va,x=g.t,K=g.b,J=g.a,G=g.I,D=g.tb,E=g.Rc,P=g.Map||D.Map,O=K.L,L=K.h,z=K.cb,W=r.Da,M=r.lc,Q=r.Sr,C=u,V=u.da,ba=g.rl.indexedDB;u.Qj=new P;u.fg=new P;u.bA=function(a){return C.Xb?Q(a):r.Yn(a)};u.lf=q;u.uj=k;u.Gk=m;u.js=function(){};var H=!1,R=[],p=[];u.dl=e;ba&&!C.jj?(P=ba.open("metaBook",1),P.onerror=function(a){l("opening",
a.errorCode)},P.onsuccess=function(a){a=a.target.result;x("Using existing metaBook IndexedDB");v(a)},P.onupgradeneeded=function(a){a=a.target.result;a.onerror=function(a){l("upgrading",a.target.errorCode)};a.onsuccess=function(a){a=a.target.result;x("Initialized metaBook indexedDB");v(a)};a.createObjectStore("glossdata",{keyPath:"url"});a.createObjectStore("layouts",{keyPath:"layout_id"});a.createObjectStore("sources",{keyPath:"_id"});a.createObjectStore("docs",{keyPath:"_id"});a.createObjectStore("glosses",
{keyPath:"glossid"})}):g.Mb.Yj(!1);u.dt=function(){function a(){return E.apply(this,arguments)}function b(a){var c=r.Ib;if(a)"string"!==typeof a&&(a=u.B),(c=W("mB("+a+").sourceid"))&&u.hi(c),u.aa=!1,m("mB("+a+").sources"),m("mB("+a+").outlets"),m("mB("+a+").layers"),m("mB("+a+").etc"),m("mB("+a+").sync"),u.w.Me(function(){m("mB("+a+").sync")}),u.Ar(a);else{var d=k("mB.docids",!0);if(d)for(var f=0,e=d.length;f<e;)b(d[f++]);c("mB.user");c("mB.docuris");c("mB.docids");g.Mb.hi();r.Gk();r.Br()}}1<V.start&&
x("Initializing DB");var c=u.M||document.location.href;0<c.indexOf("#")&&(c=c.slice(0,c.indexOf("#")));u.bv();var d=u.om||G("METABOOKTAGLIST");d||(d=u.om=g.b("datalist#METABOOKTAGLIST"),document.body.appendChild(d));u.Zd=new D(c+"#",{wa:"frag head heads tags tags* *tags **tags ~tags *tags **tags ~tags *tags* **tags* ~tags* ^tags ~^tags *^tags **^tags ^tags* ~^tags* *^tags* **^tags*".split(" ")});u.Zd.Kj=["head","heads"];var f=zb.wl,h=/^https:\/\/glossdata.(sbooks\.net|metabooks\.net|beingmeta\.com|bookhub\.io)\//;
C.tr=h;c=K.dc("METABOOK.knodule")||K.dc("PUBTOOL.knodule")||K.dc("~KNODULE")||c;u.$=new zb(c);zb.current=u.$;u.Dm=new zb("BRICO");u.Dm.Db(":@1/");u.Dm.Db("@1/");var n=F.rf,p=u.w=new D("glosses@"+u.M,{wa:"frag maker outlets tags *tags **tags tags* *tags* **tags*".split(" ")});p.Ia=!0;p.Fg="glosses";p.Db("glossdb");p.Db("-UUIDTYPE=61");p.Db(":@31055/");p.Db("@31055/");p.fe(function(a){var b=u.p[a.s];if(b){b&&b.H&&(a.H=b.H+(a.Wa||0));b&&b.R&&(a.R=a.pa?b.R+(a.Wa||0)+n(a.pa).length:b.R);!a.u&&u.e&&(a.u=
u.e);var c=u.Yh,e=u.vg,k=u.ua,p=a.u&&u.O.G(a.u);if(a.links){var l=a.links,m;for(m in l)if(l.hasOwnProperty(m)&&l[m]){if(h.exec(m)){var z=m.replace("//glossdata.sbooks.net/","//glossdata.bookhub.io/");m!==z&&(l[z]=l[m],delete l[m],m=z)}l.hasOwnProperty(m)&&h.exec(m)&&u.Rt(m)}}p&&(u.vg(p,u.ua),u.a.Wh(p));var l=u.ro(a.u),p=p===u.e,r=a.Ic;if(r&&("string"===typeof r&&(r=[r]),r&&r.length))for(m=0,z=r.length;m<z;){var q=r[m++],q=u.O.G(q);u.a.Wh(q)}if((r=a.ai)&&r.length){m=0;for(z=r.length;m<z;){var q=r[m++],
H;H=e(q,k);p&&H&&L(H,"cue");H=e(q,u.Ea);p&&H&&L(H,"cue");d.appendChild(f(q))}e=["tags","*tags","**tags"];k=0;for(p=e.length;k<p;)z=e[k++],(m=a[z])&&m.length&&(z="+"+z,a.qm&&(c(a.qm,m,z),a.uu!==a.qm&&c(a.uu,m,z)),b&&c(b,m,z,l))}}else x("Gloss (onload) refers to nonexistent '%s': %o",a.s,a)},"initgloss");u.e&&C.Xb&&u.ub&&(C.uq&&!C.jj?e().then(function(a){p.Q=a}):p.Q=localStorage);a.prototype=new E;c=zb.Ur;c={"*tags":c,"**tags":c,"~tags":c,"~~tags":c,tags:c,"*tags*":c,"**tags*":c,"~tags*":c,"~~tags*":c,
"tags*":c,"*tags**":c,"**tags**":c,"~tags**":c,"~~tags**":c,"tags**":c};u.OE=c;u.PE=c;u.w.ie=a;c=u.O=new D("sources@"+u.M);c.Ia=!0;c.Fg="sources";c.Il=!0;c.Db("@1961/");c.Db(":@1961/");c.Db("@acc/");c.Db(":@acc/");c.fe(function(a){a.jc&&"string"===typeof a.jc&&0===a.jc.search("data:")&&(a.ld=K.Hr(a.jc))});c.yi=function(a){var b="span.source"+(a.kind?".":"")+(a.kind?a.kind.slice(1).toLowerCase():""),b=K(b,a.name||a.ic||a.Pa||a.Pa);a.ea&&(b.title=a.ea);return b};u.Fc=u.ub&&W("mB("+u.B+").queued",!0)||
[];u.Ep=function(a){var c=u.Tl,d=C.B;if(a){if(u.e){C.uq&&!C.jj?e().then(function(a){u.O.Q=a;u.w.Q=a}):(a=C.Xb?window.localStorage:window.sessionStorage,u.O.Q||(u.O.Q=a),u.w.Q||(u.w.Q=a));a=0;for(var f=u.Tl.length;a<f;){var h=c[a++];u[h]&&q("mB("+d+")."+h,u[h],!0)}u.w.save(!0);u.O.save(!0);u.Fc=u.Fc&&u.Fc.length?u.Fc.concat(W("mB("+d+").queued",!0)||[]):W("mB("+d+").queued",!0)||[]}u.ub=!0}else b(u.ya),d&&r.Ib("mB("+d+").queued"),u.Fc=[],u.ub=!1};u.Hu=function(){for(var a=C.B,b=u.Tl,c=0,d=b.length;c<
d;){var f=b[c++];u[f]&&q("mB("+a+")."+f,u[f],!0)}};u.Jp=function(){u.Xb=!0;var a=C.M,b=C.ya,c=C.B;q("mB("+c+")",b);var d=k("mB.refuris",!0),f=k("mB.docuris",!0),e=k("mB.docids",!0);d?0>d.indexOf(a)&&(d.push(a),q("mB.refuris",d,!0)):q("mB.refuris",[a],!0);f?0>f.indexOf(b)&&(f.push(b),q("mB.docuris",f,!0)):q("mB.docuris",[b],!0);e?0>e.indexOf(c)&&(e.push(c),q("mB.docids",e,!0)):q("mB.docids",[c],!0);C.nc&&q("mB("+C.B+").sourceid",C.nc)};u.Me=b;u.rp=function(){var a=u.B;u.aa=!1;m("mB("+a+").sources");
m("mB("+a+").outlets");m("mB("+a+").layers");m("mB("+a+").etc");u.w.Me(function(){m("mB("+a+").sync");setTimeout(u.Ah,25)})};A.prototype.Nn=[u.w,u.Zd];A.prototype.Dh={"+tags":8,tags:4,"+tags*":2,"tags*":2,"^+tags":2,strings:1,head:2,heads:1};A.prototype.sf=!0;u.ra=u.Re=new A([]);1<V.start&&x("Initialized DB")};A.prototype=new zb.Mm;u.Qc=A;u.Qc.prototype.to=function(){if(this.Zm)return this.Zm;for(var a=this.cl(),b=this.vh,c=this.hb.length,d=u.hg.Rj,f=u.hg.kn.length,e=0,h=a.length,k=[];e<h;){var n=
a[e++];if("string"!==typeof n)k.push(n);else{var p=b.getItem(n);if(!(p>.9*c||3>p||.1>p/c)){var l=d[n],l=l?l.length:0;0===l&&k.push(n);.4<l/f||p/c>l/f*5&&k.push(n)}}}return this.Zm=k};u.ro=t;u.trace=function(a,b){var c=b.nodeType?b:J.c(b);c?x("%s %o in %o: mode%s=%o, target=%o, head=%o skimming=%o",a,b,c,u.La?"(skimming)":"",u.mode,u.target,u.head,u.La):x("%s %o: mode%s=%o, target=%o, head=%o skimming=%o",a,b,u.La?"(skimming)":"",u.mode,u.target,u.head,u.La)};var P=/https?:\/\/[^\/]+\/([^\/]+\/)*/,
ea=window.$q;u.Na=!1;u.Su=[];u.Jr="glosses.bookhub.io";u.root=ea&&P.exec(ea)&&P.exec(ea)[0]||K.il("METABOOK.staticroot")||"http://static.beingmeta.com/";"/"!==u.root[u.root.length-1]&&(u.root+="/");u.QF=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")||navigator.mimeTypes["image/svg+xml"];u.Oj=g.b.vr();r.ae("nosvg")?u.Oj=!1:r.ae("withsvg")&&(u.Oj=!0);u.icon=function(a,b,c){return u.root+"g/metabook/"+a+(u.Oj?".svgz":(b&&c?b+"x"+c:b?b+"w":c?c+"h":"")+".png")};var S=
u.icon;u.Gs=function(){for(var a=u.target;a&&a!==document;){if(a.getAttribute("data-refuri"))return a.getAttribute("data-refuri");if(a.getAttribute("refuri"))return a.getAttribute("refuri");a=a.parentNode}return u.M};u.qz=function(a){for(;a&&a!==document;){if(a.getAttribute("data-docuri"))return a.getAttribute("data-docuri");if(a.getAttribute("docuri"))return a.getAttribute("docuri");a=a.parentNode}return u.ya};u.Hz=function(a){return a.getAttributeNS?a.getAttributeNS("bookid")||a.getAttributeNS("data-bookid")||
a.fa||a.id:a.id};u.Ue=function(a,b){a=a.nodeType?a:a.target||a.srcElement||a;var c=!1,d=!1,f=!1,e=u.zv,h=!1;if(z(a,u.jb))return!1;for(;a;){if(a.Ze)return!1;if(a===u.Nf||a===document.body)return c;if((d=a.fa||a.id)&&(f=u.p[d])&&(d=f.s||d,a.fa||0!==d.search("METABOOKTMP"))&&(!c||0!==d.search("WSN_")))if(0===d.search("WSN_"))h=a;else if(!(e&&0!==d.search(e)||O(a,"sbooknofocus")||u.Yo&&u.Yo.match(a))){if(O(a,"sbookfocus")||u.focus&&u.focus.match(a)||b)return a;if(c&&("SECTION"===a.tagName||a.className&&
a.className.search&&0<=a.className.search(/\bhtml5section\b/i))||c&&!g.b.Tg(a))return c;c||(c=a)}a=a.parentNode}return c||h};u.no=function(a){var c=a.fa||a.id;if(c&&u.p[c])a=u.p[c];else if(c)for(;a;)if(a.id&&u.p[c]){a=u.p[c];break}else a=a.parentNode;else{for(var d=a.firstChild,f=a.nextNode;d&&d!==f&&!d.id&&!d.fa&&(3!==d.nodeType||F.Ja(d.nodeValue));)d=K.forward(d);if(d&&d.id&&d!==f)a=u.p[!1];else for(;a;)if((c=a.fa||a.id)&&u.p[c]){a=u.p[c];break}else a=a.parentNode}return a?a.fc?b(a.s):a.head?b(a.head.s):
!1:!1};u.Fz=function(a){for(;!(!a||a.ea||a.getAttribute&&a.getAttribute("about"));)a=a.parentNode;if(a){var c=a.ea||a.getAttribute("about");a.ea||(a.ea=c);return"#"===c[0]?b(c.slice(1)):b(c)}return!1};u.Gz=function(a){for(;a&&!(a.ea||a.getAttribute&&a.getAttribute("about"));)a=a.parentNode;return a||!1};u.Nx=function(){u.target&&"openglossmark"===u.mode&&!K.Tg(u.target)&&(u.q(!1),u.q(!0))};var aa=!1;!g.Qb.dg&&g.Qb.Bl&&g.kb(h,"setupKludgeTimer");var ca=F.Ja,ia=!1;u.I=b;u.vo=function(a){var b;return a.yD||
((b=a.fa||a.id)&&u.p[b]?c(u.p[b].title):c(a.title))||K.Kb(a).replace(/\n(\s*\n)+/g,"\n").replace(/^\n+/,"").replace(/\n+$/,"").replace(/\n\n+/g," // ").replace(/\n/g," ").replace(/^\s*\/\//,"")};u.Gm=function(a){return a?"string"===typeof a?u.p[a]||u.w.qa(a)||D.resolve(a):a.d?a:a.fa?u.p[a.fa]:a.id?u.p[a.id]:!1:!1};var ja=["","*","**","~","~~"];u.vs=function(a){for(var b=[],c=0,d=ja.length;c<d;){var f=ja[c++],e=a[f+"tags"];if(e){e instanceof Array||(e=[e]);for(var h=0,k=e.length;h<k;){var n=e[h++];
""===f?b.push(n):b.push({prefix:f,tag:n})}}}return b};u.EC=function(a,b){var c="tags",d=b||u.$;"~"===a[0]?(c="~tags",a=a.slice(1)):"*"===a[0]&&"*"===a[1]?(c="**tags",a=a.slice(2)):"*"===a[0]&&(c="*tags",a=a.slice(1));d=0<=a.indexOf("|")?d.Sf(a):"~tags"===c?b&&b.qa(a)||a:d.Sf(a);return"tags"!==c?{nE:c,tag:d}:d};var Da=zb.Yh;u.Yh=f;u.oh=function(a){var b=document.documentElement||document.body;if(a&&!u.sd){var c=u.Be;u.Be=!1;if(c&&c.length)for(var d=0,f=c.length;d<f;)c[d++]();r.Da("mB("+C.B+").queued")&&
u.Am()}(a&&!u.sd||!a&&u.sd)&&K.pc(b,/\b(_|cx)(CONN|DISCONN)\b/,a?"_CONN":"_DISCONN");u.sd=a};u.uo=function(a,b){if(a.Lb)return"none"===a.Lb?a.Lb=!1:a.Lb;var c=a.getAttribute("toclevel")||a.getAttribute("data-toclevel");if(c)return"none"===c?!1:parseInt(c,10);if(a.className){c=a.className;if(0<=c.search(/\b(sbook|metabook|sb|mb)notoc\b/)||0<=c.search(/\b(sbook|metabook|sb|mb)ignore\b/))return 0;var d=c.search(/\b(sbook|metabook|sb|mb)\d+(head|sect)\b/);if(0<=d)return parseInt(c.slice(d+5),10);if("number"===
typeof b&&0<=c.search(/\b(sbook|metabook|sb|mb)subhead\b/))return b+1}return C.df&&C.df.match(a)||C.Tf&&C.Tf.match(a)?0:"undefined"===typeof u.tn||u.tn?0===a.tagName.search(/H\d/)?parseInt(a.tagName.slice(1,2),10):!1:!1};u.qs=function(){if(u.Lf)return u.Lf;var a=G("METABOOKCOVERPAGE")||G("SBOOKCOVERPAGE")||G("COVERPAGE");a&&(u.Lf=a);return a};var n=F.$n,za=F.Tr;u.Wk=function(a){return n(za(a).replace(/http(s)?:\/\/static.beingmeta.com\//g,u.root),{vx:u.root+"g/",Kf:u.Kf})};F.entities.tx="<span class='beingmeta'>being<span class='bmm'>m<span class='bme'>e<span class='bmt'>t<span class='bma'>a</span></span></span></span></span>";
F.entities.qD="<span class='sbooks'><em>s</em>Books</span>";F.entities.pD="<span class='sbooks'><em>s</em>Book</span>";F.entities.NB="<span class='metabook'><span class='bmm'>m<span class='bme'>e<span class='bmt'>t<span class='bma'>a</span></span></span></span>Books</span>";F.entities.LB="<span class='metabook'><span class='bmm'>m<span class='bme'>e<span class='bmt'>t<span class='bma'>a</span></span></span></span>Book</span>";u.tq=function(a){return 0<a.search(/\.(jpg|jpeg)$/g)?"image/jpeg":0<a.search(/\.png$/g)?
"image/png":0<a.search(/\.gif$/g)?"image/gif":0<a.search(/\.wav$/g)?"audio/wav":0<a.search(/\.ogg$/g)?"audio/ogg":0<a.search(/\.mp3$/g)?"audio/mpeg":0<a.search(/\.mp4$/g)?"video/mp4":!1};u.oq=function(a){var b;b||(b=64);return a?"audio/mpeg"===a?S("music",b,b):"image/"===a.slice(0,6)?S("photo",b,b):"audio/"===a.slice(0,6)?S("sound",b,b):S("diaglink",b,b):S("diaglink",b,b)};u.So=function(a){return a?"audio/mpeg"===a?"musiclink":"image/"===a.slice(0,6)?"imagelink":"audio/"===a.slice(0,6)?"audiolink":
!1:!1}})();g.b.Xo=!0;g.Mb.Fg="metaBook";(function(){function a(b,c,d,h){h=h?" ("+h+")":"";if(1===arguments.length){u.kc=[];f.Gb&&e("batch setConfig %s: %s",h,b);for(var k in b)b.hasOwnProperty(k)&&a(k,b[k]);k=u.kc;u.kc=!1;1<f.Gb&&!k&&0!==k.length&&e("batch setConfig, no post processing %s",b,h);for(var l=0,m=k.length;l<m;)1<f.Gb&&e("batch setConfig%s, post processing %s",k[l]),k[l++]()}else f.Gb&&e("setConfig%s %o=%o",h,b,c),x.hasOwnProperty(b)&&x[b]===c?f.Gb&&e("Redundant setConfig%s %o=%o",h,b,c):(r[b]?(f.Gb&&e("setConfig%s (handler=%s) %o=%o",
h,r[b],b,c),r[b](b,c)):f.Gb&&e("setConfig%s (no handler) %o=%o",h,b,c),x[b]=c),d&&K[b]!==c&&(K[b]=c,q(K))}function q(h){f.Gb&&(e("saveConfig %o",h),e("saved_config=%o",K));h?a(h):h=K;var k={},l;for(l in h)d.hasOwnProperty(l)&&h[l]!==d[l]&&!c(l)&&(k[l]=h[l]);f.Gb&&e("Saving config %o",k);F("mB("+b.B+").config",JSON.stringify(k));K=k}function k(a,b){for(var c=m.r(".metabooksettings"),d=0,f=c.length;d<f;){for(var e=c[d++],e=t(e,"input[type='CHECKBOX'],input[type='RADIO']"),h=[],k=[],l=0,r=e.length,q=
!1;l<r;)q=e[l++],q.name===a&&((!0===b?/(yes|on|true)/i.exec(q.value):q.value===b)?h.push(q):k.push(q));l=0;for(r=h.length;l<r;)q=h[l++],q.checked||(J(q,".checkspan")?g.a.sa.set(q,!0):q.checked=!0);l=0;for(r=k.length;l<r;)if(q=k[l++],q.checked||"undefined"===typeof q.checked)J(q,".checkspan")?g.a.sa.set(q,!1):q.checked=!1;l=0;for(r=h.length;l<r;)q=h[l++],q.checked||(J(q,".checkspan")?g.a.sa.set(q,!0):q.checked=!0)}}var m=g.b,e=g.t,v=g.a,l=g.$a,A=g.Aa,t=m.J,y=m.dc,w=g.String.Ja,h=l.Da,c=l.ae,b=u,f=
u.da,F=b.lf,r={},d=u.Pn,x={},K={};u.ka=function(a,b){1<f.Gb&&e("Adding config handler for %s: %s",a,b);r[a]=b;x.hasOwnProperty(a)&&(1<f.Gb&&e("Applying config handler to current %s=%s",a,x[a]),b(a,x[a]))};u.Ei=function(a){return a?x[a]:x};u.nh=a;u.gD=function(){a(K)};u.tD=q;u.ct=function(){var k,m,q,r=A(),t=h("mB("+b.B+").config",!0)||l.Gi("mB("+b.B+").config",!0);u.kc=[];if(t)for(k in f.Gb&&e("initConfig local=%j",t),t)t.hasOwnProperty(k)&&(c(k)?(m=c(k),q="initConfig/QUERY"):(m=t[k],q="initConfig/local"),
a(k,m,!1,q),u.fd(k,m));else t={};f.Gb&&e("initConfig default=%j",d);for(k in d)!d.hasOwnProperty(k)||t.hasOwnProperty(k)||c(k)||(y("METABOOK."+k)?(m=y("METABOOK."+k),q="initConfig/HTML"):(m=d[k],q="initConfig/appdefaults"),a(k,m,!1,"initConfig/HTML"),a(k,m,!1,q),u.fd(k,m));k=u.kc;u.kc=!1;m=0;for(q=k.length;m<q;)k[m++]();(k=x.qy)&&!w(k)&&(u.qi=k);1<f.n&&e("initConfig took %dms",A()-r)};var J=m.getParent,G=m.la;u.vF=function(b,c,d){"undefined"===typeof d&&(d=!1);c="string"===typeof c&&document.getElementById(c)||
c.nodeType&&J(c,"input")||c.nodeType&&G(c,"input")||c.nodeType&&G(c,"textarea")||c.nodeType&&G(c,"select")||c;f.Gb&&e("Update config %s",b);"radio"===c.type||"checkbox"===c.type?a(b,c.checked||!1,d,"updateConfig/checked"):a(b,c.value,d,"updateConfig/input")};u.WC=function(a,b){u[a]=b};u.ka("keyboardhelp",function(a,b){u.Ti=b;v.sa.set(document.getElementsByName("METABOOKKEYBOARDHELP"),b)});u.ka("devicename",function(a,b){w(b)?u.qi=!1:u.qi=b});u.ka("holdmsecs",function(a,b){u.wd=b;v.D.Hg.wd=b});u.ka("wandermsecs",
function(a,b){u.Zv=b;v.D.Hg.xq=b});u.ka("taptapmsecs",function(a,b){u.Lc=b;v.D.Hg.Lc=b});u.ka("checksync",function(a,b){u.eg=b;u.qe&&(clearInterval(u.qe),u.qe=!1);b&&u.hc&&(u.qe=setInterval(u.nm,1E3*b))});u.ka("synctimeout",function(a,b){u.$p=b});u.ka("syncpause",function(a,b){u.FE=b});u.ka("locsync",function(a,b){!b&&u.qe?(clearInterval(u.qe),u.qe=!1):b&&!u.qe&&u.eg&&(u.qe=setInterval(u.nm,1E3*u.eg));u.hc=b;g.va(function(){u.fd(a,b)})});u.ji=function(b){b=b||window.event;b=v.c(b);var c=b.name,d=
b.value,f=x[c];b.checked&&f===d||(b.checked?a(c,d,!0,"configChange"):"checkbox"===b.type&&a(c,"",!0,"configChange"))};u.jr=function(a,b){b||(b=a);for(var c=y(b,!0),d=0,f=c.length;d<f;)m.h(m.r(c[d++]),a)};u.fd=k;u.ht=function(){var a=A(),b;for(b in x)x.hasOwnProperty(b)&&k(b,x[b]);1<f.n&&e("Finished initSettings in %dms",A()-a)}})();(function(){function a(a){var f;if(a){f="string"===typeof a?d(r(f))||u.content:a;for(var e=f.fa||f.id,h=u.p[e];h&&!h.fc;)h=h.head,e=h.s,f=r(e);1<K.ee&&h?w("metaBook.setHead #%s %o from %o info=%o:\n%j",e||"none",f,a,h,h):K.ee&&w("metaBook.setHead #%s %o from %o",e||"none",f,a);f===u.head?K.target&&w("Redundant SetHead"):h?(K.target&&u.trace("metaBook.setHead",f),window.title=h.title+" ("+document.title+")",u.head&&c(u.head,"bookhead"),b(f,"bookhead"),u.ph(u.location),u.head=r(e),u.Lm.zj(h)):(K.target&&
u.trace("metaBook.setFalseHead",f),u.Lm.zj(!1),u.head=!1)}}function q(a,b){if(b||u.location!==a){K.Tj&&w("Setting location to %o",a);for(var c=u.Gm(u.head);c;){var d=document.getElementById("MBTOC4"+c.s),f=c.head,e=c.H,h=c.R,f=100*(a-e)/(f&&f.R-f.H),k=!1;d&&(k=A.el(d,".mbtoc_posbar"));K.Tj&&w("For tocbar %o/%o loc=%o start=%o end=%o progress=%o",k,!1,a,e,h,f);0<=f&&100>=f&&k&&(k.style.width=f+"%");c=c.head}u.location=a}}function k(a){K.target&&u.trace("metaBook.setTarget",a);if(a!==u.target&&(!u.target||
u.target.id!==a.fa)){if(u.target){var d=u.target,f=J(d.id);c(d,"mbtarget");c(d,"mbnewtarget");c(f,"mbtarget");c(f,"mbnewtarget");F(d,a)||m(f);u.target=!1}if(!a)u.a.Oa&&u.a.Oa(!1);else if(!e(a)&&(a.id||a.fa)){var f=(d=a.fa||a.id)&&r(d)||a,h=J(d);b(a,"mbtarget");b(a,"mbnewtarget");b(h,"mbtarget");b(h,"mbnewtarget");setTimeout(function(){c(a,"mbnewtarget");c(h,"mbnewtarget")},3E3);y.Gp("mbtarget",d||a.getAttribute("data-bookid"));u.target=f;u.a.Oa&&u.a.Oa(f);u.ua&&u.Fp(u.ua,f)}}}function m(a){"string"===
typeof a&&(a=r(a));if(a)if(a.length){c(a,"mbhighlightpassage");for(var b=0,d=a.length;b<d;){var f=a[b++];h.Pc.clear(f,"mbhighlightexcerpt");h.Pc.clear(f,"mbhighlightsearch")}}else c(a,"mbhighlightpassage"),h.Pc.clear(a,"mbhighlightexcerpt"),h.Pc.clear(a,"mbhighlightsearch")}function e(a){if(a.Ze||F(a,u.jb))return!0;for(;a;){if(a.Ze||f(a,E))return!0;a=a.parentNode}return!1}function v(a){for(var b=!1,c=0,d=A.forward;a&&200>c&&(!(b=a.fa||a.id)||!u.p[b]);)c++,a=d(a);return b&&u.p[b]?(a=u.p[b],{start:a.H,
end:a.R,oB:a.R-a.H}):!1}function l(a){for(var b=u.p.Wm,c=0,d=b.length;c<d;)if(b[c].H<a)c++;else break;for(;c<d&&!(b[c].H>a);)c++;return r(b[c-1].s)}var A=g.b,t=g.String,y=g.$a,w=g.t,h=g.a,c=A.l,b=A.h,f=A.L,F=A.cb,r=u.I,d=u.no,x=u.Ue,K=u.da,J,G,D;u.ul.push(function(){J=u.ab;G=u.Cd;D=u.Vu});u.zj=a;u.ph=q;u.Dt=function(a){var b=u.R;a=100*a/b;100<a&&(a=100);b=Math.round(Math.log(b/40)/Math.log(10))-2;0>b&&(b=0);return Math.floor(a)===a?Math.floor(a)+"%":t.ip(a,b)+"%"};u.Oa=k;u.rd=m;u.wi=function(a,b,
c){"string"===typeof a&&(a=r(a));if(!a)return!1;a.nodeType&&(a=J(a));var d=t.trim(b),f=0===d.search(/[.,"']/)?"(^|\\s)":"\\b",e=0<d.search(/[.,"']$/)?"($|\\s)":"\\b";b=A.fq(d,!1,!0,f,e);var h=A.Se(a,b,c||0,1);h&&0!==h.length||(b=A.fq(d,!0,!0,f,e),h=A.Se(a,b,c||0,1));if(h&&h.length)return h[0];d=!1;f=-1;for(h=A.Se(a,b,0,1);0<h.length;){h=h[0];if(h.Wp>c)return 0>f?d:c-f<d.Wp-c?d:h;d=h;f=h.Wp;h=A.Se(a,b,h.endOffset+1,1)}return h&&h.length?h[0]:d};var E=/(\bhud\b)|(\bglossmark\b)|(\bleading\b)/;u.JA=
e;u.ZD=function(a){var b=a.fa||a.id;b&&window.location.hash!==b&&("#"!==window.location.hash[0]||window.location.hash.slice(1)!==b)&&a!==u.body&&a!==document.body&&b&&(window.location.hash=b)};u.qo=v;u.iD=l;u.Ab=function(b,c,d,f,h){"undefined"===typeof d&&(d=!0);"undefined"===typeof f&&(f=!0);var m,t;f&&u.wc();if(b){if("string"===typeof b)m=r(b),t=v(m),t=t.start;else if("number"===typeof b)t=b,m=d&&(d.nodeType&&d.id?d:l(b));else if(b.target&&(b.location||b.offset))m=x(b.target),b.location?t=b.location:
(t=v(b.target),t=t.start+b.offset);else if(b.nodeType)m=x(b),t=v(b),t=t.start;else{w.warn("Bad metabookGoTo %o",b);return}d&&d.nodeType?m=d:"string"===typeof d&&r(d)&&(m=r(d));var y=m&&u.p[m.getAttribute("data-baseid")||m.id];t&&y&&y.R&&y.H&&(t>y.R||t<y.H)&&(t=!1);var E=u.Tc&&u.j&&u.Qf(m,t),J=E&&parseInt(E.getAttribute("data-pagenum"),10);u.da.ee&&w("mB.GoTo(%s%s%s%s%s) %o location=%o page=%o pageno=%d arg=%o",c||"",c?":":"",d?"t":"",f?"s":"",h?"":"h",m,t?t:"none",E,J,b);if(m)b=m.fa||m.id,K.ee&&w("metaBook.GoTo%s() #%o@P%o/L%o %o",
c?"/"+c:"",b,J,y&&y.H,m),y&&(u.lu=m,u.U||u.mode||(u.La=!1)),a(m),q(t),d&&b&&!e(m)&&k(m),f&&d?u.Cd({target:m.getAttribute("data-baseid")||m.id,location:t,page:J,Hl:u.Wb},h):f?u.Cd({location:t,page:J,Hl:u.Wb},h):h||D({target:m.getAttribute("data-baseid")||m.id,location:t,page:J,Hl:u.Wb}),E?u.rc(E,c||"metabookGoTo",!1,!0):(u.N&&u.na(c?"goto/"+c:"goto",m),c=A.mb(m,u.content).top-(A.zb()-50)/2,0>c&&(c=0),window.scrollTo(0,c)),u.Cg&&u.Cg(),u.location=t;else{if(u.j instanceof g.Mb)u.rc(b,c,f);else if(b.nodeType){for(c=
b;c&&!c.offsetTop;)c=c.parentNode;c&&(u.content.style.offsetTop=-c.offsetTop)}u.Ua?G({location:u.location,page:u.Ua,Hl:u.Wb},!0):G({location:u.location},!0)}}else w.warn("falsy arg (%s) to metabookGoTo from %s",b,c)};u.Xw=function(a){for(var b=h.c(a);b&&!b.href;)b=b.parentNode;b&&b.href&&"#"===b.href[0]&&(b=r(b.href.slice(1)))&&(u.Ab(b,"anchorFn"),h.cancel(a))};u.Jh=function(a){u.U&&u.q(!1);u.Ab(a,"JumpTo")};u.Gq=function(a){a&&u.Ab(a,"GoTOC")}})();u.Dq=function(){function a(h,c,b){function f(a,c){if(b[a])return b[a];y.call(this,a,C);var d=v();this.ja=this.vc=d;C.bc.push(this);C.W=d;this.s=a;b[a]=this;c.wg.push(this);c.zl.push(c.location);return this}function F(a,b){var c="undefined"===typeof b;b||(b="");if(3===a.nodeType)return b+a.nodeValue;if(1===a.nodeType){var d=G(a).position;if(c||""===d||"static"===d)for(var c=a.childNodes,d=0,f=c.length;d<f;){var e=c[d++];3===e.nodeType?b+=e.nodeValue:1===e.nodeType&&(b=F(e,b))}}return b}function r(a){if(3===
a.nodeType)return a.nodeValue.length;if(1!==a.nodeType)return 0;if(a.getAttribute("data-loclen"))return parseInt(a.getAttribute("data-loclen"),10);a=a.childNodes;for(var b=0,c=0,d=a.length;c<d;){var f=a[c++];3===f.nodeType?b+=f.nodeValue.length:1===f.nodeType&&(b+=r(f))}return b}function d(a){var b=!1;if((0===a.tagName.search(/p|h\d|blockquote|li/i)||0===G(a).display.search(/block|list-item|table|table-row/))&&a.childNodes&&a.childNodes.length&&(b=K(a))){var c="WSN_"+b,b=c,d=1;if("WSN_"!==c){for(;P[b]||
document.getElementById(b);)b=c+"_"+d++;c!==b&&(c=A.Kb(a),l.warn("Duplicate WSN ID %s: %s",b,c));a.id=b;P[b]=a;return b}}}function x(a,b,c){var d=b.location,e=b.Dg,h=b.Xd,m=b.Eg;E||(E=q.un);b.Gl++;if(3===a.nodeType)c=J(a.nodeValue).length,b.location+=c;else if(1===a.nodeType){var t=a.tagName,y=a.className,v=a.id;v&&0===v.search(E)||(v=a.getAttribute("data-tocid")||a.id);if(!(u.Tf&&u.Tf.match(a)||D&&a.namespaceURI!==D||y&&("string"!==typeof y||0<=y.search(/\b(metabookignore)\b/))||a.Ze||v&&0===v.search("METABOOK"))){3<
k.td&&l("Scanning %o level=%o, loc=%o, head=%o: %j",a,m,d,e,h);if(!v&&!E)O.push(a);else if(v)if(P[v])if(P[v]!==a){d=v+"x"+b.location;if(P[v]){for(var n=1,M=d+"x"+n;P[M];)n++,M=d+"x"+n;d=M}l.warn("Duplicate ID=%o newid=%o",v,d);v=a.id=d;c[d]||(c[d]=new f(d,b));P[d]=a}else P[v]=a;else P[v]=a;M=0;if((d=a.OB||a.getAttribute("data-tocloc"))&&c[d]){y=c[d];m=b.Eg;e=b.Dg;h=b.Xd;d=b.df;y=y.head;b.Xd=y;b.Dg=y.Sb||document.getElementById(y.s);b.Eg=y.fc;b.df=!0;a=a.childNodes;M=0;for(y=a.length;M<y;)n=a[M++],
1===n.nodeType&&x(n,b,c);b.Eg=m;b.df=d;b.Dg=e;b.Xd=h}else{d=w(a,m);n=!1;d&&!v&&O.push(a);v&&!(n=c[v])&&(W.push(v),n=new f(v,b),c[v]!==n&&window.alert("Wrong"),c[v]=n,n.Sb=a);if(b.df||"header"===t)b.df=!0,d=0;b.vi++;n&&v&&a.id&&a.id!==v&&(n.Db(a.id),c[a.id]=n);n&&(n.H=b.location,n.An=e.getAttribute("data-tocid")||e.id,n.Li=h.H);v&&n&&!L&&(u.start=L=a);n&&d&&!n.Lb&&(n.Lb=d);v&&n&&(M=a.getAttribute("tags")||a.getAttribute("data-tags"))&&(n.zk=M.split(","));if(!(y&&y.search&&0<=y.search(/\b(sbook|pubtool)ignore\b/)||
u.Tf&&u.Tf.match(a))){if(v&&d){t=v;M=d;v=m;m=c[t]||(c[t]=new f(t,b));b.Ji++;z.push(t);1<k.td&&l("Scanning head item %o under %o at level %d w/id=#%s ",a,e,M,t);m.H=b.location;m.fc=M;m.Sb=a;m.sub=[];m.s=t;t=a.Dv||a.getAttribute("toctitle")||a.getAttribute("data-toctitle")||a.title;if(!t){var B=A.el(a,"H1,H2,H3,H4,H5,H6");B&&(t=B.Dv||B.getAttribute("toctitle")||B.getAttribute("data-toctitle")||B.title);t=!t&&B?F(B):F(a)}"string"===typeof t?(t=J(t),t=""===t?!1:t):t=A.Kb(t,!0);m.title=t;m.next=!1;m.cd=
!1;m.Yl=m.title?"\u00a7"+J(m.title):"\u00a7Anonymous Section";if(M>v)m.head=h,m.We("head",h),h.kt||(h.kt=b.location),h.sub.push(m),b.Go===M&&(m.cd=b.xl,b.xl.next=m,delete b.Go,delete b.vt,delete b.xl);else{v=h;for(h=h.fc;v;){2<k.td&&l("Finding head@%d: s=%o, i=%j, sh=%o, cmp=%o",h,e||!1,v,h<M);if(!h||h<M)break;else if(v===V)break;else if(v.head&&v.head.fc&&v.head.fc>=h){l.warn("Corrupted TOCINFO at %o",a);break}else M===h&&(m.cd=v,v.next=m);v.R=b.location;b.dq=b.dq.slice(0,-1);v=v.head;e=v.Sb||document.getElementById(v.s);
h=v?v.fc:0}2<k.td&&l("Found parent: up=%o, info=%o, leel=%d, sh=%o",e||!1,v,v.fc,v.head);m.head=v;m.We("head",v);v.sub.push(m)}h=m.head;e=[];h.Ki&&(e=e.concat(h.Ki));h&&e.push(h);m.Ki=e;m.We("heads",e);2<k.td&&l("@%d: Found head=%o, headinfo=%o, book_head=%o",b.location,a,m,m.head);b.Dg=a;b.Xd=m;b.Eg=M;m&&(m.R=b.location+r(a));b.location+=r(a)}else n&&(n.head=h,n.We("head",h));if(n&&(m=a.getAttribute("data-altid")))for(m=m.split(" "),h=0,e=m.length;h<e;)M=m[h++],c[M]||(n.Db(M),c[M]=n);if(y&&y.search&&
0<=y.search(/\b(sbook|pubtool)terminal\b/)||y&&u.eq&&u.eq.match(a))b.location+=r(a);else for(m=a.childNodes,M=0,y=m.length;M<y;)h=m[M++],3===h.nodeType?(h=J(h.nodeValue),b.location+=h.length):1===h.nodeType&&x(h,b,c);n&&(n.R=b.location);d&&(b.vt=a,b.xl=n,b.Go=d)}}}}}var K=g.Pq.Jt,J=m.rf,G=A.Ac,D=h.namespaceURI,E=q.un,P={},O=[];if("undefined"===typeof h)return this;b||(b=this instanceof a?this:new a);h||(h=u.Nf||document.body);var L=new Date,z=[],W=[];b.Gw=h;b.Cw=z;b.Ew=W;h.id||(h.id="METABOOKROOT");
if(1<k.n||k.td)h.id?l("Scanning %s#%s for structure and metadata",h.tagName,h.id):l("Scanning DOM for structure and metadata: %o",h);var M=h.childNodes,Q={Eg:0,EA:0,location:0,Gl:0,vi:0,Ji:0,dq:[],RE:[],wg:[],zl:[],DA:P,GA:{prefix:!1,count:0},FA:[{prefix:!1,count:0}],IC:u.Zd},C=new t(c);f.prototype=new y;f.prototype.d=f.prototype.Ha=f.prototype.m=f.prototype.s=f.prototype.ja=f.prototype.vc=f.prototype.H=f.prototype.R=f.prototype.head=f.prototype.Li=f.prototype.Sb=f.prototype.title=f.prototype.An=
!1;C.ie=f;b.Aw=C;var V=b[h.id]||(b[h.id]=new f(h.id,Q));Q.Dg=h;Q.Xd=V;V.title=h.title||document.title;V.H=0;V.fc=0;V.sub=[];V.head=!1;V.Ki=[];V.s=h.id;V.Sb=h;Q.wg.push(V);Q.wg.push(0);for(c=0;c<M.length;){var ba=M[c++];ba.xD||ba.Ze||x(ba,Q,b)}b.br=Q.Gl;b.Wq=Q.Ji;b.Vq=Q.vi;b.qk=Q.location;b.Wm=Q.wg;b.Zq=Q.zl;for(M=Q.Xd;M;)M.R=Q.location,M=M.head;M=new Date;(k.n||k.td)&&l("Gathered metadata in %f secs over %d heads, %d nodes",(M.getTime()-L.getTime())/1E3,Q.Ji,Q.vi);b.dn=function(a){x(a,Q,b);b.br=Q.Gl;
b.Wq=Q.Ji;b.Vq=Q.vi;b.qk=Q.location;b.Wm=Q.wg;b.Zq=Q.zl;for(a=Q.Xd;a;)a.R=Q.location,a=a.head};O.length&&e.xb(d,O);b.Hw=b[h.id];return b}var q=u,k=q.da,m=g.String,e=g.va,v=g.Aa,l=g.t,A=g.b,t=g.tb,y=t.Rc,w=u.uo;a.prototype.toJSON=function(){var a={constructor:"metaBook.DOMScan",s:this.s,head:this.An,start:this.H,end:this.R};this.Om&&(a.Om=this.Om);this.Li&&(a.Li=this.Li);this.Lb&&(a.Lb=this.Lb);this.title&&(a.title=this.title);return JSON.stringify(a)};a.uo=w;return a}();(function(){function a(a){return new Promise(function(b,c){if(0===a.search(f.tr)){if(r[a])return b(r[a]);if("cached"!==d[a])if(d[a])x[a]?x[a].push(b):x[a]=[b];else{d[a]="fetching";var h=new XMLHttpRequest,k,l;J&&K?(k=a,l="blob"):(k="https://glossdata.bookhub.io/U/"+a.slice(29),l="");var m=f.X;m&&(k=k+"?MYCOPYID="+encodeURIComponent(m)+"&DOC="+encodeURIComponent(f.xc));F.Yc&&A("Fetching glossdata %s (%s) to cache locally",a,l);h.onreadystatechange=function(){if(4===h.readyState&&200===h.status)try{var f=
!1,m=!1;F.Yc&&A("Glossdata from %s (%s) status %d",k,l||"any",h.status);"blob"!==l?m=f=h.responseText:f=K?K(h.response):!1;f&&e(a,f,b);if(m)d[a]="caching",v(a,m);else{var q=new FileReader(h.response);d[a]="reading";q.onload=function(){try{f||e(a,q.result,b),d[a]="caching",v(a,q.result)}catch(c){A.warn("Error encoding %s from %s: %s",a,k,c),d[a]=!1}};q.readAsDataURL(h.response)}}catch(r){A.warn("Error fetching %s via %s: %s",a,k,r),d[a]=!1,c&&c(r)}else 4===h.readyState&&(A.warn("Error (%d) fetching %s via %s",
h.status,a,k),d[a]=!1,c&&c(h))};h.open("GET",k);h.responseType=l;h.send(null)}}})}function q(b){if(!r[b]&&"cached"!==d[b]){if(navigator.onLine)return f.X&&f.af<new Date?a(b).catch(function(){k(b)}):f.so().then(function(c){if(c)return a(b).catch(function(a){A("Couldn't cache %s: %o",b,a);k(b)});k(b)}).catch(function(){k(b)});0===D.length&&g.b.addListener(window,"online",m);0>D.indexOf(b)&&D.push(b)}}function k(a){D.push(a);G||(G=setTimeout(m,6E4))}function m(){if(navigator.onLine&&D.length){G&&(clearTimeout(G),
G=!1);var a=D;D=[];for(var b=0,c=a.length;b<c;)q(a[b++])}}function e(a,b,c){var d,e=f.hm[a],h=x[a];f.hm[a]=!1;x[a]=!1;r[a]=b;c&&c(b);if(e)for(c=0,d=e.length,F.Yc&&A("Setting glossdata src for %d element(s)",d);c<d;)e[c++].src=b;if(h){c=0;for(d=h.length;c<d;)h[c++](b);f.hm[a]=!1}}function v(a,b){var e="gD("+a+").glossdata";u.dl().then(function(e){e=e.transaction(["glossdata"],"readwrite").objectStore("glossdata").put({url:a,Ir:b});var h=!1;e.onerror=function(b){d[a]=!1;h=!0;A("Error saving %s in indexedDB: %o",
a,b.target.errorCode)};e.onsuccess=function(){d[a]="cached";h=!0;F.Yc&&A("Saved glossdata for %s in IndexedDB",a);F.Yc&&A("GlossData cached for %s",a);c("mB("+f.B+").glossdata",a)};if("done"===e.status&&!h)e.onsuccess()}).catch(function(){y(e,b)})}function l(a,c){new Promise(function(d){u.dl().then(function(f){f.transaction(["glossdata"],"readwrite").objectStore("glossdata").openCursor().onsuccess=function(f){var e=f.target.result;if(e)if(0<=a.indexOf(e.key))f=e["delete"](),f.onsuccess=function(){b(c,
e.key);e["continue"]()},f.onerror=function(){e["continue"]()};else e["continue"]();else d()}})})}var A=g.t,t=g.$a,y=t.lc,w=t.Da,h=t.Ib,c=t.np,b=t.sp,f=u,F=u.da,r=u.Yc,d={},x={},K=window.URL&&window.URL.createObjectURL||window.webkitURL&&window.webkitURL.createObjectURL,J=window.Blob;u.bv=function(){for(var a=w("mB("+f.B+").glossdata",!0),b=0,c=a.length;b<c;)d[a[b++]]="cached"};var G=!1,D=[];u.Rt=q;u.ts=function(b){function c(d,e){f.X&&f.af<new Date?setTimeout(function(){a(b).then(d).catch(e)},2E3):
f.so().then(function(c){c?setTimeout(function(){a(b).then(d).catch(e)},2E3):e(Error("Couldn't get MYCOPYID"))}).catch(e)}return new Promise(function(a,f){if(r[b])a(r[b]);else return"cached"===d[b]?u.dl().then(function(h){h=h.transaction(["glossdata"],"readwrite").objectStore("glossdata").get(b);h.onsuccess=function(h){if(h=h.target.result)e(b,h.Ir,a);else return A("Corrupted local glossdata cache for %s",b),d[b]=!1,c(a,f)};h.onerror=function(e){A("Error getting %s from glossdata cache: %s",b,e);d[b]=
!1;return c(a,f)}}).catch(f):c(a,f)})};u.Ar=function(a){a="mB("+a+").glossdata";var b=w(a,!0);b&&b.length?l(b,a):h(a)}})();(function(){function a(){t("Executing %s",G.value);var a=eval(G.value),a=a.nodeType?y("%o",a):y("%j",a);t("Result is %s",a)}function q(b){1<x.lz&&t("consolebutton_click %o",b);a()}function k(b){b=b||window.event;13!==b.keyCode||b.ctrlKey||(w.cancel(b),a(),b.shiftKey&&(G.value=""))}function m(a){a.id&&0===a.id.search("METABOOK")&&a.removeAttribute("style");if(a.childNodes){a=a.childNodes;for(var b=0,c=a.length;b<c;){var d=a[b++];1===d.nodeType&&m(d)}}}function e(a,b){for(var c=E(a.childNodes),d=0,
f=c.length;d<f;){var e=c[d++];if(1===e.nodeType&&(e.id===b.id||e.id===b.id+"HOLDER")){a.replaceChild(b,e);return}}a.appendChild(b)}function v(a){var b=w.c(a),d=c("METABOOKCOVER");u.Hd&&(g.we.close(u.Hd),u.Hd=!1);if(!g.a.Vf(b)){if(r(b,c("METABOOKCOVERCONTROLS")))return l(a,b,d);r(b,".scrolling")||(u.wc(),u.Zc(),w.cancel(a))}}function l(a,b,d){for(;b&&b!==document.body&&!b.getAttribute("data-mode");)b=b.parentNode;var f=b.getAttribute("data-mode");"layers"!==f||c("BOOKHUBAPP").src||u.yk||u.Do();var e=
d.className,h=e&&P[e]&&c(P[e]),k=f&&P[f]&&c(P[f]);h&&k&&(h.style.display="block",k.style.display="block",setTimeout(function(){h.style.display="";k.style.display=""},3E3));setTimeout(function(){x.mode&&t("On %o, switching cover mode to %s from %s",a,f,e);"console"===f&&t.update();d.className=f;u.mode=f},20);g.a.cancel(a);return!1}var A=g.b,t=g.t,y=g.String,w=g.a,h=g.Aa,c=g.I,b=A.l,f=A.h,F=A.L,r=A.cb,d=A.J,x=u.da,K=u.Wk,J=A.ol,G=!1,D=!1;u.$u=function(){var a=c("METABOOKFRAME"),b=h(),l=A("div#METABOOKCOVER.metabookcover"),
r=c("METABOOKCOVER");2<x.n&&t("Setting up cover");a||(a=A("div#METABOOKFRAME"),A.gb(document.body,a));u.Em=a;u.ki=l;l.innerHTML=K(u.V.ki);var y=c("METABOOKCOVERPAGE");y?J(y,!0)||(y.removeAttribute("style"),y=!1):u.Kf?(y=A.Image(u.Kf),y.id="METABOOKCOVERIMAGE",y=A("div.flap#METABOOKCOVERPAGE",y)):y=!1;if(y)l.setAttribute("data-defaultclass","coverpage"),f(l,"coverpage"),e(l,y);else{var w=g.b.la(l,"#METABOOKCOVERCONTROLS");l.setAttribute("data-defaultclass","titlepage");f(l,"titlepage");f(w,"nocoverpage")}(w=
c("METABOOKTITLE"))&&J(w,!0)?(w=w.cloneNode(!0),w.removeAttribute("style"),w.id="METABOOKTITLE"):(w=c("METABOOKTITLEPAGE")||c("PUBTOOLTITLEPAGE")||c("TITLEPAGE"))?(w=w.cloneNode(!0),A.l(w,/\b(codex|metabook)[A-Za-z0-9]+\b/),A.h(w,"sbooktitlepage"),A.th(w),w.setAttribute("style",""),w.id="METABOOKTITLE"):(w=u.ns(),w=A("div#METABOOKTITLE.flap",A("DIV.title",w.title),A("DIV.credits",w.En?A("DIV.byline",w.En):w.Bk&&w.Bk.length?A("DIV.author",w.Bk[0]):!1),A("DIV.pubinfo",w.mp&&A("P",w.mp))));w&&e(l,w);
if(w=c("METABOOKCREDITS"))w=w.cloneNode(!0);else if(w=c("METABOOKCREDITS")||c("SBOOKSCREDITSPAGE")||c("CREDITSPAGE"))w=w.cloneNode(!0),A.th(w),w.removeAttribute("style");if(w&&J(w,!0)){var C=l.getElementById("METABOOKCREDITS");C?C.parentNode.replaceChild(w,C):l.appendChild(w)}else w=!1;w&&e(l,w);if((C=c("METABOOKBLURB")||c("METABOOKABOUTPAGE"))&&J(C,!0))C=C.cloneNode(!0),C.id="METABOOKBLURB",C.removeAttribute("style");else var C=c("METABOOKABOUTPAGE")||c("METABOOKABOUTBOOK")||c("PUBTOOLABOUTBOOK"),
E=c("METABOOKABOUTAUTHOR")||c("PUBTOOLABOUTAUTHOR"),C=C||E?A("div#METABOOKBLURB.flap.metabookblurb.scrolling","\n",C,"\n",E,"\n"):!1;C&&e(l,C);E=A("div#METABOOKSETTINGS.flap.scrolling");E.innerHTML=K(u.V.Lp);(u.b.Lp=E)&&e(l,E);E=A("div#METABOOKAPPHELP.flap.metabookhelp.scrolling");E.innerHTML=K(u.V.Ni);E&&e(l,E);E=u.b.console=A("div#METABOOKCONSOLE.flap.metabookconsole.scrolling");2<x.n&&t("Setting up console %o",E);E.innerHTML=K(u.V.console);u.b.TA=G=A.la(E,"TEXTAREA");u.b.SA=D=A.la(E,"span.button");
D.onclick=q;G.onkeypress=k;E&&e(l,E);var E=A("div#METABOOKLAYERS.flap"),F=A("iframe#BOOKHUBAPP");F.setAttribute("frameborder",0);F.setAttribute("scrolling","auto");E.appendChild(F);u.b.wD=F;E&&e(l,E);if(E=d(l,"#METABOOKCOVERCONTROLS"))y||f(E,"nobookcover"),w||f(E,"nocredits"),C||f(E,"noblurb");u.ca?A.addListener(l,"touchstart",v):A.addListener(l,"click",v);m(l);r&&r.parentNode===a?a.replaceChild(l,r):(a.appendChild(l),r&&r.parentNode.removeChild(r));u.qh();u.CSS.oA=A.De("#METABOOKCOVER","opacity: 0.0; z-index: -10; pointer-events: none; height: 0px; width: 0px;");
1<x.n&&t("Cover setup done in %dms",h()-b)};var E=A.Jd;u.wu=function(a){a||(a=c("METABOOKCOVER"));if(a){var b=c("METABOOKFRAME"),d=a.style,b=b.style,f=0;a.offsetHeight||(f=1,d.zIndex=-500,d.visibility="hidden",d.opacity=0,d.display="block",d.height="100%",d.width="100%",b.display="block");a=c("METABOOKCOVERCONTROLS");var e=c("METABOOKUSERBOX");A.Df(a);A.Df(e);(a=c("METABOOKTITLE"))&&!F(a,/\b(adjustfont|fdjtadjustfont)\b/)&&A.Df(a);f&&(d.zIndex="",d.display="",d.opacity="",d.visibility="",b.display=
"")}};var P={coverpage:"METABOOKCOVERPAGE",titlepage:"METABOOKTITLE",creditspage:"METABOOKCREDITS",blurb:"METABOOKBLURB",help:"METABOOKAPPHELP",settings:"METABOOKSETTINGS",layers:"METABOOKLAYERS"};u.ka("showconsole",function(a,d){var e=document.documentElement||document.body;d?f(e,"_SHOWCONSOLE"):b(e,"_SHOWCONSOLE");(e=c("METABOOKCOVERCONTROLS"))&&A.Df(e);g.va(function(){u.fd(a,d)})})})();(function(){var a=g.b,q=g.t,k=g.I,m=g.Aa,e=a.l,v=a.h,l=a.mb,A=a.J,t=a.la,y=a.Jd,w=g.String.Ja,h=u.da,c=u.jr,b=1,f=u.Wk;u.Co=function(){var l=document.body,r=m(),d=k("CODEXCONTENT"),x=d||a("div#CODEXCONTENT"),K,J;2<h.n&&q("Starting initBody");v(x,"metabookcontent");v(x,"codexroot");l.setAttribute("tabindex",1);l.style.fontSize="";l.style.width="";u.content=x;var G=k("METABOOKNOTES")||a("div.metabookbackmatter#METABOOKNOTES");c("htmlbooknote");c("htmlbooknote","METABOOK.booknotes");v(a.r("span[data-type='footnote']"),
"htmlbooknote");var D=A(x,".htmlbooknote");K=0;for(J=D.length;K<J;){var E=D[K++],P=b++,O="METABOOKNOTE"+P,L="METABOOKNOTE"+P+"_ref",z=E.getAttribute("data-label")||""+P,W=t(E,"label")||t(E,"summary")||t(E,".html5label")||t(E,".html5summary"),P=a.Gh("#"+O,"A.mbnoteref.htmlnoteref",W?W.cloneNode(!0):z),z=a.Gh("#"+L,"A.htmlackref",W?W.cloneNode(!0):z);P.id=L;a.replace(E,P);e(E,"booknote");E="SPAN"===E.tagName?a("div.booknotebody",z,y(E.childNodes)):a("div.booknotebody",z,E);E.id=O;a.append(G,E,"\n")}if(!d){d=
[];D=l.childNodes;K=0;for(J=D.length;K<J;)d.push(D[K++]);for(K=0;K<J;)D=d[K++],1!==D.nodeType?x.appendChild(D):D.id&&0===D.id.search("METABOOK")||/(META|LINK|SCRIPT)/gi.test(D.tagName)||x.appendChild(D)}K=/^http(s)?:\/\/([a-z]+.)?wikipedia.org\//;J=x.getElementsByTagName("A");d=0;for(D=J.length;d<D;)if(O=J[d++],(P=O.getAttribute("href"))&&"#"!==P[0]&&0===P.search(/^[a-zA-Z][a-zA-Z][a-zA-Z]+:/))E=O.className,L="extref",0!==P.search(K)||(P=g.b.Kb(O),w(P))||(O.title?0<=O.title.search(/wikipedia/i)||
(O.title="Wikipedia: "+O.title):O.title="From Wikipedia",L+=" wikiref"),O.className=E?E+" "+L:L,O.target="_blank";d=A(x,"a[rel='sbooknote'],a[rel='footnote'],a[rel='endnote']");K=0;for(J=d.length;K<J;)D=d[K++].href,a.yo(D)||(D.innerHTML="Note"),D&&"#"===D[0]&&v(k(D.slice(1)),"sbooknote");G.childNodes.length&&a.append(x,"\n",G,"\n");u.Lf=u.qs();u.cF=k("SBOOKTITLEPAGE");G=u.qb=k("METABOOKPAGES")||a("div#METABOOKPAGES");G=u.page=a("div#CODEXPAGE.metabookcontent",G);u.body=k("METABOOKBODY");u.body?u.body.appendChild(G):
(x=u.body=a("div#METABOOKBODY.metabookbody",x,G),u.Sj&&v(x,"metabookjustify"),u.wn&&v(x,"metabookcontrast"+u.wn),u.Ie&&v(x,"metabookbodysize"+u.Ie),u.If&&v(x,"metabookbodyfamily"+u.If),u.Ck&&v(x,"metabookbodyspacing"+u.Ck),l.appendChild(x));l=u.zd=a("div#METABOOKMENU");l.innerHTML=f(u.V.zd);a.gb(k("METABOOKBODY"),l);l=a("div.mbpagecontrol#MBPAGERIGHT");x=a("div.mbpagecontrol#MBPAGELEFT");G=a("div#METABOOKPAGECONTROLS",x,l);x.setAttribute("data-tapsound","METABOOKPAGEBACKWARDAUDIO");l.setAttribute("data-tapsound",
"METABOOKPAGEFORWARDAUDIO");a.gb(document.body,G);window.scrollTo(0,0);1<h.n&&q("initBody took %dms",m()-r);u.lk.Co=m()};u.bg=function(){var b=u.kv=m(),c=u.content,d=u.page,f=document.body,e=a.zb(),k=a.sb();c.style.left=d.style.left="";c.style.right=d.style.right="";f.style.overflow="hidden";u.jv();c=l(d,d.offsetParent,!0);f=a("DIV.codexpage.curpage");d.appendChild(f);var t=l(f,d,!0),d=c.Sg,y=c.ad,k=Math.floor((k-d)/2)+t.vp;a.remove(f);u.CSS.hf?(u.CSS.hf.style.width=d+"px",u.CSS.hf.style.height=y+
"px"):u.CSS.hf=a.De("div.codexpage","width: "+d+"px; height: "+y+"px;");u.CSS.wo?u.CSS.wo.style.marginRight=-k+"px":u.CSS.wo=a.De("#CODEXPAGE .glossmark","margin-right: "+-k+"px;");k=u.CSS.hv;k||(k=a.De("body.mbSHRINK #CODEXPAGE,body.mbPREVIEW #CODEXPAGE,body.mbSKIMMING #CODEXPAGE",""),u.CSS.hv=k);e=(e-150)/c.height;1<e&&(e=1);k.style[a.transform]="scale("+e+","+e+") translateZ(0)";document.body.style.overflow="";1<h.n&&q("Content sizing took %dms",m()-b)}})();(function(){function a(a,b){a||(a=u.Th||window.Uh);if(a){if(1<E.n||E.$c)a.ar?c("Processing provided index of %d keys and %d refs",a.ar,a.Fw):c("Processing provided index");D.Rv(a,b)}else b&&b()}function q(){(E.$c||E.n)&&c("Content indexing is completed");u.tg?k():u.Ml=k}function k(){var a=Math.max(E.n,E.cc),k=u.vg,l=u.ua,q=u.Ea,r=u.om||b("METABOOKTAGLIST");r||(r=u.om=g.b("datalist#METABOOKTAGLIST"),document.body.appendChild(r));var x=u.Pu||b("METABOOKSEARCHLIST");x||(x=u.Pu=g.b("datalist#METABOOKSEARCHLIST"),
document.body.appendChild(x));var t=zb.wl;f();u.Re.hb=[].concat(u.w.Ta).concat(u.Zd.Ta);var y=u.MD=u.Re.cl(),v=u.Re.vh;a&&c("Setting up initial tag clouds for %d tags",y.length);K(document.body,"mbINDEXING");h(l.f,h("div.cloudprogress","Cloud Shaping in Progress"));K(l.f,"working");h(q.f,h("div.cloudprogress","Cloud Shaping in Progress"));K(q.f,"working");d.xb(function(a){if(a instanceof Ab){var b=k(a,l,u.$,v,v,!1);"\u00a7"!==a.d[0]&&(r.appendChild(t(a)),x.appendChild(t(a)),a.Ch||(K(b,"cue"),k(a,
q)))}else"string"!==typeof a||G(a)||(b=h("OPTION",a),b.value=a,x.appendChild(b))},y,{ym:e,slice:200,pf:20}).then(m)}function m(a){var f=u.Re,e=u.$,k=u.ua,l=u.Ea,m=b("METABOOKSEARCHLIST"),q=zb.wl,r=Math.max(E.n,E.cc);u.$.$h.slice(0,7).map(function(a){a=e.G(a);k.Di(a).map(function(a){K(a,"cue")})});r&&c("Done populating clouds with %d tags",a.length);x(document.body,"mbINDEXING");f.Wd=k;h.la(k.f,".showall")||h.gb(k.f,u.a.Hs(!0,k.values.length));d.xb(function(a){m.appendChild(q(a))},u.hg.Ff,{slice:100,
pf:20});u.Tp(k);u.Tp(l);u.Qp(k,u.vh,[]);u.Qp(l,u.vh,[])}function e(a,b,d){var f=Math.max(E.n,E.cc),e=100*b/d;"after"===a&&(1<f&&c("Added %d (%d%% of %d tags) to clouds",b,Math.floor(e),d),r.zf.Cj("METABOOKINDEXMESSAGE",e),r.zf.Bj("METABOOKINDEXMESSAGE",F("Added %d tags (%d%% of %d) to clouds",b,Math.floor(e),d)))}function v(a,b,d){"suspend"===a&&c("Processed %d/%d (%d%%) of provided tags",b,d,Math.floor(100*b/d))}function l(){for(var a=h.r(".metabooktags,.mbtags"),b=0,c=a.length;b<c;){var d=a[b++],
f=u.Ue(d),f=u.p[f.id],e=h.Kb(d),d=d.getAttribute("tagsep")||";",d=e.split(d);if(d.length)for(var e=0,k=d.length;e<k;)P(f,d[e++])}}function A(){for(var a=h.r(".metabooktag,.mbtag"),b=0,c=a.length;b<c;){var d=a[b++],f=u.Ue(d),f=u.p[f.id],d=h.Kb(d);P(f,d)}}function t(){var a=u.p,b=document.getElementsByTagName("A");if(b)for(var c=0,d=b.length;c<d;)if("tag"===b[c].rel){for(var f=b[c++],e=f;e&&!e.id;)e=e.parentNode;if(!e)break;var h=f.href,k=f.name,l=!1;k?(h=f.getAttribute("data-def")||f.getAttribute("data-def"),
f=f.title,l=h?"|"===h[0]?l+h:l+"|"+h:f?"|"===f[0]?k+f:0<f.indexOf("|")?k+"|"+f:k+"|~"+f:k):h&&(k=h.search(/[^\/]+$/),l=0>k?h:h.slice(k));l&&P(a[e.id],l)}else c++}function y(a,b){function f(a,b,d){if("suspend"===a||"finishing"===a)a=100*b/d,1<e&&c("Processed %d/%d (%d%%) inline tags",b,d,Math.floor(a)),r.zf.Cj("METABOOKINDEXMESSAGE",a),r.zf.Bj("METABOOKINDEXMESSAGE",F("Assimilated %d (%d%% of %d) inline tags",b,Math.floor(a),d))}var e=Math.max(E.n,E.cc),h=[],k=0;(1<E.n||1<E.$c)&&c("Applying inline tag attributes from content");
for(var l in a){var m=a[l];m.zk&&(k++,h.push(m))}(E.$c&&h.length||1<E.$c||1<E.n)&&c("Indexing tag attributes for %d nodes",h.length);d.xb(w,h,{ym:100<h.length&&f,Hb:function(){(1<E.$c&&h.length||24<h.length)&&c("Finished indexing tag attributes for %d nodes",h.length);b&&b()},slice:200,pf:5})}function w(a){a.zk&&P(a,a.zk);if(a.Yl){P(a,a.Yl,"tags",u.$);var b=u.$.G(a.Yl);u.Qj.set(b,u.Zd.find("head",a).length)}}var h=g.b,c=g.t,b=g.I,f=g.Aa,F=g.String,r=g.a,d=g.va,x=h.l,K=h.h,J=h.il,G=F.Ja,D=u,E=D.da,
P=u.Yh;u.Rv=function(a,b){function f(b){var c=a[b];e++;var d=[],p=b.indexOf("|"),x=b.search(/[^*~]/),n=b,z=b,y=!1,v=!1;0<p?(n=b.slice(0,p),z=b.slice(x,p)):z=n=b.slice(x);(y=k||"~"!==b[0]?u.$.Sf(b):u.$.qa(n)||u.$.qa(z))?(v=y.weight,q.set(y,v)):0<p&&(b=b.slice(p),p=b.search("|:weight="),0<=p&&(v=b.indexOf("|",p+1),v=0<=v?parseFloat(b.slice(p+9,v)):parseFloat(b.slice(p+9)),q.set(z,v)));v>r&&(r=v);v<t&&(t=v);y||(v=3>z.length?z:z.slice(0,3),l.push(z),m.hasOwnProperty(v)?m[v].push(z):m[v]=[z]);v=0;b=c.length;
for(h+=b;v<b;){var p=c[v++],w="string"===typeof p?p:p[0];if(x=u.p[w]){if("string"!==typeof p){var S=x.Ui,A=y?y.o||y.K():z;x.Ui?(w=S[A])||(S[A]=w=[]):(S=x.Ui={},S[A]=w=[]);S=1;for(A=p.length;S<A;)w.push(p[S++])}d.push(x)}else u.Mt.push(w)}P(d,y||n)}var e=0,h=0,k=!1,l=u.Ff,m=u.pu,q=u.Qj,r=u.bq,t=u.cq,p=Math.max(E.n,E.$c),y=[];if(a){for(var w in a)"_"!==w[0]&&a.hasOwnProperty(w)&&y.push(w);1E3>y.length&&(k=!0);K(document.body,"mbINDEXING");d.xb(f,y,{ym:100<y.length&&1<p&&v,slice:200,pf:10}).then(function(a){c("Book index links %d keys to %d refs",
e,h);x(document.body,"mbINDEXING");u.bq=r;u.cq=t;return b?b():a})}else b&&b()};u.bx=y;u.cv=function(d){(1<E.n||1<E.$c)&&c("Finding and applying Technorati-style tags");t();(1<E.n||1<E.$c)&&c("Finding and applying tag elements from body");A();l();y(d);if(d=u.Th||window.Uh)a(d,q),u.Th=!1,window.Uh=!1;else if(b("PUTBOOLAUTOINDEX"))d=b("PUBTOOLAUTOINDEX"),h.addListener(d,"load",function(){a(!1,q);u.Th=!1;window.Uh=!1});else if(d=J("PUBTOOL.bookindex")){var f=document.createElement("SCRIPT");f.setAttribute("src",
d);f.setAttribute("language","javascript");f.setAttribute("async","async");h.addListener(f,"load",function(){a(!1,q);u.Th=!1;window.Uh=!1});document.body.appendChild(f)}else q()}})();(function(){function a(a,b,e){if(e||!a||!(u.state===a||u.state&&u.state.target===a.target&&u.state.location===a.location&&u.state.page===a.page)){a||(a=u.state);a.W||(a.W=w.Za());a.M||(a.M=u.M);a.ya||(a.ya=u.ya);var h=a.title,k=a.target;!h&&k&&u.p[k]&&(a.title=h=u.p[k].title||u.p[k].head.title);d.state&&t("Setting state to %j",a);a.Cc&&a.Cc<a.location?a.Cc=a.location:a.Cc||(a.Cc=a.location);if(window&&window.location&&window.location.hash){var l=window.location.hash;"#"===l[0]&&(l=l.slice(1));a.hash=
l}d.state&&t("saveState skiphist=%o force=%o state=%j",b,e,a);u.state=a;e=JSON.stringify(a);f("mB("+c.B+").state",e);!E&&u.hc&&u.e&&(!u.kg||a.W>u.kg.W)&&m(!0);!b&&k&&window.history&&window.history.pushState&&q(a,k,h)}}function q(a,b,c){d.state&&(c?t("setHistory %s (%s) state=%j",b,c,a):t("setHistory %s state=%j",b,a));if(window.history&&window.history.pushState){b||(b=a.target);c||(c=a.title);var f=A.Js();!c&&b&&u.p[b]&&(a.title=c=u.p[b].title||u.p[b].head.title);!b&&a.location&&"number"===typeof a.location&&
(b="SBOOKLOC"+a.location);d.state&&t("Pushing history %j %s (%s) '%s'",a,f,c);window.history.state&&window.history.state.target===a.target&&window.history.state.location===a.location||window.history.pushState(a,c,f+"#"+b)}}function k(c,f,e){d.state&&t("Restoring (%s) state %j",f,c);c.location?u.Ab(c.location,f||"restoreState",c.target&&b(c.target),!1,!e):c.page&&u.j?(u.rc(c.page,f||"restoreState",!1,!e),c.target&&b(c.target)&&J(b(c.target))):c.target&&(u.Ab(c.target,f||"restoreState",!0,!1,!e),c.target&&
b(c.target)&&J(b(c.target)));c.M||(c.M=u.M);c.ya||(c.ya=u.ya);a(c)}function m(a){var b=L?w.Za()-L:31536E4;if(!E&&(a||u.hc)&&u.e)if(P)t("Skipping state sync because one is already in process"),O&&clearTimeout(O),setTimeout(function(){m(a)},15E3);else if(!a&&b<u.eg)d.state&&t("Skipping state sync because it's too soon");else if(!a&&u.state&&(!l.ec||document[l.ec])&&b<5*u.eg)d.state&&t("Skipping state sync because page is hidden");else if(!a&&b<u.Zp)O=setTimeout(function(){m(a)},u.Zp);else if(O&&(clearTimeout(O),
O=!1),(a||u.hc)&&navigator.onLine){var b=u.ya,f=d.state||d.hj,h=u.state,k=u.target&&u.Gs()||u.M,q="https://sync.bookhub.io/v1/sync?",q=c.xc?q+"DOC="+encodeURIComponent(c.xc):q+"REFURI="+encodeURIComponent(k);c.ya!==k&&(q=q+"&DOCURI="+encodeURIComponent(u.ya));q=q+"&NOW="+w.Za();u.mB=L=w.Za();E=h;u.e&&(q=q+"&SYNCUSER="+encodeURIComponent(u.e.d));u.X&&(q=q+"&MYCOPYID="+encodeURIComponent(u.X));u.qi&&(q=q+"&DEVICE="+encodeURIComponent(u.qi));u.R&&(q=q+"&LOCLEN="+encodeURIComponent(u.R));if(h){h.target&&
(q=q+"&TARGET="+encodeURIComponent(h.target));if(h.location||h.hasOwnProperty("location"))q=q+"&LOCATION="+encodeURIComponent(h.location);h.W&&(q=q+"&CHANGED="+encodeURIComponent(h.W));h.reset&&(q+="&RESET=true")}k=new XMLHttpRequest;E=h;k.onreadystatechange=v;k.ontimeout=e;k.withCredentials=!0;k.timeout=u.$p;f&&t("syncState(call) %s",q);try{k.open("GET",q,!0),k.send(),P=k}catch(r){try{t.warn("Sync request %s returned status %d %j, pausing for %ds",b,k.status,JSON.parse(k.responseText),u.uh)}catch(p){t.warn("Sync request %s returned status %d, pausing for %ds",
b,k.status,u.uh/1E3)}u.hc=!1;setTimeout(function(){u.hc=!0},u.uh)}}}function e(){t.warn("Sync request timed out, pausing for %ds",u.uh/1E3);u.hc=!1;setTimeout(function(){u.hc=!0},u.uh)}function v(a){var b=y.c(a);P=!1;var c=d.state||d.hj||d.n&&1>K;if(4===b.readyState){if(200<=b.status&&300>b.status){b=b.responseText;if(!b)return;var b=JSON.parse(b),f=w.Za();b.W&&((c&&t("freshState %o %j\n\t%j",a,b,u.state),b.W>f+300)?t.warn("Beware of oracles (future state date): %j %s",b,new Date(1E3*b.W)):u.state?
u.state.W>b.W?u.kg=b:z&&z>b.W||(document[l.ec]?u.$k=b:(u.kg=b,z=w.Za(),u.tp(b))):(u.kg=b,k(b)));K++}else c&&t("syncState(callback/error) %o %d %s",a,b.status,b.responseText);navigator.onLine&&G(!0);E=!1}}var l=g.b,A=g.$a,t=g.t,y=g.a,w=g.Aa,h=g.I,c=u,b=c.I,f=c.lf,F=c.uj,r=c.Gk,d=u.da,x=u.Dt,K=0,J,G,D;u.ul.push(function(){J=u.Oa;G=u.oh;D=u.nh});var E=!1;u.it=function(){var a=F("mB("+c.B+").state",!0),d=u.jt;d?"#"===d[0]&&(d=d.slice(1)):d=!1;d&&b(d)&&(!a||a.hash&&a.hash!==d||!a.hash&&a.target&&a.target!==
d)&&(a||(a={}),a.M=u.M,a.ya=u.ya,a.target=d,a.location=!1,a.W=w.Za(),f("mB("+c.B+").state",a,!0));a&&(u.state=a)};u.Cd=a;u.Vu=q;u.ih=k;u.Sx=function(){u.state=!1;r("mB("+c.B+").state");u.kg=!1};u.vu=function(){var a=u.state;a.location&&(a.Cc=location);a.reset=!0;a=JSON.stringify(a);f("mB("+c.B+").state",a);m(!0)};var P=!1,O=!1,L=!1;u.nm=m;var z=!1,W=!1;u.Yv=function(){if(document[l.ec])W=w.Za();else if(!(W&&300>w.Za()-W))if(navigator.onLine)W=!1,m(!0);else if(u.$k){var a=u.$k;W=!1;u.$k=!1;u.kg=a;
z=w.Za();u.tp(a)}};u.ks=function(){u.sd?u.update():u.Be?u.Be.push(function(){u.update()}):u.Be=[function(){u.update()}];u.LE?m():u.HE()};u.tl=function(){var a=u.state;a||((a=h("METABOOKSTART")||g.$1(".metabookstart")||h("SBOOKSTART")||g.$1(".sbookstart")||h("SBOOKTITLEPAGE"))?(a=u.qo(a),a={location:a&&a.start,W:978307200}):a={location:1,W:978307200});u.Cd(a,!0,!0)};u.tp=function(a){var b=u.state;if(u.eg)if(u.Hd)d.state&&t("resolveXState dialog exists: %o",u.Hd);else if(d.state&&t("resolveXState state=%j, xstate=%j",
b,a),b){if(a.Cc>b.Cc){b.Cc=a.Cc;var e=JSON.stringify(b);f("mB("+c.B+").state",e)}if(!(b.W>=a.W||30>w.Za()-b.W)){d.state&&t("Resolving local state %j with remote state %j",b,a);var e=[],h=a.location,k=a.Cc;k>b.location&&e.push({label:"farthest @"+x(k),title:"your farthest location on any device/app",eb:!1,S:function(){u.Ab(a.Cc,"sync");b=u.state;b.W=w.Za();u.Cd(b,!0,!0);u.Zc()}});h!==b.location&&h!==k&&e.push({label:"latest @"+x(h),title:"the most recent location on any device/app",eb:!1,S:function(){u.ih(a);
b=u.state;b.W=w.Za();u.Cd(b,!0,!0);u.Zc()}});e.length&&17<b.location&&e.push({label:"current @"+(42>b.location?"start":x(b.location)),title:"the most recent location on this device",eb:!0,S:function(){b.W=w.Za();u.Cd(b,!0,!0);u.Zc()}});e.length&&e.push({label:"stop syncing",title:"stop syncing this book on this device",S:function(){D("locsync",!1,!0)}});d.state&&t("resolveXState choices=%j",e);e.length&&(u.Hd=y.Uc({Le:e,cancel:!0,timeout:7,Tt:!0,St:!0,onclose:function(){u.Hd=!1},Jc:"div.fdjtdialog.resolvestate#METABOOKRESOLVESTATE"},
l("div","Start at")))}}else u.ih(a)};u.wc=function(){u.Hd&&(g.we.close(u.Hd),u.Hd=!1)}})();(function(){function a(a){return a instanceof h?a:"string"===typeof a?b.O.G(a):!1}function q(c,e,h,k){var q=t(),r=document.documentElement||document.body;A("Setting up user %s (%s)",c.d,c.name||c.Kg);c&&(l.l(r,"_NOUSER"),l.h(r,"_USER"));if(u.e&&c.d!==u.e.d)throw{error:"Can't change user"};(r=u.aa)&&r>k&&A.warn("Cached user information is newer (%o) than loaded (%o)",r,k);navigator.onLine&&F("mB("+b.B+").queued")&&u.Am();u.e=u.O.Nb(c,!1,w.Qd|w.Rd|w.Pd);e&&(u.fb=e.map(a));h&&(u.de=h.map(a));u.e.save();
d("mB.user",u.e.d);d(u.e.d,u.e.ak(),!0);u.hc&&u.nh("locsync",!0);u.Hu();f.n&&(e=t(),A("setUser %s (%s) done in %dms",c.d,c.name||c.Kg,e-q));u.sk=t();u.ub&&u.Ep(!0);u.bn&&m();return u.e}function k(a){u.cf||(u.cf=a)&&u.Xb&&r("mB("+b.B+").nodeid",a,!0)}function m(){if(!u.er){var a=0,b,a=document.documentElement||document.body;1<f.n&&A("Starting UI setup for user");var c=t();if(u.e){l.h(a,"_NOUSER");l.l(a,"_NOUSER");var d=u.e.name||u.e.handle||u.e.Kg;if(d){y("METABOOKUSERNAME")&&(y("METABOOKUSERNAME").innerHTML=
d);y("CODEXUSERNAME")&&(y("CODEXUSERNAME").innerHTML=d);var e=document.getElementsByName("METABOOKUSERNAME");if(e&&e.length)for(a=0,b=e.length;a<b;)e[a++].innerHTML=d;if((e=document.getElementsByName("CODEXUSERNAME"))&&e.length)for(a=0,b=e.length;a<b;)e[a++].innerHTML=d;if((e=l.r(".metabookusername"))&&e.length)for(a=0,b=e.length;a<b;)e[a++].innerHTML=d;if((e=l.r(".codexusername"))&&e.length)for(a=0,b=e.length;a<b;)e[a++].innerHTML=d}y("SBOOKMARKUSER")&&(y("SBOOKMARKUSER").value=u.e.d);a=u.uv;b=y("METABOOKADDGLOSSPROTOTYPE");
u.e.Xc&&a.insertRule("#METABOOKHUD span.facebook_share { display: inline;}",a.cssRules.length);u.e.nF&&a.insertRule("#METABOOKHUD span.twitter_share { display: inline;}",a.cssRules.length);u.e.rB&&a.insertRule("#METABOOKHUD span.linkedin_share { display: inline;}",a.cssRules.length);u.e.Vz&&a.insertRule("#METABOOKHUD span.google_share { display: inline;}",a.cssRules.length);if(a=l.Tb(b,"MAKER"))a.value=u.e.d;if(d=u.e.ld||u.e.jc||u.e.Xc&&"https://graph.facebook.com/"+u.e.Xc+"/picture?type=square")if(y("SBOOKMARKIMAGE")&&
(y("SBOOKMARKIMAGE").src=d),y("METABOOKUSERPIC")&&(y("METABOOKUSERPIC").src=d),e=document.getElementsByName("METABOOKUSERPIC"))for(a=0,b=e.length;a<b;)e[a++].src=d;if(d=document.getElementsByName("IDLINK"))for(a=0,b=d.length;a<b;)e=d[a++],e.target="_blank",e.title="click to edit your personal information",e.href="https://my.bookhub.io/profile";if(u.e.ms)for(d=u.e.ms,e=u.O,a=0,b=d.length;a<b;){var h=w.resolve(d[a++],e);u.vg(h,u.Ea);u.vg(h,u.mc)}u.fb&&u.hn(u.fb);f.n&&(a=t(),A("Setup UI for %s (%s) in %dms",
u.e.d,u.e.name||u.e.Kg,a-c));u.er=!0}else l.h(a,"_NOUSER")}}function e(){var c=F("mB.user"),d=u.aa,e=F("mB("+b.B+").nodeid",!0),h=c&&F(c,!0);f.Q&&A("initOffline user=%s sync=%s nodeid=%s info=%j",c,d,e,h);if(d&&c){1<f.n&&A("initOffline userinfo=%j",h);var c=u.fb=(F("mB("+b.B+").outlets",!0)||[]).map(a),l=u.de=(F("mB("+b.B+").layers",!0)||[]).map(a);h&&q(h,c,l,d);e&&k(e)}}function v(a){function b(){a.Yq=e;e.id="mbOUTLET"+a.Vs;e.setAttribute("data-value",a.d);e.setAttribute("data-key",a.name);e.innerHTML=
a.name;a.description&&a.El?e.title=a.name+": "+a.description:a.description?e.title=a.description:a.El&&(e.title=a.name);l("#METABOOKSHARECLOUD",e," ");u.mc.Ee(e)}"string"===typeof a&&(a=u.O.G(a));if(a)if(a instanceof Array)for(var c=a,d=0,f=c.length;d<f;)v(c[d++]);else if(a instanceof h&&!a.Yq){var e=l("span.completion.cue.source",a.d);a.fe(b,"addoutlet2cloud")}}var l=g.b,A=g.t,t=g.Aa,y=g.I,w=g.tb,h=g.Rc,c=g.$a,b=u,f=b.da,F=c.Da,r=c.lc,d=b.lf;u.Zu=q;u.Ip=k;u.cm=m;u.No=function(a){u.e=u.O.Nb(a,!1,
w.Qd|w.Rd|w.Pd);m();u.sk=!1};u.Bh=function(){var a=u.aa=F("mB("+b.B+").sync",!0)||0,c=t(),d=!1,h=!1;u.aa&&!u.Xb&&u.Me();!u.kj&&u.Xb&&F("mB.user")&&(e(),f.Q&&A("Local info for %o (%s) from %o",u.e.d,u.e.name,u.aa),u.e&&u.aa&&u.ub&&window.$b&&(window.$b=!1));if(!u.kj)if(window.$b&&window.$b.ib)d=window.$b,h=d.ib,window.$b=!1,f.Q&&A("Have window._sbook_loadinfo for %o (%s) dated %o: %j",h.d,h.name||h.Kg,d.aa,h),q(h,d.fb,d.de,d.aa),d.cf&&k(d.cf);else if(u.ib||window.cn)h=u.ib||window.cn,(f.Q||f.n)&&A("Have %s for %o (%s) dated %o: %j",
u.ib?"metaBook.userinfo":"window._userinfo",h.d,h.name||h.Kg,h.aa||h.bj,h),q(h,h.fb,h.de,h.aa||h.bj);1<f.n&&A("userSetup done in %dms",t()-c);!u.kj&&u.M&&window.navigator.onLine&&(u.e&&a?A("Requesting additional glosses (> %s (%d)) on %s from %s for %s",t.rm(u.aa),u.aa,u.M,u.Na,u.e.d,u.e.name):u.e?A("Requesting all glosses on %s from %s for %s (%s)",u.M,u.Na,u.e.d,u.e.name):A("No user, requesting user info and glosses from %s",u.Na),u.Ah())};u.RA=e;u.hn=v})();(function(){function a(b){if(u.iC)u.oh(!1);else{window.$b!==b&&u.oh(!0);b.yE&&u.Jp();b.X?y(b.X):b.Pt&&y(b.Pt);if(u.e){if(b.TF){u.Me();window.location=window.location.href;return}b.ib&&u.e&&(u.e.Bo(b.ib),u.e.save(),u.cm())}else b.ib?u.Zu(b.ib,b.fb,b.de,b.aa):(L("mB("+D.B+").queued")&&u.w.load(L("mB("+D.B+").queued",!0)),F("METABOOKCOVER").className="bookcover",G(document.documentElement||document.body,"_NOUSER")),b.cf&&u.Ip(b.cf);b.X&&(u.X&&b.X!==u.X&&c.warn("Mismatched mycopyids"),b.X!==u.X&&(u.X=
b.X,D.Uf&&D.Uf()));u.p?b.loaded||(window.$b&&window.$b!==b?window.rk=b:(u.Xb&&u.ub&&b&&b.ib&&u.e&&b.ib.d!==u.e.d&&u.Me(),b.loaded=f(),u.xB||!L("mB("+D.B+").sync")&&!L("mB("+D.B+").queued")||t(),E.Xa&&(c("loadInfo for %d %sglosses and %d refs (sync=%d)",b.Xa?b.Xa.length:0,u.aa?"updated ":"",b.Lg?b.Lg.length:0,b.aa),c("loadInfo got %d sources, %d outlets, and %d layers",b.Ic?b.Ic.length:0,b.fb?b.fb.length:0,b.de?b.de.length:0)),(b.Xa||b.Lg)&&l(b.Xa||[],b.Lg||[],function(){var a=u.ub;b.Lg&&v("etc",b.Lg,
a);b.Ic&&v("sources",b.Ic,a);b.fb&&v("outlets",b.fb,a);b.de&&v("layers",b.de,a);b.X&&y(b.X);u.hn(b.fb);b.aa&&(!u.aa||b.aa>=u.aa)&&u.Yu(b.aa);u.loaded=b.loaded=f();u.ga.Fb&&u.ga.Fb.update();if(u.yq){var c=u.yq;u.yq=!1;setTimeout(c,10)}a&&(u.w.save(!0),u.O.save(!0));u.Rf&&u.Np()&&(u.Rf=!1)}))):u.Vl=function(){a(b)}}}function q(a,b){function d(a){W=!1;a=JSON.parse(a.responseText);a.Xa&&a.Xa.length&&c("Received %d glosses from the server",a.Xa.length);u.rq(a,m+(h?"&SYNCUSER="+h.d:"&JUSTUSER=yes"),l);
h?!u.Id&&u.Xj&&(u.Id=setInterval(q,1E3*u.Xj)):u.e?setTimeout(q,50):c.warn("Couldn't determine user!")}function e(a){if(4===a.readyState&&500>a.status)c.warn("Ajax to %s callback failed, falling back to JSONP",m),k(m+(h?"":"&JUSTUSER=yes"),b),M=!0;else if(4===a.readyState){try{c.warn("Ajax to %s returned %d %j, taking a break",m,a.status,JSON.parse(a.responseText))}catch(d){c.warn("Ajax to %s returned %d, taking a break",m,a.status)}u.Id&&(clearInterval(u.Id),u.Id=!1);setTimeout(q,u.pq)}}var h=u.e,
l=f(),m="https://"+u.Na+"/v1/loadinfo.js?",r=u.aa?{}:!1,m=D.xc?m+"DOC="+encodeURIComponent(D.xc):m+"REFURI="+encodeURIComponent(D.M);D.aa&&(r["If-Modified-Since"]=(new Date(1E3*u.aa)).toString());if(!W&&navigator.onLine){W=!0;var z=0,t,x=P("GLOSS",!0),z=0;for(t=x.length;z<t;)m=m+"&GLOSS="+x[z++];x=O("GLOSS");z=0;for(t=x.length;z<t;)m=m+"&GLOSS="+x[z++];u.X&&(m=m+"&MYCOPYID="+encodeURIComponent(u.X));u.aa&&(m=m+"&SYNC="+(u.aa+1));h&&(m=m+"&SYNCUSER="+h.d);!h&&E.n&&c("Requesting initial user info with %s using %s",
M?"JSONP":"Ajax",m);if(M)k(m+(h?"":"&JUSTUSER=yes"),b);else try{K(d,m+"&CALLBACK=return"+(h?"":"&JUSTUSER=yes"),[],e,r,{timeout:u.qq})}catch(n){c.warn("Ajax call to %s failed, falling back to JSONP",m),k(m)}}}function k(a,b){if(navigator.onLine){b||(b="metaBook.updatedInfoJSONP");var c=F("METABOOKUPDATEINFO");0<a.indexOf("?")?"&"!==a[a.length-1]&&(a+="&"):a+="?";a=a+"CALLBACK="+b;var d=h("script#METABOOKUPDATEINFO");d.language="javascript";d.type="text/javascript";d.setAttribute("charset","utf-8");
d.setAttribute("async","async");u.X?d.setAttribute("crossorigin","anonymous"):d.setAttribute("crossorigin","use-credentials");d.src=a;c?h.replace(c,d):document.body.appendChild(d)}}function m(a,b){if("string"===typeof a){var c=u.O.G(a);u.Xb&&c.load()}else c=u.O.Nb(a,!1,d.Qd|d.Rd|d.Pd),c.save();b.push(c.d)}function e(a,b){u[b]=a;u.ub&&z("mB("+D.B+")."+b,a,!0)}function v(a,b,c){if(b)if(b instanceof Array){var f=[];if(7>b.length){c=0;for(var h=b.length;c<h;)m(b[c++],f);e(f,a)}else r.xb(function(a){m(a,
f)},b,{Hb:function(){e(f,a)}})}else b=u.O.Nb(b,!1,d.Qd|d.Rd|d.Pd),c&&b.save(),u[a]=b.d,c&&z("mB("+D.B+")."+a,b.d,!0)}function l(a,e,h){"undefined"===typeof h&&(h=!0);if(0!==a.length||0!==e.length){var k=F("METABOOKNEWGLOSSES"),l=f();k&&(k.innerHTML=b("Assimilating %d new glosses",a.length),G(k,"running"));e?a.length&&c("Assimilating %d new glosses/%d sources...",a.length,e.length):a.length&&E.Xa&&c("Assimilating %d new glosses...",a.length);u.O.Nb(e,!1,d.Qd|d.Rd|d.Pd,!0);u.w.Nb(a,{tags:zb.$s},d.Qd|
d.Rd|d.Pd,h);e=0;h=a.length;for(var m=u.pe||0;e<h;){var q=a[e++],q=q.pe||q.Nc;q>m&&(m=q)}u.pe=m;a.length&&c("Assimilated %d new glosses in %dms...",a.length,f()-l);J(k,"running")}}function A(){u.Am();q()}function t(){if(Q)return!1;Q=!0;if(u.aa){(E.Xa||E.n)&&c("Starting initializing glosses from local storage");u.O.load(!0);var a=u.w.load(!0);a&&a.then(function(){(u.w.Ta.length||u.O.Ta.length)&&c("Initialized %d glosses (%d sources) from local storage",u.w.Ta.length,u.O.Ta.length)})}}function y(a){return new Promise(function(b){if(!a||
a===D.X)return b(a);var d=/:x(\d+)/.exec(a),d=(d=d&&1<d.length&&parseInt(d[1]))&&new Date(1E3*d);(1<E.Xa||E.Yc)&&c("gotMyCopyId: %s/%s, cur=%s/%s",a,d,u.X,u.af);d||(u.sF=a,u.lf("umycopyid("+D.ya+")",a));if(!u.X||!u.af&&d||u.af&&d&&d>u.af)u.X=a,u.af=d,u.lf("mycopyid("+D.ya+")",a),D.Uf&&D.Uf();return C&&C.length?(d=C,C=[],r.xb(function(b){b(a)},d).then(function(){b(a)})):b(a)})}function w(){V||(V=f(),K.bs("https://auth.bookhub.io/getmycopyid?DOC="+D.xc).then(function(a){y(a).then(function(){V=!1})}))}
var h=g.b,c=g.t,b=g.String,f=g.Aa,F=g.I,r=g.va,d=g.tb,x=g.$a,K=g.Od,J=h.l,G=h.h,D=u,E=D.da,P=x.ae,O=x.xs,L=x.Da,z=u.lf;u.Lo=a;var W=!1,M=!1;u.rq=function(b,d,e){var h=u.e;if(E.hj||E.Xa&&b.Xa&&b.Xa.length||E.n&&(!h||u.Xj&&!u.Id&&E.n))e?c("Response (%dms) from %s",f()-e,d||u.Na):c("Response from %s",d||u.Na);W=!1;a(b);!h&&u.e?u.Bh():u.bn&&u.cm()};u.Ah=q;u.CF=function(a){var b=F("METABOOKUPDATEINFO");u.rq(a,b&&b.src||"JSON")};u.OA=l;u.update=A;h.addListener(window,"online",function(){return A()});u.ka("glossupdate",
function(a,b){u.Xj=b;u.Id&&(clearInterval(u.Id),u.Id=!1,b&&(u.Id=setInterval(q,1E3*b)))});u.ka("updatetimeout",function(a,b){u.qq=b});u.ka("updatepause",function(a,b){u.pq=b});var Q=!1;u.et=t;var C=[];u.xo=y;var V=!1;u.so=function(){return new Promise(function(a){var b=new Date;if(D.X&&D.af>b)return a(D.X);V||w();C.push(a)})}})();u.ik=function(){function a(){var a=S("METABOOKSPLASHPAGE");a&&a.parentNode&&a.parentNode.removeChild(a)}function q(){for(var a=u.ul,b=0,c=a.length;b<c;)a[b++]()}function k(){R.console="METABOOKCONSOLELOG";R.Zx=!0;q();u.$m||(u.$m=new Date);u.nn=m();R("This is metaBook %s, built %s on %s, launched %s, from %s",ga.version,ga.ei,ga.Ek,ga.$m.toString(),ga.root||u.nn||"somewhere");S("METABOOKBODY")&&(u.body=S("METABOOKBODY"));n("mbtrace")&&y(n("mbtrace",!0));Da("mbtrace")&&y([Da("mbtrace")]);ja("mbtrace")&&
y([ja("mbtrace")]);F();R("Book %s (%s) %s (%s%s)",ga.xc||"@??",ga.xn||"",ga.M,ga.nc,ga.Lj?": "+ga.Lj.toString():"");u.dt();u.ct();v();l();ja("mB.user")&&(u.Jp(),u.Bh());u.it();u.nm();var a=ga.uj("mB("+ga.B+").mycopyid")||C.ae("MYCOPYID");ga.xo(a);u.e||window.$b||u.ib||window.cn||ja("mB.user")||(ta.n&&R("No local user info, requesting from bookhub server %s",ga.Na),u.Ah());g.Hm();d();r();A();u.bn=H();e();u.sk&&u.cm();u.Co();u.Ej();u.nh(u.Ei());1<ta.n&&R("Initializing markup converter");var b=new Bb.Cq;
u.JB=b;u.Ro=function(a){return b.Po(a)};u.It=function(a){var c=p("div"),d=c,f=document.createDocumentFragment();c.innerHTML=b.Po(a);d=d.childNodes;a=[];1===d.length&&1===d[0].nodeType&&"P"===d[0].tagName&&(d=d[0],d=d.childNodes);for(var c=0,e=d.length;c<e;)a.push(d[c++]);for(c=0;c<e;)f.appendChild(a[c++]);return f};u.lk.JE=new Date;if(u.ep)if(a=u.ep,delete u.ep,Array.isArray(a))for(var c=0,f=a.length;c<f;)a[c](),c++;else a();ta.n&&R("Done with sync startup")}function m(){for(var a=p.r("SCRIPT"),b=
0,c=a.length;b<c;){var d=a[b++];if(d.src&&"string"===typeof d.src&&0<=d.src.search(/metabook.js(#|\?|$)/))return d.src}return!1}function e(){var a=g.$a.$d("APPMESSAGE");a&&g.a.Td(10,a);g.$a.In("APPMESSAGE","/","bookhub.io")}function v(){try{document.domain="bookhub.io"}catch(a){R.warn("Error setting document.domain")}p.md("METABOOK","http://metabook.bookhub.io/");p.md("BOOKHUB","http://bookhub.io/");p.md("PUBTOOL","http://pubtool.bookhub.io/");p.md("DC","http://purl.org/dc/elements/1.1/");p.md("DCTERMS",
"http://purl.org/dc/terms/");p.md("OLIB","http://openlibrary.org/");p.md("TOC","http://beingmeta.com/TOC/");p.md("INDEX","http://beingmeta.com/INDEX/");p.md("BM","http://beingmeta.com/");u.ry=C.Wv();"http://static.beingmeta.com/"===u.root&&"https:"===window.location.protocol&&(u.root="https://s3.amazonaws.com/beingmeta/static/");if(ja("mB.nologin")||n("nologin"))u.kj=!0;var b=B("BOOKHUB.server")||B("GLOSSDB");if(b)u.Na=b;else if(C.$d("METABOOKSERVER"))u.Na=C.$d("METABOOKSERVER");else if(C.$d("GLOSSDB"))u.Na=
C.$d("GLOSSDB");else{a:{for(var b=document.domain,c=u.Su,d=0;d<c.length;){if(c[d][0]===b||0<=b.search(c[d][0])||c[d][0].call&&c[d][0].call(b)){b=c[d][1];break a}d++}b=!1}u.Na=b}u.Na||(u.Na=u.Jr);D();C.Da("mB.devmode")&&(Oa(document.documentElement,"_DEVMODE"),u.Ig=!0);!u.Nf&&B("METABOOK.rootid")&&(u.Nf=ca(B("METABOOK.rootid")));u.Nf=u.Nf||S("METABOOKROOT")||S("CODEXCONTENT")||document.body;!u.start&&B("METABOOK.startid")&&(u.start=ca(B("METABOOK.startid")));u.start=u.start||S("METABOOKSTART")||S("BOOKSTART");
for(b=0;9>b;){c=document.body;if((d=B("TOC.head"+b,!0).concat(B("TOC.sect"+b,!0)).concat(B("tochead"+b,!0)))&&d.length)for(var f=0,e=d.length;f<e;)for(var h=p.J(c,d[f++]),k=0,l=h.length;k<l;){var m=h[k++];E(m)||(m.Lb=b)}b++}b=B("htmlbookignore",!0).concat(B("METABOOK.ignore",!0)).concat(B("PUBTOOL.ignore",!0));b.length&&(u.Tf=new p.Ra(b));b=B("tocheadnone",!0).concat(B("TOC.ignore",!0)).concat(B("PUBTOOL.nothead",!0));b.length&&(u.df=new p.Ra(b));b=B("htmlbookterminal",!0).concat(B("METABOOK.terminal",
!0)).concat(B("PUBTOOL.terminal",!0));b.length&&(u.eq=new p.Ra(b.length));b=B("htmlbooktarget",!0).concat(B("METABOOK.target",!0)).concat(B("METABOOK.idify",!0)).concat(B("PUBTOOL.idify",!0));b.length&&(u.focus=new p.Ra(b));b=B("htmlbooknotarget",!0).concat(B("METABOOK.notarget",!0));b.length&&(u.Yo=new p.Ra(b))}function l(){var a=eb("mB("+ga.B+").mycopyid");if(a){var b=/:x(\d+)/.exec(a),b=b&&1<b.length&&parseInt(b[1]);(b&&new Date(1E3*b))>new Date&&ga.xo(a)}}function A(){var a=document.body,b=H();
2<ta.n&&R("Starting app setup");var c=p("STYLE");p(document.head,c);u.uv=c.sheet;u.ft();u.$u();P();L();z();u.ht();if(u.M&&(c=document.getElementsByName("REFURI")))for(var d=0,f=c.length;d<f;)"fillin"===c[d].value?c[d++].value=u.M:d++;u.ka("cacheglosses",function(a,b){u.Ep(b);g.va(function(){u.fd(a,b)})});t();"undefined"!==typeof a.style["pointer-events"]&&(u.Kr||C.Da("mB.demo")||C.$d("crosshair")||n("crosshair"))&&ea.tc.bm();ta.n&&(R("App setup took %dms",H()-b),R("Body: %s",document.body.className))}
function t(){var a,b,c=H(),d="string"===typeof u.Kf&&u.Kf||"string"===typeof u.qr&&u.qr||"string"===typeof u.nr&&u.nr||"string"===typeof u.Lf&&u.Lf;if(d){var f=p.r("img.metabookbookimage");a=0;for(b=f.length;a<b;)f[a].src?a++:f[a++].src=d}if(d="string"===typeof u.iq&&u.iq)for(f=p.r("img.metabookbookthumb"),a=0,b=f.length;a<b;)f[a].src?a++:f[a++].src=d;if(d="string"===typeof u.icon&&u.icon)for(f=p.r("img.metabookbookicon"),a=0,b=f.length;a<b;)f[a].src?a++:f[a++].src=d;1<ta.n&&R("Image setup took %dms",
H()-c)}function y(a){for(var b=0,c=a.length;b<c;){var d=a[b++],f=d.indexOf(":");if(0>f)ta[d]="number"===typeof ta[d]?1:!0;else{var e=d.substr(0,f),d=d.substr(f+1);ta[e]="number"===typeof ta[e]?parseInt(d,10):d}}}function w(d){var f=!1;if(!u.tg&&(d||!n("nometabook"))){if("null"===location.hash||"#null"===location.hash)location.hash="";location.hash&&"#"!==location.hash&&(d=location.hash,"#"===d[0]&&(d=d.slice(1)),mb.exec(location.hash)?u.Rf=d:u.jt=location.hash);u.an=H();Oa(document.body,"mbSTARTUP");
k();u.Zf().then(function(){a()});V.yb([function(){var a=B("TOC.head1",!0,!0).concat(B("TOC.sect1",!0,!0)).concat(B("sbook1head",!0));a.length&&c(a,"1");a=B("TOC.head2",!0,!0).concat(B("TOC.sect2",!0,!0)).concat(B("sbook2head",!0,!0));a.length&&c(a,"2");a=B("TOC.head3",!0,!0).concat(B("TOC.sect3",!0,!0)).concat(B("sbook3head",!0));a.length&&c(a,"3");a=B("TOC.head4",!0,!0).concat(B("TOC.sect4",!0,!0)).concat(B("sbook4head",!0,!0));a.length&&c(a,"4");a=B("TOC.head5",!0,!0).concat(B("TOC.sect5",!0,!0)).concat(B("sbook5head",
!0,!0));a.length&&c(a,"5");a=B("TOC.head6",!0,!0).concat(B("TOC.sect6",!0,!0)).concat(B("sbook6head",!0,!0));a.length&&c(a,"6");a=B("TOC.head7",!0,!0).concat(B("TOC.sect7",!0,!0)).concat(B("sbook7head",!0,!0));a.length&&c(a,"7");(ta.n||ta.td)&&R("Starting DOM scan with %o",u.content);var b=S("METABOOKSTARTUPSCAN");Oa(b,"running");a=new u.Dq(u.content,u.M+"#");u.p=a;u.R=u.p.qk;(ta.n||ta.td)&&R("Done with DOM scan yielding %o",a);Xa(b,"running");u.state&&u.state.target&&!u.state.location&&(b=u.p[u.state.target])&&
b.H&&(u.state.location=b.H,u.Cd(!1,!0,!0));u.Vl&&(b=u.Vl,delete u.Vl,b());f=a;u.dv(f[u.content.id])},function(){V(h)},function(){var a=p.yo,b=p.dc("METABOOK.index",!0).concat(p.dc("PUBTOOL.index",!0)).concat(p.dc("INDEX.include",!0)).concat(p.dc("textindex",!0)),c=S("CODEXCONTENT");b.push("p,li,ul,blockquote,div");b.push("h1,h2,h3,h4,h5,h6,h7,hgroup,.sbookindex");for(var b=p.J(c,b.join(",")),c=u.hg=new g.Oq,d=0,f=b.length;d<f;){var e=b[d++];a(e)&&c.bt(e)}c.cs()},function(){for(var a=aa.Cv,b=u.hg,
c=u.p,d=b.kn,f=b.Ys,e=b.Ff,b=b.Rj,h=u.Zd.fn("strings",aa.jk),k=0,n=e.length;k<n;){var l=e[k++];h[l]=a(b[l])}e=0;for(b=d.length;e<b;)if(h=d[e++],k=c[h])k.oc=a(f[h])},function(){1<ta.n&&R("Loading sourcedb");u.O.load(!0)},zb&&zb.V&&zb.V.hk&&u.$&&function(){var a=S("METABOOKSTARTUPKNO"),b=S("METABOOKSTARTUPKNODETAILS");b&&(b.innerHTML=M("Processing knodule %s",u.$.name));Oa(a,"running");(1<ta.n||ta.$c)&&R("Processing knodule %s",u.$.name);zb.V.hk(u.$);Xa(a,"running")},function(){if(u.aa){if(u.ub)return u.et()}else window.$b&&
(u.Lo(window.$b),window.$b=!1)},window.rk&&function(){u.Lo(window.rk);window.rk=!1},function(){u.cv(f)},b],{slice:100,pf:25})}}function h(){u.bg();u.Tc?u.jd("initial"):Oa(document.body,"_SCROLL")}function c(a,b){for(var c=0,d=a.length;c<d;)for(var f=p.r(a[c++]),e=0,h=f.length;e<h;)f[e++].setAttribute("data-toclevel",b)}function b(a){u.Rf&&u.w.G(u.Rf)?u.Np()?(u.Rf=!1,u.lk.tl=H()):u.tl():u.tl();window.onpopstate=function(a){a.state&&u.ih(a.state,"popstate")};R("metaBook startup done");u.Zf();u.Mr();
p.l(document.body,"mbSTARTUP");p.h(document.body,"mbREADY");S("METABOOKSPLASHPAGE")&&setTimeout(function(){Oa("METABOOKSPLASHPAGE","startupdone")},3E3);var b=S("METABOOKREADYMESSAGE");S("METABOOKOPENTAB")?b.style.display="none":(b.innerHTML="Open",b.id="METABOOKOPENTAB");a||n("startmode")&&(a=n("startmode"));a?u.q(a):a=u.mode;u.tg=new Date;u.an=!1;u.Ml&&(b=u.Ml,u.Ml=!1,setTimeout(b,10));var c=b=!1,d=!1;if(b=n("APPMESSAGE"))"#{"===b.slice(0,2)&&0<(c=b.indexOf("}"))?(d="MSG_"+b.slice(2,c),ja(d)||(Ia(d,
"seen"),ea.Td(10,b.slice(c+1)))):ea.Td(10,b);if(b=za("APPMESSAGE"))ea.Td(10,b),C.In("APPMESSAGE","bookhub.io","/");!a&&location.hash&&u.state&&location.hash.slice(1)!==u.state.target?u.Zc():!a&&u.e&&(a=eb("mB("+ga.B+").opened",!0))&&a+54E5>H()&&u.Zc();p.ue&&p.addListener(document,p.ue,u.Yv);p.addListener(window,"resize",u.yu)}function f(a){return Ha(a,!1,!0,!1,!0)}function F(){var a=K(),b=Ha("docuri",!1)||Ha("METABOOK.docuri",!1)||Ha("BOOKHUB.docuri",!1)||Ha("PUBTOOL.docuri",!1)||Ha("canonical",!1)||
K(),c=window.location.href,d=c.indexOf("#");u.zB=0<d?c.slice(0,d):c;document.body.M=u.M=a;u.Iv=document.location.href;u.ya=b;var e=ja("mB.refuris",!0)||[],c=ja("mB.docuris",!0)||[],d=ja("mB.docids",!0)||[],h=document.documentElement||document.querySelector&&document.querySelector("HTML");u.nc=h.getAttribute("data-sourceid")||B("PUBTOOL.sourceid")||B("PUBTOOL.fileid")||u.ya;var k=h.getAttribute("data-sourcetime")||B("PUBTOOL.sourcetime");k&&(u.Lj=H.parse(k));if((k=ja("mB("+ga.B+").sourceid"))&&k!==
u.nc){if((k=ja("mB("+k+").layouts"))&&k.length)for(var n=0,l=k.length;n<l;)ia.si(k[n++])}else Ia("mB("+ga.B+").sourceid",u.nc);if(h=h.getAttribute("data-buildstamp"))k=h.indexOf(" "),u.Ax=h,0<k&&(u.yn=h.slice(0,k),u.zn=H.parse(h.slice(k+1)));u.Tc="bypage"===u.fu;u.Qo=B("METABOOK.maxexcerpt")||u.Qo;u.Uo=B("METABOOK.minexcerpt")||u.Uo;h=B("booknote",!0).concat(B("METABOOK.booknote",!0));k=B("booknoteref",!0).concat(B("METABOOK.booknoteref",!0));u.xx=h&&h.length?p.Ed(h):!1;u.wx=k&&k.length?p.Ed(k):!1;
0>e.indexOf(a)&&(e.push(a),Ia("mB.refuris",e,!0));0>c.indexOf(b)&&(c.push(b),Ia("mB.docuris",c,!0));var e=B("BOOKHUB.docref"),m;u.B=e?u.xc=m=e:m=b;Ia("mB("+m+")",b);0>d.indexOf(m)&&(c.push(b),Ia("mB.docuris",c,!0));if(b=f("PUBTOOL.coverpage")||f("coverpage")||f("*.coverpage"))u.Lf=b;if(b=f("PUBTOOL.coverimage")||f("coverimage")||f("*.coverimage"))u.Kf=b;if(b=f("PUBTOOL.thumbnail")||f("thumbnail")||f("*.thumbnail"))u.iq=b;if(b=f("PUBTOOL.icon")||f("icon")||f("*.icon"))u.icon=b;if(b=B("BOOKHUB.id")||
B("*.prefix")||B("*.baseid"))u.un=b;if(b=B("BOOKHUB.idprefix")||B("*.prefix")||B("*.idprefix")||b)u.prefix=b;m=B("METABOOK.targetprefix");u.zv=m&&"*"===m?!1:m&&"/"===m[0]?new RegExp(m.slice(1,m.length-1)):m?new RegExp("^"+m):b?new RegExp("^"+b):!1;b=p.dc("METABOOK.adjustfont",!0);b.length&&(g.b.od=g.b.od+","+b.join(","));B("METABOOK.forcelayout")&&(ga.io=!0);if(b=B("METABOOK.autotoc"))u.tn="y"===b[0]||"Y"===b[0]||"ON"===b||"on"===b||"1"===b||"enable"===b?!0:!1;u.kj||((a=B("BOOKHUB.mycopyid")||ja("mycopyid("+
a+")")||!1)&&a!==ga.XB&&ga.Uf&&ga.Uf(),ga.X=a)}function r(){var a=document.documentElement||document.body,b=navigator.userAgent,c=Q;2<ta.n&&R("Starting device setup for %s",b);var d=H();!c.ca&&n("touch")&&(c.ca=n("touch"));g.D.Hg.Cn=!1;if(c.ca){p.h(a,"_TOUCH");g.D.Hg.Bi=!0;u.te="touch";u.ca=!0;u.st=!1;var f=p.ws(),e=B("viewport",!1,!1,!0);e||(e=document.createElement("META"),e.setAttribute("name","viewport"),e.setAttribute("content",ib),f.appendChild(e));e=B("apple-mobile-web-app-capable",!1,!1,!0);
e||(e=document.createElement("META"),e.setAttribute("name","apple-mobile-web-app-capable"),e.setAttribute("content","yes"),f.appendChild(e))}c.mn?($a.Ti=!1,u.sq=!1):0<b.search("Safari/")&&0<b.search("Mobile/")?(x(),u.sq=!1,$a.Ti=!1,R.Sn=!0):c.ca?(p.h(a,"_TOUCH"),u.te="touch"):u.te||(p.h(a,"_MOUSE"),u.te="mouse");1<ta.n&&R("setupDevice done in %dms: %s/%dx%d %s",H()-d,u.te,p.sb(),p.zb(),c.lm)}function d(){if(!u.Dk){2<ta.n&&R("Book setup");var a=u.Dk={},b=H();a.title=B("METABOOK.title")||B("PUBTOOL.title")||
B("DC.title")||B("~TITLE")||document.title||"untitled";var c=B("METABOOK.author",!0).concat(B("PUBTOOL.author",!0)).concat(B("DC.creator",!0)).concat(B("AUTHOR")).concat(B("~AUTHOR"));c&&c.length&&(a.Bk=c);a.En=B("METABOOK.byline")||B("PUBTOOL.byline")||B("BYLINE")||c&&c.length&&c[0];a.cy=B("PUBTOOL.copyright")||B("BOOKHUB.copyright")||B("DC.rights")||B("COPYRIGHT")||B("RIGHTS");a.mp=B("PUBTOOL.pubname")||B("BOOKHUB.pubname")||B("DC.publisher")||B("PUBLISHER");a.XC=B("PUBTOOL.pubyear")||B("BOOKHUB.pubyear")||
B("DC.date");a.description=B("METABOOK.description")||B("BOOKHUB.description")||B("PUBTOOL.description")||B("DC.description")||B("DESCRIPTION");a.uy=B("PUBTOOL.digitized")||B("DIGITIZED");a.ay=B("PUBTOOL.converted");1<ta.n&&R("setupBook done in %dms",H()-b)}}function x(){window.scrollTo(0,1);setTimeout(function(){window.scrollTo(0,0)},0)}function K(){var a=Ha("refuri",!1,!0)||Ha("METABOOK.refuri",!1,!0)||Ha("BOOKHUB.refuri",!1,!0)||Ha("PUBTOOL.refuri",!1,!0)||B("refuri",!1,!0)||Ha("canonical",!1,
!0);if(a)return decodeURI(a);var a=document.location.href,b=a.indexOf("?");0<=b&&(a=a.slice(0,b));b=a.indexOf("#");0<=b&&(a=a.slice(0,b));return decodeURI(a)}function J(a){var b="<span class='host'>"+u.Na+"</span>";u.yj&&u.yj.mh!==a.mh&&R.warn("Server %s IP change from %s to %s:\n\t%j\n\t%j",u.Na,u.yj.mh,a.mh,u.yj,a);a.Dp!==u.Na&&(b=b+" / <span class='host'>"+a.Dp+"</span>");a.hostname!==a.Dp&&(b=b+" / <span class='host'>"+a.hostname+"</span>");a.mh&&(b=b+" / <span class='host'>"+a.mh+"</span>");
u.yj=a;a=g.b.r(".metabookserverinfo");for(var c=0,d=a.length;c<d;)a[c++].innerHTML="<strong>Glosses</strong> from "+b}function G(){var a=u.Na;p.removeListener(window,"online",G);ba.Eo(J,"https://"+a+"/_info")}function D(){navigator.onLine?G():p.addListener(window,"online",G)}function E(a){return a.Lb||a.getAttributeNS&&a.getAttributeNS("toclevel","http://beingmeta.com/TOC/")||a.getAttribute("toclevel")||a.getAttribute("data-toclevel")||a.className&&a.className.search&&(0<=a.className.search(/\b(sbook|pubtool)\dhead\b/)||
0<=a.className.search(/\b(sbook|pubtool)notoc\b/)||0<=a.className.search(/\b(sbook|pubtool)ignore\b/))?!0:!1}function P(){for(var a=g.b.r(".metabookrefinfo"),b,c=H(),d=0,f=a.length;d<f;)b=a[d++],b.innerHTML="<strong>Ref:</strong>\u00a0",p.append(b,p("span.refuri",u.M)," ",p("span.oidref",u.xc));a=g.b.r(".metabooksourceinfo");d=0;for(f=a.length;d<f;)b=a[d++],b.innerHTML="<strong>Source:</strong> ",u.Lj&&b.appendChild(O(u.Lj)),p.append(b," ",p("span.uuid",u.nc));a=g.b.r(".metabookbuildinfo");d=0;for(f=
a.length;d<f;)b=a[d++],b.innerHTML="<strong>Book Build:</strong> ",u.xn&&!u.yn?b.appendChild(u.xn):(u.zn&&b.appendChild(O(u.zn)),p.append(b," on ",p("span.host",u.yn)));a=g.b.r(".metabookappinfo");d=0;for(f=a.length;d<f;)b=a[d++],b.innerHTML="",p(b,p("strong","App:")," ","metaBook version ",u.version," built on ",p("span.host",u.Ek),u.ei&&" at ",O(u.ei)," loaded from ",p("span.host",u.nn));a=g.b.r(".metabookcopyrightinfo");d=0;for(f=a.length;d<f;)a[d++].innerHTML="Program and Interface <span class='inlinesymbol'>\u00a9</span> beingmeta, inc 2008-2015";
1<ta.n&&R("Book info setup done in %dms",H()-c)}function O(a){var b;try{return b="string"===typeof a?p("time",a):p("time",a.toString()),"string"===typeof a?b.setAttribute("datetime",a):b.setAttribute("datetime",a.toISOString()),b}catch(c){return document.createTextNode("??time??")}}function L(){var a=H(),b=u.Zoom=p("div#METABOOKZOOM.metabookzoom.metabookcontent",p("div#METABOOKZOOMBOX",p("div#METABOOKZOOMTARGET")),p("div#METABOOKZOOMCONTROLS",p("div#METABOOKZOOMCLOSE"),p("div#METABOOKUNZOOM"),p("div#METABOOKZOOMIN"),
p("div#METABOOKZOOMOUT"),p("div#METABOOKZOOMHELP"),p("div#METABOOKZOOMHELPTEXT","Drag to pan, use two fingers to zoom")));b.Ze=!0;document.body.appendChild(b);1<ta.n&&R("Zoom setup done in %dms",H()-a)}function z(){var a=H(),b=u.qw=p("div#METABOOKMEDIA.metabookmedia.metabookcontent",p("div#METABOOKMEDIATARGET"),p("div#METABOOKCLOSEMEDIA"));b.Ze=!0;document.body.appendChild(b);1<ta.n&&R("Zoom setup done in %dms",H()-a)}function W(){ga.an||ga.tg||(ga.Nk?"number"===typeof ga.Nk?setTimeout(ga.ik,ga.Nk):
setTimeout(W,1E3):u.ik())}var M=g.String,Q=g.Qb,C=g.$a,V=g.va,ba=g.Od,H=g.Aa,R=g.t,p=g.b,ea=g.a,S=g.I,aa=g.tb,ca=u.I,ia=g.Mb,ja=C.Da,Da=C.Gi,n=C.ae,za=C.$d,B=p.dc,Ha=p.il,Oa=p.h,Wa=p.pc,Xa=p.l,ga=u,ta=u.da,eb=u.uj,Ia=u.lf;u.wE=function(){ta.n&&"number"===typeof ta.n&&1<ta.n&&R.apply(null,arguments)};u.By=a;u.Yu=function(a){if(a){var b=u.aa;b&&b>a||(u.aa=a,u.Xb&&Ia("mB("+ga.B+").sync",a))}};var mb=/G[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/i;u.ik=w;var $a=u.Pn;u.ns=function(){u.Dk||d();return u.Dk};
var ib="width=device-width,initial-scale=1.0,user-scalable=no";u.zF=D;u.cA=E;u.eE=L;u.cE=z;u.ka("uisound",function(a,b){u.Vj=b&&!0});u.ka("readsound",function(a,b){u.Ql=b&&!0});u.ka("bodycontrast",function(a,b){var c=S("METABOOKBODY");b?Wa(c,/\bmetabookcontrast[a-z]+\b/g,"metabookcontrast"+b):Xa(c,/\bmetabookcontrast[a-z]+\b/g);g.va(function(){u.fd(a,b)})});u.Fy=function(){var a=S("METABOOKFRAME");a&&(a.style.fontFamily="'Open Sans',Verdana, Tahoma, Arial, Helvetica, sans-serif, sans",u.Zf())};u.hk=
u.vw=W;return w}();u.og=function(){function a(a,b){for(var c=b.id;a;){if(ga(a,"codexpage")||a.getAttribute&&(a.id===c||a.getAttribute("data-baseid")===c))return a;a=a.parentNode}return b}function q(a,b,d,n){var q=a.s||a.id,x=u.p[q];if(!x)return!1;var H=x.fc?x:x.head,B=H&&p(H.s),A=b&&b.mf.get(a),E=a.pa?a.pa.length:0,J=a.Ya&&a.Ya.trim(),J=J&&J.length,D=c(a),G=a.Mp||[],R=b&&!n&&!a.u&&k(p(q));"string"===typeof G&&(G=[G]);D&&(G=C.remove(G,D.o||D.d));var F=z("div.mbcard_body",A&&w(a,A,b),a.u||a.Nc?h(a):!1,R,0<J&&a.u&&e(a),
0<J&&z("span.note",m(a.Ya))," ",a.detail&&z("span.showdetail","More")," ",(a.ai||a.ba)&&v(a,b)," ",a.links&&t(a.links)," ",a.mr&&t(a.mr,"span.attachments")," ",G&&0<G.length&&l(G),0<E&&y(a.pa)," "),M=z(a.u?"div.mbcard.gloss":"div.mbcard.passage",B&&r(B,a.fc&&a),n&&f(x),F,z("div.fdjtclearfloats"));a.u&&a.u.load().then(function(b){var c=a.Nc||a.bj||a.vb;b.ja&&":PERSON"===b.kind&&(F.title=c?"gloss from "+(b.name||"someone")+" at "+L.Fj(c):"gloss from "+(b.name||"someone"),S(M,"personal"))});M.ea="#"+
a.s;M.setAttribute("data-passage",q);M.setAttribute("data-location",x.H);H&&M.setAttribute("data-tochead",H.s);if(a.u||a.Nc)M.setAttribute("data-gloss",a.d),a.Nc&&M.setAttribute("data-timestamp",a.Nc);A&&M.setAttribute("data-searchscore",A);d&&(M.id=d+a.id);a.d&&(M.name=M.pp=a.d,M.setAttribute("name",a.d));return M}function k(a){var b;b||(b=80);if(!a)return!1;var c=z.Kb(a);a=a.title||a.getAttribute("data-summary")||(c.length<b?c:c.slice(0,b));a=z("span.sample",a);a.title=c;return a}function m(a){return 0===
a.search(/^{(md|markdown)}/)?u.It(a.slice(a.indexOf("}")+1)):a}function e(a){a=a.u;if(a.ja)return z("span.maker",a.name||"From");var b=z("span.maker","From");a.load().then(function(a){a.name&&(b.innerHTML=a.name)});return b}function v(a,b){for(var c=z.Image(ca("tagicon",64,64),"img.tagicon","tags"),d=b&&z("span.matches"),f=z("span.top"),e=z("span.sectags"),h=z("span.other"),k=0,n={},l="**tags *tags +tags +tags* knodes tags **tags* *tags* tags* ^tags ^tags*".split(" "),p=0,m=l.length,q=0;p<m;){var r=
l[p++];if(r=a[r]){if(!Oa(r))r=[r];else if(0===r.length)continue;for(var t=0,x=r.length,q=q+x;t<x;){var y=r[t++];if(y){var v="string"===typeof y?y:y.o||y.K();if(!n[v]){k++;n[v]=y;var v=y.o&&"\u00a7"===y.o[0],w;if(v){w=y;var H=w.d,B=z("span.sectname",H);B.setAttribute("data-value",w.o);20<H.length&&S(B,"longterm");w=B}else w=zb.V(y,u.$);if(H=d)a:{for(var H=b.ba,B=0,A=H.length;B<A;){var C=H[B++];if(C===y||y.Ob&&0<=y.Ob.indexOf(C)){H=!0;break a}}H=!1}H?z(d," ",w):v?z(e," ",w):4>k?z(f," ",w):z(h," ",w)}}}}}return q?
z("span.mbcard_tags.tags",c,d,f,h,e):!1}function l(a){a instanceof Array||(a=[a]);if(0===a.length)return!1;for(var b=z(1<a.length?"div.mbcard_audience":"span.mbcard_audience",1<a.length&&z("span.count",a.length," outlets")," "),c=0,d=a.length;c<d;){var f=u.O.G(a[c]),e=z("span.outlet");f.ja?(z(e,f.name),e.title=f.ea?"Shared with \u201c"+f.name+"\u201d \u2014 "+f.ea:"Shared with \u201c"+f.name+"\u201d"):(e.setAttribute("NAME","OUTLETSPAN"+f.d),f.load().then(A));z.append(b," ",e);c++}return b}function A(a){for(var b=
Ha(document.getElementsByName("OUTLETSPAN"+a.d)),c=0,d=b.length;c<d;){var f=b[c++];f.removeAttribute("NAME");z(f,a.name);f.title=a.ea?"Shared with \u201c"+a.name+"\u201d \u2014 "+a.ea:"Shared with \u201c"+a.name+"\u201d"}}function t(a,b){var c=0,d;for(d in a)"_"!==d[0]&&c++;if(0===c)return!1;c=z(b||(4<c?"div.mbcard_links":"span.mbcard_links"),1<c&&z("span.count",c," links")," ");for(d in a)if("_"!==d[0]){var f=a[d],e=!1,e=0===d.search("https://glossdata.bookhub.io/")||0===d.search("https://glossdata.sbooks.net/")||
0===d.search("resources/"),h,k=!1,n=!1,l=!1;if(!e){h=u.KA;for(var p=0,m=h;p<m;){var q=h[p++];if("string"===typeof q){if(0===d.search(q)){e=!0;break}}else if(q.exec(d)){e=!0;break}}}"string"===typeof f?h=f:(h=f.title,k=f.icon,n=f.type);n||(n=u.tq(d));k||(k=u.oq(n));l||(l=u.So(n));f=z.Image(k);e?(e=z("span.mbmedia",f,h),e.setAttribute("data-src",d),n&&e.setAttribute("data-type",n),e.title="Reveal "+h):e=z.Gh(d,{title:"Link to "+d,target:"_blank"},f,h);l&&S(e,l);z(c,e,"\n")}return c}function y(a){if("string"===
typeof a)return M.yf("span.excerpt",a,40);if(1===a.length)return M.yf("span.excerpt",a[0],40);for(var b=z("div.excerpts"),c=0,d=a.length;c<d;)z(b,0<c&&" ",M.yf("span.excerpt",a[c++],40));return b}function w(a,b,c){var d=z.Image(ca("goldstar",24,24),"img.inline"),f=z.Image(ca("tagicon",24,24),"img.inline"),f=(a=c&&c.Kk&&c.Kk.get(a))&&1<c.ba.length&&(a!==c.ba.length?z("span.note",a,f):z("span.note","all",f));return c&&c.Ht?z("span.score",f,"(",b,"/",c.Ht,d,")"):z("span.score",f,"(",b,d,")")}function h(a){var c=
a.u,d=a.u.d||a.u,c=c===u.e||c===u.e.d||R.fb&&0<=R.fb.indexOf(c)||R.fb&&0<=R.fb.indexOf(d);var f=a.bj||a.vb||a.Nc,d=new Date(1E3*f);if(43200>L.Za()-f)f=d.getMinutes(),d=""+d.getHours()+":"+(10>f?"0":"")+f;else var f=d.getFullYear(),e=d.getMonth(),d=d.getDate(),d=10>f?""+d+"/"+Xa[e]+"/0"+f:""+d+"/"+Xa[e]+"/"+f;d=z("span.age",d);d.title=L.rm(a.bj||a.vb||a.Nc);c=z("span.tool",d," ",z("span.label",c?"modify":"respond"),c?z.Image(ca("gloss_edit_titled",64,64),"img.button","edit","tap to edit this gloss, hold to reply"):
z.Image(ca("gloss_respond_titled",64,64),"img.button","reply","relay/reply to this gloss"),a.qu&&z("span.private","Private"));ia(c,"tap",F);ia(c,"release",F);(a=b(a))&&z.addListener(a,"touchstart",g.a.ij);return[a,c]}function c(a){if(a.Ic){a=a.Ic;"string"===typeof a&&(a=[a]);for(var b=0,c=a.length;b<c;){var d=u.O.Ct(a[b++]);if(d&&":OVERLAY"===d.kind)return d}}return!1}function b(a){if(a.ld||a.jc)return Wa(a.ld||a.jc,"img.glosspic.glossicon",a.Ya||a.name);if(a.links&&a.links.icon)return Wa(a.links.icon,
"img.glosspic.glossicon");var b=a.u&&("string"===typeof a.u?a.u=R.O.G(a.u):a.u);if(b&&b.ja&&(b.ld||b.jc))return Wa(b.ld||b.jc,"img.glosspic.userpic",b.name);if(b&&b.ja&&b.Xc)return Wa("https://graph.facebook.com/"+a.u.Xc+"/picture?type=square","img.glosspic.userpic.fbpic",a.u.name);if(b&&b.ja)return z("div.glosspic.userpic.sbooknopic",a.u.name?za(a.u.name,1):"?");if(b){var c=z("div.glosspic.userpic.sbooknopic",a.u.name?O.fl(a.u.name,1):"?");b.load().then(function(b){var d=!1;b.ja?b.ld||b.jc?d=Wa(b.ld||
b.jc,"img.glosspic.userpic",za(a.u.name,1),b.ea?b.name+": "+b.ea:b.name):b.Xc&&(d=Wa("https://graph.facebook.com/"+b.Xc+"/picture?type=square","img.glosspic.userpic.fbpic",za(a.u.name,1),b.ea?b.name+": "+b.ea:b.name)):d=!1;d&&z.replace(c,d)});return c}return!1}function f(a){var b,c=z("HR"),d=z("DIV.locbar",c),f=a.H,e=a.R-f;b||(b=u.p[document.body.id]);var h=b.H;b=b.R-h;c.style.width=e/b*100+"%";c.style.left=(f-h)/b*100+"%";if(a=a.id||a.s)d.ea="#"+a,a=p(a),a=u.vo(a),d.title=a;return d}function F(a){var b=
M.c(a);for(M.cancel(a);b&&!b.pp;)b=b.parentNode;b&&(b=u.w.G(b.pp),u.$l(b,"hold"===a.type)&&u.q("addgloss"))}function r(a,b){b||(b=u.no(a));var c=z("span");c.title="this location in the structure of the book";var d=u.p[a.id];if(b){var f=u.vo(b),e=z("span.headtext.tocref",z("span.spacer","\u00a7"),f);e.setAttribute("data-tocref",b.id);var h=z("span.head",e);e.title="jump to the section: "+f;z.append(c," ",h);if(f=u.Gm(b).Ki)for(e=f.length-1;0<e;){var k=f[e--],n=p(k.s);if(n&&k.title&&n!==u.Nf&&n!==document.body){n=
z("span.tocref.headtext",z("span.spacer","\u00a7"),k.title);n.setAttribute("data-tocref",k.s);var l=z("span.head"," ",n);l.setAttribute("data-href",k.s);n.title=k.title?"jump to the section: "+k.title:"(jump to this section)";a===b?z(h,l):z(h," \u22ef ",l);h=l}}}e=!1;h=!e;e||(e=u.p[u.content.id]);f=z("hr.locrule");k=e.H;e=e.R-k;k=d.H-k;n=d.R-d.H;l="~"+Math.ceil(n/5)+" words long ~"+Math.ceil(k/e*100)+"% along";f.setAttribute("about","#"+(d.id||d.s));f.yB=l+".";f.title=(h?"this section in the book":
"this passage in the section, ")+l+": click or hold to glimpse";f.style.width=n/e*100+"%";f.style.left=k/e*100+"%";c=z("div.mbcard_tochead",f,c);f=!1;h=!f;f||(f=u.p[u.content.id]);e=f.H;f=f.R-e;e=d.H-e;d=d.R-d.H;c.title=h?"this section is ~"+Math.ceil(d/7)+" words long and ~"+Math.ceil(e/f*100)+"% into the book":"this passage is ~"+Math.ceil(d/7)+" words long and ~"+Math.ceil(e/f*100)+"% into the section";return c}function d(a,b,c,f){f||(f={});if("undefined"===typeof a)return!1;if(!(this instanceof
d))return new d(a,b,c,f);if(!a)a=z("div.metabookslice");else if("string"===typeof a){if(ta.hasOwnProperty(a))return ta[a];if(document.getElementById(a))a=document.getElementById(a);else return!1}else if(a.nodeType&&1===a.nodeType&&a.id){if(ta.hasOwnProperty(a.id))return ta[a.id];ta[a.id]=a}else if(!a.nodeType||1!==a.nodeType)return!1;f.hasOwnProperty("initlayout")||(f.PA=!1);f.hasOwnProperty("noslip")||(f.lj=!1);f.hasOwnProperty("id")||(f.id=a.id);f.hasOwnProperty("holdmsecs")||(f.wd=400);f.hasOwnProperty("holdclass")&&
(f.Ao=!1);f.hasOwnProperty("touchtoo")&&(f.xh=function(a){a=a||window.event;u.N&&u.na("touchtoo",!0);this.abort(a,"touchtoo")});a.id?u.D[a.id]=new M.D(a,f):M.D(a,f);u.a.vk(a,"summary");this.Z=a;this.Jf=[];c&&(this.Hc=c);this.Je=new g.jk;this.fi=new g.Km(R.p);this.bf=this.gc=!1;this.tk(b);u.ca&&(f.AC=40);b&&b.length&&a.parentNode&&this.update();return this}function x(a){if(a.id)return a;if(a.childNodes){a=a.childNodes;for(var b=0,c=a.length;b<c;)if(1===a[b].nodeType){var d=x(a[b++]);if(d)return d}else b++}return!1}
function K(a){return ga(a,"mbcard")||ga(a,"mbtoc")?a:ja(a,".mbcard,.mbtoc")||n(a,".mbcard,.mbtoc")}function J(a){var b=M.c(a);ea.g&&W("slice_tapped %o: %o",a,b);if(u.N)u.na("slice_tapped",!0),M.cancel(a);else if(ja(b,".ellipsis")&&(ja(b,".elision")||ja(b,".delision")))M.yf.toggle(b),M.cancel(a);else if(ja(b,".tochead"))b=(b=ja(b,".tocref"))&&b.getAttribute("data-tocref"),u.xe(b),M.cancel(a);else{if(ja(b,".mbmedia")){var c=ja(b,".mbmedia"),d=c.getAttribute("data-src"),f=!1,e=c.getAttribute("data-type");
if(ga(c,"imagelink"))u.Gj(d,e),f=!0;else if(ga(c,"audiolink")||ga(c,"musiclink"))u.Gj(d,e),f=!0;if(f){M.cancel(a);return}}if(c=b.name&&document.getElementById(b.name)?K(document.getElementById(b.name))||K(b):K(b))if(d=ja(c,".metabookslice"),S(d,"mbsyncslice"),d=p(c.getAttribute("data-passage")),f=(f=c.getAttribute("data-gloss"))&&u.w.G(f),d){if(!f&&d)return u.xe(c,0),M.cancel(a);if(ja(b,".tool")){if(u.$l(f))return u.q("addgloss"),M.cancel(a)}else{if("openglossmark"===R.mode)return R.Cg(),P(c),M.cancel(a);
if(ja(b,".showdetail")){if(b=f&&f.detail)return"<"===b[0]?H("METABOOKGLOSSDETAIL").innerHTML=f.detail:0===b.search(/^{(md|markdown)}/)?(c=b.indexOf("}"),H("METABOOKGLOSSDETAIL").innerHTML=u.Ro(b.slice(c+1))):H("METABOOKGLOSSDETAIL").innerHTML=u.Ro(b),u.q("glossdetail"),M.cancel(a)}else return u.xe(c,0),M.cancel(a)}}}}function G(b){b=b||window.event;R.Sp(!1);var c=M.c(b),d=K(c);ea.g&&W("slice_held %o: %o, skimming=%o",b,d,u.La);if(d){if(d.getAttribute("data-gloss")&&"openglossmark"===R.mode)return P(d),
M.cancel(b);(c=R.Is(d))&&c.Gd(d);c=d.cloneNode(!0);c.id="METABOOKSKIM";z.replace("METABOOKSKIM",c);u.he&&(c=u.ab(u.he),aa(c,"mbpreviewing"),u.rd(c),u.he=!1);var f=d.getAttribute("data-passage"),e=(c=d.getAttribute("data-gloss"))&&u.w.G(c),c=p(f),h=!1,k=u.ab(f);u.he=c;S(k,"mbpreviewing");e&&e.pa&&(e=u.wi(k,e.pa,e.Wa))&&(k=e.startContainer,ja(k,c)||(h=a(k,c)),M.Pc(e,"mbhighlightexcerpt"));if(ja(d,".searchslice"))for(var d=u.ra.ba,f=u.p[f],e=f.Ui,k=0,n=d.length;k<n;){var l=d[k++],l=u.zo(l,c,f,e);h||
l&&l.length&&!ja(l[0],c)&&(h=a(l[0],c))}u.Mj(h||c,"slice_held");return M.cancel(b)}}function D(a){var b=K(M.c(a||window.event)),c=b&&b.getAttribute("data-gloss");ea.g&&W("slice_released %o: %o, skimming=%o",a,b);u.N&&u.na("slice_released");c&&"openglossmark"===R.mode&&P(b);M.cancel(a)}function E(a){a=a||window.event;var b=a.relatedTarget;ea.g&&W("slice_slipped %o to %o",a,b);b&&Da(b,".metabookslice")||R.Sp(function(){ea.g&&W("slice_slipped/timeout %o",a);u.na("slice_slipped")})}function P(a){var b=
(a=a.getAttribute("data-gloss"))&&R.ga.Fb.Je[a];b&&(u.q("allglosses"),g.va(function(){R.ga.Fb.Gd(b)}))}var O=g.String,L=g.Aa,z=g.b,W=g.t,M=g.a,Q=g.of,C=g.tb,V=C.Rc,ba=z.r,H=g.I,R=u,p=R.I,ea=R.da,S=z.h,aa=z.l,ca=u.icon,ia=z.addListener,ja=z.getParent,Da=z.cb,n=z.la,za=O.fl,B=M.cancel,Ha=z.Jd;u.gh=q;var Oa=Array.isArray,Wa=z.Image,Xa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ga=z.L;u.a.lh=function(a){var b=u.ga.Fb,c=[],d=u.O;if(a&&0!==a.length){for(var f=0,e=a.length;f<e;){var h=
d.G(a[f++]);h&&c.push(h)}b.filter(function(a){return(a=a.be)&&(C.contains(c,a.u)||C.fp(c,a.Ic)||C.fp(c,a.Mp))})}else b.filter(!1)};var ta={};d.prototype.Hp=function(){this.gc||(this.bf&&this.update(),this.gc=!0)};d.prototype.gh=function(a){return q(a)};d.prototype.Hc=function(a,b){return a.hasOwnProperty("location")?b.hasOwnProperty("location")?a.location===b.location?a.timestamp?b.timestamp?a.timestamp-b.timestamp:-1:1:a.location-b.location:-1:1};d.prototype.lo=function(a){if(1===a.nodeType&&(ga(a,
"mbcard")||ga(a,"mbtoc")))return a=a.getAttribute("data-gloss")||a.getAttribute("data-passage"),this.Je.get(a);if(1===a.nodeType){if(a.id||(a=x(a)),a)return this.Je.get(a.id)||this.fi.get(a.id)}else return a.o&&this.Je.get(a.o)||a.d&&this.Je.get(a.d)};d.prototype.update=function(){u.da.ga&&W("Updating slice %o over %o",this,this.Z);var a=this.Jf,b=[],c=[],d=this.fi,f=this.Z;a.sort(this.Hc);aa(ba(".slicenewpassage",f),"slicenewpassage");aa(ba(".slicenewhead",f),"slicenewhead");this.Z.innerHTML="";
for(var e=!1,h=!1,k=document.createDocumentFragment()||this.Z,n=0,l=a.length;n<l;){var p=a[n++];p.hidden||(p.rj!==h&&(h=p.rj,d[h]=p,S(p.f,"slicenewpassage")),p.head!==e&&(e=p.head,S(p.f,"slicenewhead")),k.appendChild(p.f),b.push(p),c.push(p.f))}k!==this.Z&&this.Z.appendChild(k);Q.update(f);this.visible=b;this.Hj=c;this.bf=!1};d.prototype.refresh=function(a){var b=this;if(this.bf||a)this.vj&&(clearTimeout(this.vj),this.vj=!1),this.vj=setTimeout(function(){b.vj=!1;b.bf=!1;b.update();b.bf&&b.refresh()},
2E3)};d.prototype.filter=function(a){var b=this.Jf,c=0,d=b.length;u.da.ga&&(a?W("Filtering slice %o by %o",this.Z,a):W("Restoring filtered slice %o",this.Z));if(a)for(;c<d;){var f=b[c++];a(f)?f.hidden=!1:f.hidden=!0}else for(;c<d;)delete b[c++].hidden;this.ao=a;this.bf=!0;this.update()};d.prototype.tk=function(a){var b;if(a&&(a instanceof Array||(a=[a]),0!==a.length)){b||(b=this.mf||!1);u.da.ga&&W("Adding %d cards to slice %o with scores %o",a.length,this.Z,b);for(var c=this.Je,d=this.Jf,f=0,e=a.length;f<
e;){var h=a[f++],k=!1,n,l,p=!1,m=!0,q=!1;h.ea&&h.f&&(k=h,n=h.f);if(h.nodeType&&1===h.nodeType&&ga(h,"mbcard")){n=h;l=h.name||h.getAttribute("name");if(!l)continue;(k=c[l])?(k.f!==h&&(q=c[l].f),n=h,k.f=h):n=h}else h instanceof V&&(l=h.o||h.K(),p=h,c[l]?(k=c[l],n=k.f,m=!1):n=this.gh(h));n&&(p||(p=C.resolve(l)),k?c[l]||(c[l]=k):c[l]=k={Qw:L(),id:l,ea:p},b&&b.get(h)&&(k.Dd=b.get(h)),k.f=n,n.getAttribute("data-location")&&(k.location=parseInt(n.getAttribute("data-location"),10)),n.getAttribute("data-gloss")&&
(k.be=u.w.Ka[n.getAttribute("data-gloss")]),n.getAttribute("data-searchscore")&&(k.Dd=parseInt(n.getAttribute("data-searchscore"),10)),n.getAttribute("data-timestamp")&&(k.timestamp=parseInt(n.getAttribute("data-timestamp"),10)),n.getAttribute("data-passage")&&(k.rj=n.getAttribute("data-passage")),n.getAttribute("data-tochead")&&(k.head=n.getAttribute("data-tochead")),this.ao&&(h=this.ao,h(k)?k.hidden=!1:k.hidden=!0),q?this.Z.replaceChild(n,q):m&&d.push(k))}this.bf=!0;this.gc&&this.refresh()}};d.prototype.Gd=
function(a){var b=this.visible,c=this.Hj,d=a.nodeType?c.indexOf(a):b.indexOf(a),f=a.nodeType?a:a.f;if(!(0>d))return a=c[d],this.La&&aa(this.La,"skimpoint"),this.La=a,this.cg=d,this.qn=0===d,this.pn=d>=b.length-1,S(f,"skimpoint"),this.Z.offsetHeight&&0===f.offsetHeight&&Q.Op(this.Z,f),a};d.prototype.forward=function(a){var b=this.Hj;a||(a=this.La||b[0]);a=b.indexOf(a);if(!(0>a||a+1>=this.visible.length))return this.Gd(b[a+1])};d.prototype.He=function(a){var b=this.Hj;a||(a=this.La||b[b.length-1]);
a=b.indexOf(a);if(!(0>=a))return this.Gd(b[a-1])};d.prototype.Fi=function(a){"string"===typeof a&&(a=this.Je.get(a)||this.fi.get(a),a=Array.isArray(a)&&a.length?a[0]:a);var b;a?0>(b=this.Hj.indexOf(a))&&(b=this.visible.indexOf(a)):b=this.cg;return 0<=b?this.visible[b]:!1};d.prototype.ph=function(a){var b=this.Jf,c=0,d=b.length,f=!1;if(!this.cg||!this.Jf[this.cg]||this.Jf[this.cg].location!==a)for(;c<d;){var e=b[c];if("number"!==typeof e.location)c++;else if(e.location===a){this.Gd(e);break}else if(e.location>
a){f?this.Gd(f):this.Gd(e);break}else f=e,c++}};u.a.lo=K;u.BF=function(){if(R.ma){var a=H("METABOOKSKIM"),b;R.ma.ph(R.location);if(R.ma!==R.ga.Nj){for(var c=(b=R.ma.La)&&b.getAttribute("data-passage"),c=c&&R.ab(c),d=!1,f=0,e=c.length;f<e;)d?f++:Da(c[f],".curpage")?d=c[f++]:f++;if(!d){R.q(!1);return}}else b=R.ma.La;b||R.q(!1);c=a.getAttribute("name");d=b.getAttribute("name");c!==d&&(b=b.cloneNode(!0),b.id&&(b.id="METABOOKSKIM"),z.replace(a,b))}};g.b.lb(u.a.C.Dc,{summary:{F:J,wb:G,Fa:D,click:function(a){a=
a||window.event;var b=M.c(a);M.Vf(b)||B(a)},Gc:E}});g.b.lb(u.a.C.ca,{summary:{F:J,wb:G,Fa:D,xh:function(a){a=a||window.event;u.lp(!1);u.N&&(ea.g&&W("slice_touchtoo %o noabout",a),u.na("toc_touchtoo",!0),M.cancel(a))},Pj:function(a){var b=a.deltaX,c=a.deltaY,d=z.sb(),f=0>b?-b:b,e=0>c?-c:c,h=M.c(a),h=ja(h,".metabookslice");ea.g&&W("slice_swiped d=%o,%o, ad=%o,%o, s=%o,%o vw=%o, n=%o",b,c,f,e,a.rb,a.qf,d,a.ef);f>2*e?b<-(u.pb||10)?u.ma?u.Jj():(aa(h,"myslicesync"),Q.forward(h)):b>(u.pb||10)&&(u.ma?u.Ij():
(aa(h,"mbyslicesync"),Q.He(h))):e>2*f&&(u.U?c<-(u.pb||10)?u.q("allglosses"):c>(u.pb||10)&&u.q("search"):e<=(u.pb||10)||(a.rb<d/5&&0>c?u.q("help"):a.rb<d/5&&0<c?u.q("statictoc"):a.rb>.8*d&&0<c?u.q("search"):a.rb>.8*d&&0>c?u.q("allglosses"):0<c?(u.wc(),u.qh()):u.Jb(!0)))},Gc:E}});return d}();(function(){function a(a,b,c,e,k,m,z){e=new Date;var t=u.O;m=m||!1;var x=0,y=a.length,n=!1;m&&m.parentNode&&(n=document.createTextNode(""),m.parentNode.replaceChild(n,m));m?O(m,"completions"):m=k&&k.f?k.f:d("div.completions.cloud.noinput",l(v,y));var v=d("div.maxcompletemsg","There are a lot ","(",d("span.completioncount","really"),")"," of completions.  "),B=d("div.nomatchmsg","(no matches)");d.gb(m,B,v);k||(k=new P(m));var t=A(a,b,t),v=17<y&&(0<t.Qt||t.max!==t.min||17>t.Zo.pk||4<y/t.Zo.pk);v?W(m,
".showall")&&d.gb(m,l(v,y)):d.h(m,"showall");a=[].concat(a);for(w(a);x<y;)b.get(a[x++]);for(x=0;x<y;)t=a[x++],t=q(t,k,b,c),m.appendChild(t),m.appendChild(document.createTextNode(" "));h(k,b,z);b=new Date;F.cc&&r("Made cloud for %d tags in %f seconds",a.length,(b.getTime()-e.getTime())/1E3);n&&n.parentNode.replaceChild(m,n);k.xm=function(){f(this)};return k}function q(a,b,c,d){d=d.get(a)||1;c=c.get(a);a=e(a,b);b=a.title;d&&(b=b?b+"; count="+d:"count="+d);c&&c!==d&&(b=b+"; s="+c);a.title=b;1===d?O(a,
"singleton"):2===d&&O(a,"doubleton");return a}function k(a,b,c,f){var e=!1,h=!1;if(a instanceof E){var k=a.ta,l=!1;a.m===u.$?l="index":(l=a.m.al?a.m.al:(l=u.O.qa(a.m.name))?a.m.al=l.name:"glosses",h=d("sup","*"));b.setAttribute("data-key",k);"string"===typeof h?b.innerHTML=k+h:h?(b.innerHTML=k,b.appendChild(h)):b.innerHTML=k;(f=a[f])&&"string"===typeof f&&(f=[f]);if(f)for(h=0;h<f.length;){var m=f[h++];if(m!==k){var q=d("span.variation",m,"=");q.setAttribute("data-key",m);e||(e=d("span.variations"));
e.appendChild(q)}}a.Ec?(O(b,"prime"),O(b,"cue")):a.Ch&&O(b,"weak");k=0<k.search(/\.\.\.$/)?"root form":"concept";k=(a.Ec?"key ":a.Ch?"weak ":"")+("index"===l?"index "+k+" ":k+" (from "+l+") ");k=a.ea?k+a.ta+": "+a.ea:(l=a.jq())&&l!==a.ta?k+a.ta+"="+a.jq():k+"'"+a.ta+"'";b.title=k}else a.name?(O(b,"source"),O(b,"account"),b.setAttribute("data-key",a.name),b.innerHTML=a.name):a.M&&(O(b,"doc"),b.setAttribute("data-key",a.M),c&&b.title&&c.gn(b,b.title),b.innerHTML=a.M);e&&d.gb(b,e);c&&c.gn(b)}function m(a){var b=
a.ti;if(b){for(var c=0,d=b.length;c<d;){var f=b[c++];k(a,f.Vn,f.Wd,f.lang)}delete a.ti}}function e(a,b,c,f){var e;f||(f="span.completion");"string"!==typeof c&&(c=u.language||zb.language||"EN");var h=b&&b.Di(a,".completion");if(h&&h.length)return h[0];if("string"===typeof a)return c=0<a.search(/\.\.\.$/),e=d(f+(c?".rootform":".rawterm")+(20<a.length?".longterm":""),d("span.termtext","\u201c"+a+"\u201d")),e.setAttribute("data-key",a),e.setAttribute("data-value",a),e.title=c?"forms "+a:a,b&&b.Ee(e,
a,a),e;if(a instanceof D){h=a.o||a.K();e=a.d||a.ta;if(a.m===u.Zd)return c=a.title,40<c.length?d("span.name.ellipsis",c.slice(0,17),d("span.elision","\u2026"),d("span.elided",c.slice(c.length-17))):25<c.length?d("span.name.longname",c):d("span.name",c),e=d("span.name",c),e=d(f+".sectname","\u00a7",e),e.setAttribute("data-key",c),e.setAttribute("data-value",a.o||a.K()),24<c.length&&O(e,"longterm"),20<c.length&&(e.title=c),b&&b.Ee(e,c,a),e;e=a instanceof E?d(20<e.length?f+".dterm.longterm":f+".dterm",
h):d(20<e.length?f+".longterm":f,h);a.Fr&&O(e,a.Fr);e.setAttribute("data-value",h);b&&b.Ee(e,!1,a);if(a.ja)return k(a,e,b,c),e;if(a.ti)a.ti.push({Vn:e,lang:c,Wd:b});else return a.ti=[{Vn:e,lang:c,Wd:b}],a.fe(m),e}else return c=e.toString(),e=d(20<c.length?f+".weirdterm.longterm":f+".weirdterm","?"+c+"\u00bf"),e.title=c,b&&b.Ee(e,c,a),e}function v(a,b,c,f,h,k){c||(c=u.$);if(a)if(a instanceof Array)for(var l=0,m=a.length;l<m;)v(a[l++],b,c,f,h,k);else return k=b.f,a="string"===typeof a&&c?G.resolve(a,
c,zb,!1)||a:a,b=f?q(a,b,f,h):e(a,b),Q(b,k)||d(k,b," "),b}function l(a,b){var c=a&&d("span.showall",d("span.showmore","more"),d("span.showless","fewer"));b&&c&&(c.title="There are "+b+" in all");c&&(c.onclick=t);return c}function A(a,b,c){for(var d=!1,f=!1,e={},h=0,k=0,l=0;l<a.length;){var m=a[l++];m instanceof D&&(m.Ec&&k++,m.m===c||m.Ch||(e[m]=!0,h++));b&&(m=b.get(m))&&(!1===d?d=m:m<d&&(d=m),m>f&&(f=m))}e.pk=h;return{Zo:e,Qt:k,min:d,max:f}}function t(a){var b=x.c(a);if(b=M(b,".completions"))x.cancel(a),
d.qc(b,"showall")}function y(b){if(!b.Wd)if(0===b.ba.length)b.Wd=u.ua;else{var c=b.to(),d=a(c,b.fg,b.vh,0,!1,!1,b.ba),f=d.f;d.yv||(d.yv=new J(f));O(f,"searchcloud");u.Ej(f);if(c.length>u.rh){var c=[].concat(c),e=b.fg;c.sort(function(a,b){if("string"===typeof a&&"string"===typeof b||a instanceof D&&b instanceof D){var c=e.get(a),d=e.get(b);return"number"===typeof c&&"number"===typeof d?d-c:"number"===typeof c?-1:1}return"string"===typeof a?1:-1});for(var f=0,h=u.rh;f<h;){var k=c[f++],k=d.Di(k);O(k,
"cue")}}else O(f,"showall");b.Wd=d}return b.Wd}function w(a){a.sort(function(a,b){var c=a,d=b;if(a instanceof E)if(b instanceof E)c=a.ta,d=b.ta;else return-1;else{if(b instanceof E)return 1;if(a instanceof D)if(b instanceof D)c=a.o||a.K(),d=b.o||b.K();else return-1;else{if(b instanceof D)return 1;if("string"!==typeof a||"string"!==typeof b){if("string"===typeof a)return-1;if("string"===typeof b)return 1;if(typeof a===typeof b)return a<b?-1:a>b?1:0;c=typeof a;d=typeof b;return c<d?-1:c>d?1:0}}}if("\u00a7"===
c[0]&&"\u00a7"!==d[0])return 1;if("\u00a7"===d[0]&&"\u00a7"!==c[0])return-1;0<c.search(/\w/)&&(c=c.slice(c.search(/\w/)));0<d.search(/\w/)&&(d=d.slice(d.search(/\w/)));return c<d?-1:c>d?1:0})}function h(a,b,c){var d=u.fg,e=u.Qj,h=a.values,k=a.Ag,l=Array(h.length),m=Array(h.length),q=0,n=h.length,t=Infinity,z=-1,x=Infinity,y=-1;for(F.cc&&r("Sizing %d tags in cloud %o with roots %o",h.length,a.f,c);q<n;){var v=h[q],w,A=!1;c&&c.length&&0<=c.indexOf(v)?m[q]=l[q]=!1:(b?(A=b.get(v),(w=d.get(v))?(v=e.get(v)||
1,w=A/w*v):w=!1):w=d.get(v),"number"!==typeof w||isNaN(w)?l[q]=!1:(l[q]=w,w<t&&(t=w),w>z&&(z=w)),"number"!==typeof A||isNaN(A)?m[q]=!1:(m[q]=A,A<x&&(x=A),A>y&&(y=A)));q++}F.cc&&r("Sizing %d tags in %o with scores in [%o,%o]",h.length,a.f,t,z);a.f.style.display="none";for(q=0;q<n;)d=h[q],e=l[q],A=m[q],b=k.get(d),d.Ec&&(O(b,"prime"),O(b,"cue")),c&&c.length&&0<=c.indexOf(d)&&O(b,"cloudroot"),e||A?(d=50+150*(e?(e-t)/(z-t):(A-x)/(y-x)),b.style.fontSize=200>d?Math.round(d)+"%":"200%"):(O(b,"unscored"),
b.style.fontSize=""),q++;F.cc&&r("Finished computing sizes for %o using scores [%o,%o]",a.f,t,z);a.f.style.display="";L(a.f,"working");F.cc&&r("Rendered new cloud %o using scores [%o,%o]",a.f,t,z);a.f.parentNode&&setTimeout(function(){f(a)},50);F.cc&&r("Finished sizing tags in %o using scores [%o,%o]",a.f,t,z)}function c(a){u.Kp(u.Yr(u.ra,a))}function b(a,b){for(var c=z(a.f,".cue.softcue"),d=0,f=c.length;d<f;){var e=c[d++];L(e,"cue");L(e,"softcue")}c=a.Di(b);d=0;for(f=c.length;d<f;)e=c[d++],C(e,"cue")||
(O(e,"cue"),O(e,"softcue"))}function f(a){var b=Math.round,c=Math.sqrt;a=a.f;var d=a.parentNode;if(d){var f=100;a.style.fontSize="";var e=a.scrollHeight,d=d.clientHeight;F.cc&&r("Adjusting cloud %o: %o/%o",a,e,d);0===d||0===e||e<d&&e>.8*d||e>2*d||(d*=.9,f=e<d?b(c(d/e)*(f/100)*100):b(d/e*(f/100)*100),a.style.fontSize=200<f?"200%":f+"%",F.cc&&r("Adjusted cloud %o: %o/%o to %o%%",a,e,d,f))}else a.style.fontSize=""}var F=u.da,r=g.t,d=g.b,x=g.a,K=g.I,J=g.D,G=g.tb,D=g.Rc,E=zb.oa;u.Xl=!1;u.ua||(u.ua=!1);
u.rh||(u.rh=25);u.jh||(u.jh=7);var P=x.xf,O=d.h,L=d.l,z=d.J,W=d.la,M=d.getParent,Q=d.cb,C=d.L,V=r,ba=G.resolve;u.GB=a;u.Hk=e;u.vg=v;u.a.Hs=l;u.fh=y;G.Qc.prototype.os=function(){return y(this)};u.QE=function(a,b,c){if(a instanceof E){if(!(b instanceof E))return-1}else{if(b instanceof E)return 1;if(a instanceof D){if(!(b instanceof D))return-1}else{if(b instanceof D)return 1;if("string"!==typeof a||"string"!==typeof b){if(typeof a===typeof b)return a<b?-1:a>b?1:0;a=typeof a;b=typeof b;return a<b?-1:
a>b?1:0}}}var d=c.get(a);c=c.get(b);return"undefined"===typeof d?"undefined"===typeof c?("string"!==typeof a&&(a=a.o||a.K(),b=b.o||b.K()),a<b?-1:b>a?1:0):1:"undefined"===typeof c?-1:d===c?a<b?-1:a>b?1:0:d>c?-1:1};u.pE=w;u.Tp=function(a){var b=[].concat(a.values);w(b);for(var c=a.Ag,d=document.createDocumentFragment(),f=0,e=b.length;f<e;){var h=b[f++];if(h=c.get(h))1<f&&d.appendChild(document.createTextNode(" ")),d.appendChild(h)}a.f.appendChild(d)};u.Qp=h;u.a.C.xj=function(a){a=a||window.event;var b=
d.c(a),f=M(b,".completion");if(C(f,"cloudroot"))F.g&&V("cloud tap on cloudroot %o",f);else{F.g&&V("cloud tap on %o",f);var e=M(b,".completions");f?(b=(u.ra.Wd||u.ra.os()).Og(f),"string"!==typeof b?c(b):0!==b.length&&(0<=b.indexOf("@")?c(ba(b)):u.$&&u.$.qa(b)?c(u.$.qa(b)):c(b)),x.cancel(a)):d.sl(b,".resultcounts")?(u.fm(u.ra),u.q("searchresults"),K("METABOOKSEARCHINPUT").blur(),K("METABOOKSEARCHRESULTS").focus(),x.cancel(a)):d.sl(b,".refinercounts")?(d.qc(e,"showall"),d.cancel(a)):d.sl(b,".maxcompletemsg")&&
(u.ca||K("METABOOKSEARCHINPUT").focus(),d.qc(e,"showall"),d.cancel(a))}};u.a.FD=function(){d.qc(K("METABOOKSEARCHCLOUD"),"showall")};u.WD=b;u.Fp=function(a,c){var d=[],f=c.fa||c.id||c.s,e=u.p[f],f=u.w.find("frag",f),h=u.$;e&&e.ba&&(d=d.concat(e.ba));if(e&&e.sn&&e.sn.length)for(var e=e.sn,k=0,l=e.length;k<l;){var m=h.qa(e[k]);m&&d.push(m.xv());k++}h=0;for(e=f.length;h<e;)(k=f[h++].ba)&&(d=d.concat(k));b(a,d)};u.Zh=f;P.prototype.Zh=function(){return f(this)}})();u.Mq=function(){function a(e,l,q){var h;if(h=l.Lb){h=q;var c=k("a.mbtoc_sectname",l.title);q=k("div.mbtoc_elements");h=k("div.mbtoc",k("div.mbtoc_text",h&&h.cloneNode(!0),c),q);var c=l.H,b=l.R-c;if(l.sub&&l.sub.length){var f=l.sub,v=0,r=f.length;for(m(h,"mbtocbranch");v<r;){var d=f[v++],x=k("a.mbtoc_sectbrick"),A=d.H,J=d.R-A;x.name="MBTOC4"+d.s;x.style.left=(A-c)/b*100+"%";x.style.width=J/b*100+"%";d.title&&(x.title=d.title);q.appendChild(x)}}b=l.head;c=l.H-b.H;b=b.R-b.H;f=l.R-l.H;v=k("a.mbtoc_showsize");
m(h,"mbtocleaf");v.style.width=f/b*100+"%";v.style.left=c/b*100+"%";q.appendChild(k("div.mbtoc_posbar"));q.appendChild(v);h.id="MBTOC4"+l.s;h.setAttribute("name","MBTOC4"+l.s);h.setAttribute("data-passage",l.s);h.setAttribute("data-location",l.H);h.setAttribute("data-level",l.Lb);m(h,"mbtoc"+l.Lb)}if(h=(q=h)&&{f:q,ea:l,id:l.d,head:l.s,rj:l.d,location:l.H})e.tk([h]),e.Z.appendChild(q);q=k("span.context",k("span.tocpath","\u00a7",l.title));if(l.sub&&l.sub.length)for(l=l.sub,h=0,c=l.length;h<c;)a(e,
l[h++],q)}function q(e,k){if(!(this instanceof q))return new q(e,k);l.call(this,k);a(this,e);return this}var k=g.b,m=k.h,e=k.l,v=k.r,l=u.og,A=u.icon;u.$B=function(a){switch(a){case "right":return A("skim_right",64,64);case "left":return A("skim_left",64,64);case "start":return A("skim_left_stop",64,64);case "end":return A("skim_right_stop",64,64);default:return!1}};q.prototype=new l;q.zj=function(a){e(v(".mblivetoc"),"mblivetoc");e(v(".mbcurtoc"),"mbcurtoc");if(a){for(var k=a;k;){for(var l=document.getElementsByName("MBTOC4"+
k.s),h=0,c=l.length;h<c;){var b=l[h++];m(b,"mblivetoc");k===a&&m(b,"mbcurtoc")}k=k.head}(k=u.ga.Nj)&&(a=k.fi[a.s])&&k.Gd(a.f)}};q.prototype.mode="statictoc";return u.Lm=q}();u.q=function(){function a(a){if(a.s)if(r(a.s)){var c=d.a.uk;!a.u&&d.e&&(a.u=d.e);M.tk(a);var f=d.ab(a.s);J(f,"glossed");for(var e=0,k=f.length;e<k;)c(f[e++],a);a.pa&&(c=d.wi(f,a.pa,a.Wa))&&b.Pc(c,"mbexcerpt",a.Ya,{"data-glossid":a.d});if(a.ba)for(c=d.Ea,f=a.ba,e=0,k=f.length;e<k;)d.Hk(f[e++],c);a.Nc>d.pe&&(u.pe=a.Nc)}else h("Gloss (add2UI) refers to nonexistent '%s': %o",a.s,a);else h.warn("Warning: skipping gloss %o with no fragment identifier",a.Pa)}function q(a,b){"undefined"===typeof b&&(b=!0);
(x.g||x.mode)&&h("setHUD(%s) %o mode=%o hudup=%o bc=%o hc=%o",b?"clearmode":"keepmode",a,d.mode,d.U,document.body.className,W.className);if(a)u.U=!0,G(document.body,/\b(openhud|openglossmark)\b/g),G(document.body,"mbSHOWHELP"),J(document.body,"hudup"),d.mode||J(document.body,"mbNOMODE");else{u.U=!1;d.N&&d.na("setHUD");G(document.body,"mbSHRINK");if(b){if(d.bh){var c=d.bh;d.bh=!1;c()}G(W,"openheart");G(W,"openhead");G(W,"full");G(W,Q);G(d.zd,Q);G(document.body,"mbSKIMMING");G(document.body,"mbSKIMSTART");
G(document.body,"mbSKIMEND");J(document.body,"mbNOMODE");u.ma=!1;u.mode=!1}G(document.body,"hudup");G(document.body,"openhud")}}function k(){d.tg&&w.Ib("mB("+d.B+").opened");q(!1);u.closed=!0;d.Lk&&(J(d.ki,d.Lk),u.mode=u.Lk);J(document.body,"mbCOVER")}function m(){d.tg&&w.lc("mB("+d.B+").opened",y());u.closed=!1;G(document.body,"mbCOVER");d.mode&&(u.Lk=d.mode,u.mode=!1,u.ki.className="")}function e(a,b){var e=d.mode;if("undefined"===typeof a)return e;"last"===a&&(a=d.Wf);!a&&d.mode&&0<=d.mode.search(ba)&&
(a=d.Wf);"none"===a&&(a=!1);"heart"===a&&(a=d.Rs||"statictoc");x.mode&&h("setMode %o, cur=%o dbc=%o",a,d.mode,document.body.className);a!==d.mode&&d.N&&d.na("setMode");a!==d.mode&&d.bh&&(e=d.bh,d.bh=!1,e());"layers"!==a||f("BOOKHUBAPP").src||d.yk||d.Do();"addgloss"===d.mode&&"addgloss"!==a&&D("METABOOKLIVEGLOSS","modified")&&d.oe(f("METABOOKLIVEGLOSS"));a?G(document.body,"mbNOMODE"):J(document.body,"mbNOMODE");if(a){"search"===a&&(a=d.Lu||"refinesearch");"addgloss"!==a&&G(document.body,"mbSHRINK");
if(!0===a)d.Zc(),R[d.mode]&&(e=R[d.mode],e=0<=e.search(/[.#]/)?c.$1(e):f(e),e.blur()),G(W,Q),G(d.zd,Q),u.mode=!1,u.Wf=!0;else{if("string"!==typeof a)throw Error("mode arg not a string");if(0<=a.search(H)){a!==d.mode&&(f("METABOOKCOVER").className=a,u.mode=a,u.Cl=y());"console"===a&&h.update();k();return}a!==d.mode&&(d.Zc(),u.Cl=y(),R[d.mode]&&(e=R[d.mode],e=0<=e.search(/[.#]/)?c.$1(e):f(e),e.blur()),a!==d.mode&&(u.Wf=d.mode),u.mode=a)}"sbooksapp"!==a||f("BOOKHUBAPP").src||d.yk||l();if("refinesearch"===
a||"searchresults"===a||"expandsearch"===a)u.Lu=a;"addgloss"===a?J(document.body,"openhud"):"openglossmark"===a?(J(document.body,"openhud"),J(document.body,"openglossmark")):b||q(!0);!0===a?(G(W,"openhead"),G(W,"openheart"),c.pc(W,Q,"minimal"),c.pc(d.zd,Q,"minimal")):"addgloss"===a?(J(W,"openhead"),G(W,"openheart")):(0>a.search(C)&&G(W,"openheart"),0>a.search(V)&&G(W,"openhead"),0<=a.search(C)&&(u.Rs=a,J(W,"openheart")),0<=a.search(V)&&(u.dA=a,J(W,"openhead")));v(a)}else u.Wf=d.mode,D(document.body,
"mbCOVER")&&m(),"openglossmark"===d.mode&&f("METABOOKOPENGLOSSMARK")&&(f("METABOOKOPENGLOSSMARK").id="",G(document.body,"openglossmark")),d.ed&&d.dd(!1),d.La&&(e=d.ab(d.target),d.rd(e),G(e,"mbhighlightpassage")),G(W,"openheart"),G(W,"openhead"),G(document.body,"dimmed"),G(document.body,"mbSHOWHELP"),G(document.body,"mbPREVIEW"),G(document.body,"mbSHRINK"),G(W,Q),G(d.zd,Q),u.Pb=!1,b?d.Jb(!1):q(!1)}function v(a){x.mode&&h("changeMode %o, cur=%o dbc=%o",a,d.mode,document.body.className);G(d.zd,Q);G(W,
Q);J(W,a);J(d.zd,a);"openglossmark"!==a&&"openglossmark"===d.mode&&(f("METABOOKOPENGLOSSMARK")&&(f("METABOOKOPENGLOSSMARK").id=""),G(document.body,"openglossmark"));if("statictoc"===a){var b=f("MBTOC4"+(d.head&&d.head.id&&d.p[d.head.id]).s),e=g.I("METABOOKSTATICTOC");D(e,"mbsyncslice")&&(g.of.check(e),0===b.offsetHeight&&g.of.Op(e,b))}else if(d.ga[a]){var b=d.location,e=d.ga[a],k=e.Z;e.Hp();D(k,"mbsyncslice")&&e.ph(b)}else d.qj[a]&&g.of.check(d.qj[a]);if(R[a]){var b=R[d.mode],l=0<=b.search(/[.#]/)?
c.$1(b):f(b);!l||d.ca&&!P(l,d.b.Xk)||setTimeout(function(){d.dd(l)},50)}else"addgloss"===a&&d.nb?(b=d.nb,e=d.mo(b),d.xa(e,b)):setTimeout(d.js,50);d.ga[a]&&d.ga[a].Hp()}function l(){if(!p&&!d.yk){var a="";document.location.search&&(a="?"===document.location.search[0]?a+document.location.search.slice(1):a+document.location.search);a.length&&"&"!==a[a.length-1]&&(a+="&");var b=d.M,c="https://"+d.Na+"/flyleaf?"+a;0>a.search("REFURI=")&&(c=c+"REFURI="+encodeURIComponent(b));0>a.search("TOPURI=")&&(c=c+
"&TOPURI="+encodeURIComponent(document.location.href));document.title&&(c=c+"&DOCTITLE="+encodeURIComponent(document.title));d.e&&(c=c+"&BOOKUSER="+encodeURIComponent(d.e.d));document.location.hash&&(c=c+"&HASH="+document.location.hash.slice(1));f("BOOKHUBAPP").src=c;p=!0}}function A(a,k){var l=f("METABOOKSKIMMER"),m=d.La,p=t(a);if(p){var q=p.Fi(a);if(q){a=q.f||a;p.mode&&d.mode!==p.mode&&e(p.mode);q=r(q.rj||q.id);"number"!==typeof k&&(k=0);P(a,d.b.Fb)?u.ma=d.ga.Fb:P(a,f("METABOOKSEARCHRESULTS"))?
u.ma=d.ga.Ap:P(a,f("METABOOKSTATICTOC"))?u.ma=d.ga.Nj:d.ma=!0;x.mode&&h("metaBookSkim() %o (card=%o) mode=%o scn=%o/%o dir=%o",q,a,d.mode,d.La,d.target,k);if(m!==a){var n=a.cloneNode(!0);n.id="METABOOKSKIM";c.replace("METABOOKSKIM",n);n.offsetHeight>l.offsetHeight?J(l,"oversize"):G(l,"oversize");p.Gd(a);p.qn?f("MBPAGELEFT").innerHTML="":f("MBPAGELEFT").innerHTML="<span>-"+p.cg+"</span>";p.pn?f("MBPAGERIGHT").innerHTML="":f("MBPAGERIGHT").innerHTML="<span>"+(p.visible.length-p.cg-1)+"+</span>";m&&
G(m,"skimpoint");a&&J(a,"skimpoint");u.La=a}l=document.body;m=f("METABOOKSKIMMER");J(l,"mbSKIMMING");p.pn?J(l,"mbSKIMEND"):G(l,"mbSKIMEND");p.qn?J(l,"mbSKIMSTART"):G(l,"mbSKIMSTART");G(m,"mbfoundhighlights");d.Ab(q,"Skim");d.target&&d.rd(d.ab(d.target));d.Oa(q);if((l=a)&&D(l,"gloss"))if(p=d.w.G(l.name),p.pa){if(q=d.ab(q.id),q=d.wi(q,p.pa,p.Wa))b.Pc(q,"mbhighlightexcerpt"),J("METABOOKSKIMMER","mbfoundhighlights")}else"#"===l.ea[0]?J(d.ab(l.ea.slice(1)),"mbhighlightpassage"):J(d.ab(l.ea),"mbhighlightpassage");
else if(l&&E(l,".searchslice")&&(q=r(l.ea))){var p=d.p[q.id],l=d.ra.ba,m=p.Ui,n=0,z=l.length;if(0===z)J(d.ab(q),"mbhighlightpassage");else for(;n<z;){var v=l[n++];d.zo(v,q,p,m)}}}else h.warn("No info for skimming to %s in %s",a,p)}else h.warn("Can't determine slice for skimming to %o",a)}function t(a){var b=d.ga[d.mode];return b&&b.Fi(a)?b:a.nodeType?P(a,d.b.Fb)?d.ga.Fb:P(a,f("METABOOKSEARCHRESULTS"))?d.Ap:!1:"string"===typeof a?d.w.qa(a)?d.ga.Fb:d.p[a]?d.ga.Nj:!1:!1}var y=g.Aa,w=g.$a,h=g.t,c=g.b,
b=g.a,f=g.I,F=b.D,r=u.I,d=u,x=d.da,K=d.Mq,J=c.h,G=c.l,D=c.L,E=c.getParent,P=c.cb,O=g.String.pl,L=d.Wk,z=!1,W=!1,M=!1;u.ft=function(){function k(a){var b=a.origin;x.aj&&h("Got a message from %s with payload %j",b,a.data);0!==b.search(/https?:\/\/[^\/]+.(bookhub\.io|metabooks\.net|sbooks\.net)/)?h.warn("Rejecting insecure message from %s: %s",b,a.data):"sbooksapp"===a.data?e("sbooksapp"):"metabooksapp"===a.data?e("sbooksapp"):"loggedin"===a.data?d.e||d.Bh():"string"===typeof a.data&&0===a.data.search("setuser=")?
d.e||(u.ib=JSON.parse(a.data.slice(8)),d.No(d.ib),e("welcome"),d.Bh()):a.data.DF?d.Ah():a.data.Rw?d.Ah():a.data.Cy||a.data.pA||a.data.mE?d.rp():a.data.ib?d.e||(u.ib=a.data.ib,d.No(d.ib),e("welcome"),d.Bh()):a.data&&c("METABOOKINTRO",a.data)}if(!f("METABOOKHUD")){var l=y(),m=c("div#METABOOKSTARTUPMESSAGES.startupmessages");m.innerHTML=L(u.V.aj);2<x.n&&h("Initializing HUD layout");u.jb=W=c("div#METABOOKHUD.metabookhud");W.innerHTML=L(d.V.ql);W.Ze=!0;c.append(m);f("METABOOKFRAME")?z=f("METABOOKFRAME"):
(z=c("div#METABOOKFRAME"),!d.ri&&d.Ei("animatehud")&&J(z,"_ANIMATE"),c.gb(document.body,z));J(z,"metabookframe");J(z,"tapholdcontext");z.appendChild(m);z.appendChild(W);d.Ei("uisize")&&J(z,"metabookuifont"+d.Ei("uisize"));u.Em=z;f("METABOOKHUDHELP").innerHTML=L(d.V.Us);f("METABOOKAPPHELP").innerHTML=L(d.V.Ni);m=f("METABOOKHEARTBODY");m.innerHTML=L(d.V.Mi);u.b.Mi=m;f("METABOOKGLOSSATTACH").innerHTML=L(d.V.lr);u.b.Mi=m;u.b.head=f("METABOOKHEAD");u.b.Mi=f("METABOOKHEARTBODY");u.b.Xk=f("METABOOKFOOT");
u.b.wv=f("METABOOKTABS");u.b.mj=f("METABOOKNOTETEXT");u.b.bi=f("METABOOKASIDE");u.b.hu=f("METABOOKPAGEBAR");f("METABOOKSEARCH").innerHTML=L(d.V.Ou);J(d.jb,"emptysearch");f("METABOOKADDGLOSSPROTOTYPE").innerHTML=L(d.V.jn);u.a.vk(W,"hud");1<x.n&&h("Created basic HUD in %dms",y()-l);if(!d.Oj){var m=c.J(W,"img"),p=0,q=m.length;for(x.n&&h("Switching images to SVG");p<q;){var r=m[p++];r.src&&(O(r.src,".svg")||O(r.src,".svgz"))&&r.getAttribute("bmp")&&(r.src=r.getAttribute("bmp"))}}u.AA=y();c.am(".metabookrefuri",
d.M);c.am(".metabookdocuri",d.ya);c.am(".metabooktopuri",d.Iv);u.b.Fb=f("METABOOKALLGLOSSES");2<x.n&&d.b.Fb&&h("Setting up gloss UI %o",M);u.ga.Fb=M=new d.og(d.b.Fb);u.ga.Fb.mode="allglosses";u.w.$o("maker",function(a,b,c){d.O.G(c).$t(d.a.Wh,"newsource")});u.w.$o("sources",function(a,b,c){d.O.G(c).$t(d.a.Wh,"newsource")});u.w.fe(a);x.aj&&h("Setting up message listener");c.addListener(window,"message",k);u.D.Xk=new b.D(u.b.Xk,{ff:!0,xA:!0,Lc:0,wd:150,pb:0});u.D.head=new F(d.b.head,{ff:!0,Lc:0,wd:200});
u.b.Rp=f("METABOOKSKIMMER");u.D.Rp=new F(d.b.Rp,{Lc:300});u.b.Ic=f("METABOOKSOURCES");u.D.Ic=new F(d.b.Ic,{Lc:300});(d.b.Ni=f("METABOOKHELP")).innerHTML=L(d.V.Ni);m=f("METABOOKGLOSSCLOUD");u.Ea=new b.xf(m,f("METABOOKADDTAGINPUT"),b.dk|b.ck|b.bk);u.D.Ea=new F(d.Ea.f);u.ua=new b.xf(f("METABOOKALLTAGS"),!1,b.dk|b.ck|b.bk);d.Zh&&(u.ua.xm=function(){d.Zh(this)});u.b.ua=f("METABOOKALLTAGS");u.D.ua=new F(d.ua.f);m=f("METABOOKSHARECLOUD");u.mc=new b.xf(m,f("METABOOKADDSHAREINPUT"),b.dk|b.ck|b.bk);u.b.mc=
m;u.D.mc=new F(d.mc.f);c.av(f("METABOOKHUD"));1<x.n&&h("Initialized basic HUD in %dms",y()-l)}};u.xu=function(){g.b.Ef(d.jb)};u.en=a;u.dv=function(a){var b=c("div#METABOOKSTATICTOC.metabookslice.mbtocslice.hudpanel");c.replace("METABOOKSTATICTOC",b);a=new K(a,b);u.eF=a;u.ga.Nj=a;u.Ej(b)};u.Jb=q;u.qh=k;u.Zc=m;u.Ev=function(){D(document.body,"mbCOVER")?m():k()};var Q=/\b((search)|(refinesearch)|(expandsearch)|(searchresults)|(openglossmark)|(allglosses)|(context)|(statictoc)|(minimal)|(addgloss)|(gotoloc)|(gotoref)|(gotopage)|(shownote)|(showaside)|(glossdetail))\b/g,
C=/\b((statictoc)|(search)|(refinesearch)|(expandsearch)|(searchresults)|(allglosses)|(showaside)|(glossaddtag)|(glossaddtag)|(glossaddoutlet)|(glossdetail))\b/g,V=/\b((search)|(refinesearch)|(expandsearch)|(searchresults)|(allglosses)|(addgloss)|(shownote))\b/g,ba=/\b((glossdetail))\b/g,H=/\b((welcome)|(help)|(layers)|(login)|(settings)|(cover)|(aboutsbooks)|(aboutmetabooks)|(console)|(aboutbook)|(titlepage))\b/g;u.Ku=/((refinesearch)|(searchresults)|(expandsearch))/;var R={Yz:"METABOOKPAGEINPUT",
Xz:"METABOOKLOCINPUT",Zz:"METABOOKREFINPUT",search:"METABOOKSEARCHINPUT",dD:"METABOOKSEARCHINPUT",Ny:"METABOOKSEARCHINPUT"};u.fF=function(a,b){d.mode?a===d.mode?b?e(!0):e(!1):"heart"===a&&0===d.mode.search(C)?b?e(!0):e(!1):e(a):e(a)};u.Pe=function(){return e(!1)};u.kq=function(a){a=a||window.event;a&&b.Vf(b.c(a))||(h("toggle HUD %o hudup=%o",a,d.U),d.U?q(!1,!1):q(!0))};var p=!1;u.Do=l;u.OD=function(){"sbooksapp"===d.mode?e(!1):e("sbooksapp")};u.me=function(){var a=d.La;d.ma&&(G(document.body,"mbSKIMMING"),
d.ma=!1,E(a,f("METABOOKALLGLOSSES"))?e("allglosses"):E(a,f("METABOOKSTATICTOC"))?e("statictoc"):E(a,f("METABOOKSEARCHRESULTS"))&&e("searchresults"))};var ea=c.requestAnimationFrame;u.xe=function(a,b){ea(function(){A(a,b)})};u.xe=A;u.Is=t;u.ka("uisize",function(a,b){c.pc(d.Em,/metabookuifont\w+/g,"metabookuifont"+b);g.va(function(){d.Zf()});g.va(function(){d.fd(a,b)})});u.ka("dyslexical",function(a,b){var f=document.documentElement||document.body;if(b&&"string"===typeof b&&/yes|on|t/i.exec(b)){if(D(f,
"_DYSLEXICAL"))return;u.ui=!0;J(f,"_DYSLEXICAL")}else if(D(f,"_DYSLEXICAL"))u.ui=!1,c.l(f,"_DYSLEXICAL");else return;g.va(function(){d.Zf();d.j&&d.jd("typechange")},10)});u.ka("animatecontent",function(a,b){d.ri||(b?J(document.body,"_ANIMATE"):G(document.body,"_ANIMATE"));g.va(function(){d.fd(a,b)})});u.ka("animatehud",function(a,b){d.ri||(b?J("METABOOKFRAME","_ANIMATE"):G("METABOOKFRAME","_ANIMATE"));g.va(function(){d.fd(a,b)})});u.xd=function(a,b){if(!0===a)d.xd.za&&(clearTimeout(d.xd.za),d.xd.za=
!1),G("METABOOKKEYBOARDHELPBOX","closing"),G("METABOOKKEYBOARDHELPBOX","closed");else if(!1===a)d.xd.za&&(clearTimeout(d.xd.za),d.xd.za=!1),J("METABOOKKEYBOARDHELPBOX","closed"),G("METABOOKKEYBOARDHELPBOX","closing");else if(b||d.Ti)if("string"===typeof a&&(a=f(a)),a&&a.nodeType){var e=f("METABOOKKEYBOARDHELPBOX"),h=a.cloneNode(!0);h.id="METABOOKKEYBOARDHELP";c.replace("METABOOKKEYBOARDHELP",h);c.l(e,"closed");u.xd.za=setTimeout(function(){c.h(e,"closing");u.xd.za=setTimeout(function(){u.xd.za=!1;
c.pc(e,"closing","closed")},5E3)},5E3)}};u.Np=function(){var a=u.Rf;if(!d.w.G(a))return!1;if((a=document.getElementsByName(a))&&a.length)for(var b=c.cb,f=0,h=a.length;f<h;){var k=a[f++];if(b(k,M))return e("allglosses"),d.xe(k),!0}return!1};u.mA=function(){c.l(document.body,"mbSHOWHELP")};u.showHelp=function(){c.h(document.body,"mbSHOWHELP")};return e}();(function(){function a(a,f){var e=window.scrollLeft||0,m=window.scrollTop||0;a?(a.s&&(a=a.s),"string"===typeof a&&(a=A(a)),a&&(c=a,h||(h={x:0,y:m}),e=q.mb(a,l.content),y.zc&&k("startScrollPreview/%s to %d for %o",f||"nocaller",e.top-100,a),e=e.top-(q.zb()-50)/2,0>e&&(e=0),window.scrollTo(0,e))):(h?(y.zc&&k("stopScrollPreview/%s to %j from %d,%d(%o)",f||"nocaller",h,e,m,c),c=!1,window.scrollTo(h.x,h.y)):(y.zc&&k("stopScrollPreview/%s to %j from %d,%d(%o)",f||"nocaller",h,e,m,c),c=!1),h=!1)}var q=g.b,
k=g.t,m=q.l,e=q.h,v=q.L,l=u,A=l.I,t=l.Ue,y=l.da,w=l.Ab,h=!1,c=!1;u.Mj=function(b,c){var h=b.nodeType?b:A(b);(y.zc||y.Pl)&&k("startPreview %o (%s)",h,c);l.ma&&l.me();if(l.j instanceof g.Mb){var m=t(h)&&l.ab(h);l.mv(h,c);e(h,"mbpreviewing");m&&e(m,"mbpreviewing")}else a(h,c),e(h,"mbpreviewing");u.N=h;e(document.body,"mbPREVIEW");v(h,"codexpage")&&e(document.body,"mbPAGEPREVIEW")};u.na=function(b,c){for(var e=q.r(".mbpreviewing"),r=0,d=e.length;r<d;){var t=e[r++];m(t,"mbpreviewing");l.rd(t)}c&&!c.nodeType&&
(c=l.he||l.N);(y.zc||y.Pl)&&k("stopPreview/%s jump to %o, pt=%o, p=%o",b||"nocaller",c,l.he,l.N);l.j instanceof g.Mb?l.Xp(b,c):(c&&c===l.N&&(h=!1),a(!1,b));l.N=!1;l.he=!1;m(document.body,"mbPREVIEW");m(document.body,"mbPAGEPREVIEW");c&&(l.U&&l.Jb(!1),w(c))}})();(function(){function a(){var a=h.j;w.resize&&v("Real resize w/layout=%o",a);G&&(clearTimeout(G),G=!1);m();h.Zf();h.bg();a&&h.Ul(!1);if(h.ca&&(h.ed||document.activeElement&&("INPUT"===document.activeElement.tagName||"TEXTAREA"===document.activeElement.tagName||document.activeElement.isContentEditable)))w.resize&&v("Resize for soft keyboard, mostly ignoring");else if(window.outerWidth===f&&window.outerHeight===b)a&&u.Ul(!0),w.resize&&v("Resize to norm, ignoring");else{k();f=window.outerWidth;b=window.outerHeight;
var d=c(l("CODEXPAGE"),!1,!0).width,r=c(l("CODEXPAGE"),!1,!0).ad;a&&a.width===d&&a.height===r?w.resize&&v("Layout size unchanged, ignoring"):a&&a.onresize&&!u.Pf&&(u.Oo&&a.Kc&&a.Hb-a.Kc<=u.Oo?G=setTimeout(q,50):E||(u.wt()?G=setTimeout(q,50):(a=e("div.title","Update layout?"),u.Ul(!0),E=!0,E=y.Uc({Le:[{label:"Yes",S:function(){E=!1;F=!0;u.Ho=10;G=setTimeout(q,50)},eb:F},{label:"No",S:function(){F=E=!1;u.Ho=10},eb:!F}],timeout:u.Ho||u.wr||20,Jc:"div.fdjtdialog.fdjtconfirm.updatelayout"},a))))}}function q(a){G&&
clearTimeout(G);G=!1;u.j.onresize(a)}function k(){for(var a=e.r(".fdjtpage"),b=0,c=a.length;b<c;){var d=a[b++];d.offsetHeight?t.update(d):A(d,"needsresize")}}function m(){var a=e.h,b=document.body,c=e.sb(),d=e.zb();e.l(b,J);700>c?a(b,"_NARROW"):1200<c&&a(b,"_WIDE");350>d?a(document.body,"_REALLYSHORT"):600>d?a(document.body,"_SHORT"):1200<d&&a(document.body,"_TALL")}var e=g.b,v=g.t,l=g.I,A=e.h,t=g.of,y=g.a,w=u.da,h=u,c=e.mb,b=window.outerHeight,f=window.outerWidth,F=!1,r=!1,d=[],x=!1,K=!1;u.Zf=function(){var a;
"number"!==typeof a&&(a=100);return new Promise(function(b){r&&clearTimeout(r);r=setTimeout(function(){var a=e.zb(),b=e.sb();if(b!==x||a!==K){var c=g.Aa(),f=l("METABOOKHUD"),k=l("METABOOKCOVER");K=a;x=b;k&&h.wu(k);f&&h.xu();(f||k)&&v("Resized UI in %fsecs, running %d callbacks",(g.Aa()-c)/1E3,d.length)}a=d;r=!1;d=[];b=0;for(c=a.length;b<c;)a[b++]()},a);d.push(b)})};u.resize=a;var J=/\b_(NARROW|WIDE|REALLYSHORT|SHORT|TALL)\b/g;u.AF=m;var G=!1,D=!1,E=!1;u.yu=function(b){b=b||window.event;w.resize&&
v("Resize event %o, waiting=%o",b,D);D&&clearTimeout(D);E&&(w.resize&&v("Close resize dialog %o",b),g.we.close(E),E=!1);D=setTimeout(a,u.zu)}})();(function(){function a(a,b){"string"===typeof a&&(a=t.resolve(a));var c=a.Vs;if(a.name){if(b){var d=y("SBOOKSOURCEICON"+c);if(!d){var d=a.ld||a.jc||a.Xc&&"https://graph.facebook.com/"+a.Xc+"/picture?type=square",f=a.kind;d||(d=":CIRCLE"===f||a.eB?F("readingcircle",64,64):F("sideguide",64,64));d=d?l.Image(d,".button.source",a.name|a.kind,"click to show/hide glosses from "+a.name):l("div.button.source",w(a.name));d.title=(":CIRCLE"===f?"the reading circle ":":OVERLAY"===f?"the reading guide ":"the layer ")+
(a.name?"\u201c"+a.name+"\u201d":"")+(a.ea?": ":"")+(a.ea?a.ea:"");d.ic=a.d;a.name&&(d.alt=w(a.name));d.id="SBOOKSOURCEICON"+c;l(y("METABOOKSOURCES")," ",d)}}return a}}function q(a){a=a||window.event||null;var b=l.c(a),d=y("METABOOKSOURCES"),e=y("METABOOKALLGLOSSES"),k=[];if(d&&e&&b&&b.ic){e=l.r(".selected",d);f(b,"selected");a.shiftKey||c(e,"selected");for(var e=l.r(".selected",d),b=0,m=e.length;b<m;)k.push(e[b++].ic);d=l.r(".everyone",d)[0];k.length?(d&&c(d,"selected"),u.a.lh(k)):(d&&h(d,"selected"),
u.a.lh(!1));l.cancel(a)}}function k(a){a=a||window.event||null;var b=l.c(a),d=y("METABOOKSOURCES"),e=y("METABOOKALLGLOSSES"),k=[];if(d&&e&&b&&b.ic){e=l.r(".selected",d);f(b,"selected");for(var e=l.r(".selected",d),b=0,m=e.length;b<m;)k.push(e[b++].ic);d=l.r(".everyone",d)[0];k.length?(d&&c(d,"selected"),u.a.lh(k)):(d&&h(d,"selected"),u.a.lh(!1));l.cancel(a)}}function m(a){return a.ld||a.jc||a.Py||a.mF||a.$z||a.Xc&&"https://graph.facebook.com/"+a.Xc+"/picture?type=square"}function e(a,b,c){var d=u.O,
f=u.w;c||(c=l.la(a,".wedge"));var e=c.getAttribute("data-images").split("|");1===e.length&&""===e[0]&&(e=[]);for(var h=0,k=b.length;h<k;){var q=b[h++];"string"!==typeof q&&(q=q.d);if(q){var r=f.G(q),t=a.Xa,v=r.u&&d.G(r.u);(v=v&&m(v))&&e.push(v);t?0>t.indexOf(q)&&t.push(q):a.Xa=[q];q=r.Ic||[];"string"===typeof q&&(q=[q]);r=0;for(t=q.length;r<t;)v=d.G(q[r++]),(v=m(v))&&e.push(v)}}c.setAttribute("data-images",e.join("|"))}function v(a,b){return a.location&&b.location?a.location>b.location?-1:a.location<
b.location?1:0:a.Wa&&b.Wa?a.Wa>b.Wa?-1:a.Wa<b.Wa?1:0:a.vb>b.vb?-1:a.vb<b.vb?1:0}var l=g.b,A=g.a,t=g.tb,y=g.I,w=g.String.fl,h=l.h,c=l.l,b=l.L,f=l.qc,F=u.icon;u.a.Nw=a;u.a.Wh=function(b){a(b,!0)};u.a.C.Wn=function(a){a=a||window.event||null;var b=l.c(a),c=y("METABOOKSOURCES"),d=y("METABOOKALLGLOSSES");c&&d&&(l.L(b,"selected")?u.q(!1):(c=l.r(".selected",c),f(c,"selected"),h(b,"selected"),u.a.lh(!1)),l.cancel(a))};u.a.uk=function(a,b){var c=u.w,d=l.la(a,".glossmark");if(d&&d.parentNode===a)return b&&
e(d,[b]),d;var d=F("sbwedge",64,64),f=l.Image(d,"wedge","glosses"),k=l("a.glossmark.fdjtskiptext",f),m=a.getAttribute("data-baseid")||a.id,c=c.find("frag",m);k.title=1<c.length?"See "+c.length+" glosses on this passage":"See the gloss on this passage";f.oi=d;f.setAttribute("data-images","");e(k,c,f);u.a.vk(k,"glossmark");h(a,"glossed");l.gb(a,k);k.name="METABOOK_GLOSSMARK_"+m;return k};var r=u.og;u.fv=function(a,c){var d=a.fa||a.id;if(d){var f=u.ab(d),e=u.w.find("frag",d),k=[],d=l("div.metabookglosses.metabookslice");
e&&e.length||h(d,"noglosses");u.target&&u.rd(u.target);for(var m=0,q=e.length;m<q;){var t=u.w.G(e[m++]);k.push(t)}for(m=0;m<q;)e=k[m++],e.pa&&(e=u.wi(f,e.pa,e.Wa))&&(b(e.startContainer,"mbhighlightexcerpt")||A.Pc(e,"mbhighlightexcerpt"));f=new r(d,k,v);k=l("div.hudpanel#METABOOKPOINTGLOSSES",d);u.uC=f;if(c){u.q(!1);k.style.display="block";k.style.opacity=0;y("METABOOKPOINTGLOSSES")?l.replace("METABOOKPOINTGLOSSES",k):u.body.appendChild(k);m=l.mb(d);l.mb(k);var q=l.mb(c),e=l.mb(a),t=l.sb(),z=l.zb();
if(u.Te)k.style.left="10px",k.style.width=k.style.maxWidth=k.style.minWidth=t-30+"px";else if(m.width>t)k.style.maxWidth=t-20+"px",k.style.minWidth=Math.floor(t/2)+"px",k.style.left="10px";else if(m.height>z/2||500>t)500>t?(k.style.maxWidth=t-20+"px",k.style.minWidth=Math.floor(t/2)+"px",k.style.left="10px"):k.style.maxWidth=t-100+"px";m=l.mb(d);l.mb(k);!u.Te&&m.width>t-50&&(k.style.left="10px");var w=!1,w=m.height+15>z/2?z/2:m.height+10;!u.Te&&50<w&&(k.style.minHeight=w+"px");d.style.overflowX="hidden";
d.style.overflowY="auto";var d=q.top-60,M=z-60-q.bottom,F=z-60-e.bottom;e.bottom<q.bottom&&(e.bottom=q.bottom+10);w<d?k.style.top=q.top-(w+15)+"px":m.height<F?k.style.top=e.bottom+5+"px":m.height<M?k.style.top=q.bottom+15+"px":(u.Te||(k.style.right=t-q.left+10+"px",k.style.left="50px"),k.style.top=50>q.top-z/4?"50px":q.top-z/4+"px",k.style.bottom="auto",k.style.height=z/2+"px");!u.Te&&300>l.sb()&&(k.style.minWidth=l.sb()-10+"px");k.style.display="";k.style.opacity=""}else l.replace("METABOOKPOINTGLOSSES",
k);if(c){if(d=y("METABOOKOPENGLOSSMARK"))u.target&&u.rd(u.target),d.id="";c.id="METABOOKOPENGLOSSMARK"}u.Oa(a);f.update();u.q("openglossmark")}};u.Cg=function(){"openglossmark"===u.mode&&u.q(!1,!0);var a=l("div.metabookglosses.metabookslice"),a=l("div.hudpanel#METABOOKPOINTGLOSSES",a);l.replace("METABOOKPOINTGLOSSES",a)};var d=A.cancel;g.b.lb(u.a.C.Dc,{"#METABOOKSOURCES":{F:q,pm:k},"#METABOOKSOURCES .button.everyone":{F:function(a){a=a||window.event;u.a.C.Wn(a);g.a.cancel(event)}}});g.b.lb(u.a.C.ca,
{"#METABOOKSOURCES":{F:q,pm:k},"#METABOOKSOURCES .button.everyone":{ha:d,Y:function(a){a=a||window.event;u.a.C.Wn(a);g.a.cancel(event)}}})})();(function(){function a(a){a instanceof F||(a=new u.Qc(a));if(a===u.ra)return a;t.search&&K("Setting working query to %o",a);if(0===a.ba.length)r(u.jb,"emptysearch"),u.ua.f.style.fontSize="",u.Xl=u.ua,h.replace("METABOOKSEARCHCLOUD",h("div#METABOOKSEARCHCLOUD")),q(a,b("METABOOKSEARCH")),u.ua.complete(""),r(u.jb,"emptysearch"),u.ra=A.Re,u.qp="";else{d(u.jb,"emptysearch");A.ua.complete("");var c=a.ud();c!==u.qp&&(q(a,b("METABOOKSEARCH")),u.ra=a,u.qp=c);G.exec(u.mode)&&0!==a.hb.length&&(7>a.hb.length?
m():u.ca||b("METABOOKSEARCHINPUT").focus());return a}}function q(a,c){c&&"string"===typeof c&&(c=document.getElementById(c));var d=c||a.Uq||b("METABOOKSEARCH"),f=a.ud();a.f&&d&&d!==a.f&&h.replace(c,a.f);d.setAttribute("qstring",f);a.Xn();var e=a.cl(),k=a.to(),l=x(d,".searchinput"),m=l.getAttribute("completions"),q=l.getAttribute("info"),v=x(d,".qtags")||b("METABOOKSEARCHTAGS"),p=q&&b(q),w=x(p,".resultcount"),q=x(p,".refinecount");l.value="";var l=a.ba,y=0,D=l.length;l.length?h.l(u.jb,"emptysearch"):
r(u.jb,"emptysearch");h.l("METABOOKSEARCHINFO","notags");for(var E=h("div.qtags");y<D;){var G=l[y];"string"===typeof G&&(G=J(G)||G);G=u.Hk(G,!1,!1,"span.qelt");G.appendChild(h("span.redx","x"));h(E,0<y&&"\u00a0\u00b7 ",G);y++}v.id&&(E.id=v.id);h.replace(v,E);0!==a.ba.length&&(a.hb.length?(v=1!==a.hb.length,w.innerHTML=a.hb.length+" <br/>"+(2<l.length?v?"results":"result":v?"matches":"match"),h.l([d,p],"noresults")):(w.innerHTML="no results",r([d,p],"noresults")));E.setAttribute("data-maxfont","120%");
E.setAttribute("data-min","60%");g.b.Df(E);var e=k?k.length:e?e.length:0,F=u.fh(a);q.innerHTML=e+" <br/>"+(1===e?"co-tag":"co-tags");h.l(d,"norefiners");F!==A.ua?(h.replace(m,F.f),m&&(F.f.id=m),r(F.f,"hudpanel")):m="METABOOKALLTAGS";u.Xl=F;1<t.search&&K("Setting search cloud for %o to %o",d,F.f);F.complete("",function(){F.f.style.fontSize="";b(m)?h.replace(m,F.f):h.append(b("METABOOKHEARTBODY"),F.f);u.Zh(F)});0===e&&(r(d,"norefiners"),q.innerHTML="no refiners");a.Uq=d;d.setAttribute("qstring",f)}
function k(a,b){var c=[].concat(a.ba);"string"===typeof b?0<=b.indexOf("@")?c.push(J(b)||b):c.push(b):c.push(b);return new u.Qc(c)}function m(){var a=u.ra.gv(),c=a.Z;r(c,"hudpanel");c.id="METABOOKSEARCHRESULTS";h.replace("METABOOKSEARCHRESULTS",c);A.ga.Ap=a;u.q("searchresults");a.update();b("METABOOKSEARCHINPUT").blur();b("METABOOKSEARCHRESULTS").focus()}function e(a,c){a||(a=b("METABOOKSEARCHINPUT"));c||(c=u.fh(u.ra));0===a.value.length&&c.Ne();c.complete(a.value,function(b){0<a.value.length&&(!b||
0===b.length||4<a.value.length)&&(v(c,a.value),setTimeout(function(){c.complete(a.value)},50))})}function v(a,b){var c,d;c||(c=u.hg.ou());d||(d=42);c=y.kp(c,b);if(0!==c.length&&!(c.length>d)){d=0;for(var f=c.length;d<f;)u.Hk(c[d++],a)}}function l(a){if(!(this instanceof l))return new l(a);this.ra=a;this.hb=a.hb;this.mf=a.mf;return O.call(this,h("div.metabookslice.mbsyncslice.searchslice"),this.hb)}var A=u,t=A.da,y=g.String,w=g.t,h=g.b,c=g.a,b=g.I,f=g.tb,F=f.Qc;u.Xl=!1;u.ua||(u.ua=!1);u.rh||(u.rh=
25);u.jh||(u.jh=7);var r=h.h,d=h.l,x=h.la,K=w,J=f.resolve,G=/(search|refinesearch|searchresults|expandsearch)/;u.ae=function(){return u.ra};u.Kp=a;var D=h.cb,E=h.cb;u.zp=function(b){var d=c.c(b),f=D(d,".redx");if(d=E(d,".qelt")){c.cancel(b);var d=d.getAttribute("data-value"),e;0<=d.indexOf("@")&&(e=J(d)||d);t.g&&w("searchTags_ontap %o: %s%o",b,f?"(onx) ":"",e);f=[].concat(u.ra.ba);e=e?f.indexOf(e):f.indexOf(d);0>e&&(e=f.indexOf(d));0>e||(f.splice(e,1),0===f.length?(u.ua.f.style.fontSize="",a(u.Re)):
a(new u.Qc(f)),c.cancel(b))}};u.Yr=k;u.yF=function(a){a=zb.Qc.AE(a.value);a!==u.ra.ba&&u.Kp(a,!1)};u.fm=m;u.uE=function(b){a([b]);u.q("refinesearch")};var P=h.Ra;u.a.C.JD=function(b){b=b||window.event||null;var d=b.charCode||b.keyCode,f=h.c(b),e=!1,l=!1;if(13===d||13===d||59===d||93===d){f=f.value;if(y.Ja(f))m();else{e=u.fh(u.ra);e.za&&(clearTimeout(e.za),e.za=!1);e.complete(f);l=e.selection||e.select(new P(".cue"))||e.select();if(!l){(b=u.hg.Rj[f])&&b.length&&a(k(u.ra,f));return}e=e.Og(l);a(k(u.ra,
e))}h.cancel(b);u.jh&&0<u.ra.hb.length&&u.ra.hb.length<=u.jh?m():(e=u.fh(u.ra),e.complete(""));return!1}9===d&&(d=f.value,e=u.fh(u.ra),l=e.complete(d),c.cancel(b),l.prefix&&l.prefix!==d?(f.value=l.prefix,h.cancel(b),e.ag()):b.shiftKey?e.kh():e.ag())};u.a.C.LD=function(a){a=a||window.event||null;var b=a.charCode||a.keyCode,c=h.c(a);13!==b&&13!==b&&59!==b&&93!==b&&9!==b&&(8===b?setTimeout(function(){e(c)},100):e(c))};u.a.C.KD=function(a){a=a||window.event||null;var b=a.charCode||a.keyCode;a=h.c(a);
13!==b&&13!==b&&59!==b&&93!==b&&9!==b&&8!==b&&e(a)};u.GD=e;u.a.C.ID=function(a){a=a||window.event||null;a=h.c(a);u.dd(a);u.mode&&"searchresults"===u.mode&&u.q("refinesearch");e(a)};u.a.C.HD=function(a){a=a||window.event||null;a=h.c(a);u.gi(a)};u.a.C.Jn=function(b){var d=c.c(b||window.event),d=h.getParent(d,".searchbox"),d=x(d,".searchinput");c.cancel(b);0===u.ra.ba.length&&0===d.value.length?u.q(!1):(u.ua.f.style.fontSize="",a(u.Re),d.value="",u.ua.Ne(),u.ua.complete(""),u.q("refinesearch"))};var O=
u.og;u.tw=l;l.prototype=new O;l.prototype.gh=function(a){return u.gh(a,this.ra)};l.prototype.Hc=function(a,b){if("number"===typeof a.Dd&&"number"===typeof b.Dd){if(a.Dd!==b.Dd)return b.Dd-a.Dd}else{if("number"===typeof a.Dd)return-1;if("number"===typeof b.Dd)return 1}if("number"===typeof a.location&&"number"===typeof b.location){if(a.location!==b.location)return a.location-b.location}else{if("number"===typeof a.location)return-1;if("number"===typeof b.location)return 1}if("number"===typeof a.timestamp&&
"number"===typeof b.timestamp){if(a.timestamp!==b.timestamp)return a.timestamp-b.timestamp}else{if("number"===typeof a.timestamp)return-1;if("number"===typeof b.timestamp)return 1}return 0};f.Qc.prototype.gv=function(){this.Ko||(this.Ko=new l(this));return this.Ko}})();(function(){function a(a,b,c){function d(b){var f=da(e,".metabookglossform"),h=!1,h=T.Tb(e,"FRAG"),k=T.Tb(e,"UUID");(ra.mode||ra.Ma)&&la("setGlossMode %o%s: #%s #U%s",a,c?" (toggle)":"",h&&h.value,k&&k.value);c&&a===e.className&&(a=!1);a&&ua(f,"focused");if(a){if("addtag"===a)h=qa("METABOOKADDTAGINPUT");else if("attach"===a)qa("METABOOKUPLOADGLOSSID").value=k.value,qa("METABOOKUPLOADITEMID").value=ka.Hi(),h=qa("METABOOKATTACHURL");else if("addoutlet"===a)h=qa("METABOOKADDSHAREINPUT");else return ma(e,
pa),ma("METABOOKHUD",/\bgloss\w+\b/),b(e);(ra.mode||ra.Ma)&&la("setGlossMode gm=%s input=%o",a,h);e.className=a;Ya("METABOOKHUD",/\bgloss\w+\b/,"gloss"+a);u.Jb(!0);a&&/(addtag|addoutlet)/.exec(a)&&ua("METABOOKHUD","openheart");h&&u.dd(h);return b(e)}ma(e,pa);ma("METABOOKHUD",/\bgloss\w+\b/);ma("METABOOKHUD","openheart");u.ca||((b=ya(e,"NOTE"))&&u.dd(b),ua(f,"focused"))}var f,e;a&&b&&a.nodeType&&"string"===typeof b?(f=a,a=b):f=b?"string"===typeof b?qa(b):b:qa("METABOOKLIVEGLOSS");if(f&&f.nodeType){if(e=
"FORM"===f.tagName?f:T.getParent(f,"form")||T.la(f,"form"))return new Promise(d);la.warn("Missing FORM for setGlossMode")}else return la.warn("Missing DOM arg for setGlossMode"),!1}function q(a,b){"string"===typeof a&&(a=Ea(a)||u.w.G(a)||!1);if(!a)return!1;var c=!a.nodeType&&(a.u||a.be)&&a,e=c&&c.u,k=e&&e.d;b=e?e===u.e||k===u.e.d||0<=u.fb.indexOf(a.u)||0<=u.fb.indexOf(a.u.d)?!1:!0:!1;var l=c?Ea(c.s):a,e=l.fa||l.id,k=c?b?"METABOOKRESPONDGLOSS_"+c.d:"METABOOKEDITGLOSS_"+c.d:"METABOOKADDGLOSS_"+e,n=
qa(k),e=n&&n.parentNode,n=qa("METABOOKADDGLOSSPROTOTYPE");if(e)n=gb(e,"form")[0];else{e=n.cloneNode(!0);e.id="";T(qa("METABOOKADDGLOSS"),e);n=gb(e,"form")[0];n.id=k;var k=n,n=b||!1,m=l.fa||l.id,p=u.p[m];if(k.getAttribute("sbooksetup")||!p)n=!1;else{k.onsubmit=O;ya(k,"REFURI").value=u.M;ya(k,"DOCTITLE").value=document.title;ya(k,"DOCURI").value=document.location.href;ya(k,"FRAG").value=m;p.bw&&(ya(k,"WSNID").value=p.bw);u.e&&(ya(k,"MAKER").value=c&&c.u&&c.u.d||u.e.d);u.X&&(ya(k,"MYCOPYID").value=u.X);
u.X&&(ya(k,"MYCOPYID").value=u.X);c&&(m=va(k,".glossdate"),T(m,Ma.Fj(c.vb)),m.title=Ma.rm(c.vb));var m=ya(k,"NOTE"),q=va(k,".notespan");m&&(m.onkeypress=d,m.onkeydown=x,m.onfocus=r,c&&!n?(m.value=c.Ya||"",q&&(q.innerHTML=m.value)):m.value="");u.pe&&(ya(k,"SYNC").value=u.pe+1);m=va(k,".addglossmenu");g.a.D(m,{ff:!0});var t=ya(k,"LOCATION"),v=ya(k,"LOCLEN"),z=ya(k,"TAGLINE"),Ja=ya(k,"RE"),A=ya(k,"THREAD"),m=ya(k,"UUID"),q=ya(k,"DETAIL"),B=va(k,"div.response");if(B&&n&&c){var C=va(B,".respmaker"),E=
va(B,".respdate"),B=va(B,".respnote"),G=u.O.G(c.u);T(C,G.name);T(E,Ma.Fj(c.vb));c.Ya?(42<c.Ya.length?T(B,c.Ya.slice(0,42)+"\u2026"):T(B,c.Ya),B.title=c.Ya):T.remove(B)}else T.remove(B);t&&(t.value=p.H);v&&(v.value=p.R-p.H);n&&c?(A.disabled=!1,Ja.disabled=!1,A.value=c.qm||c.d,Ja.value=c.d):(Ja.disabled=!0,A.disabled=!0);(p=l.getAttributeNS("tagline","https://beingmeta.com/METABOOK/")||l.getAttributeNS("tagline","https://metabooks.net/")||l.getAttributeNS("tagline","https://sbooks.net/")||l.getAttribute("data-tagline")||
l.getAttribute("tagline"))?l=p:(l=T.Kb(l))?(l=X.rf(l),l=40<l.length?l.slice(0,40)+"...":l):l=!1;l&&(z.value=l);if(c&&(l=wa(c),l.length))for(p=0,z=l.length;p<z;)f(k,l[p++],!1);if(c&&!n&&c.OC){if(l=va(k,".wasposted"))l.disabled=!1;l=va(k,".postgloss");N.VD(l,!0)}if(c&&!n&&c.links){var l=c.links,D;for(D in l)"_"!==D[0]&&(p=l[D],h(k,D,"string"===typeof p?p:p.title))}c&&(q.value=c.detail||"");if(c&&c.ev)for(D=c.ev,"string"===typeof D&&(D=[D]),l=0,q=D.length;l<q;)f(k,D[l++],"SHARE");m.value=!n&&c&&c.d?
c.d:ka.Hi(u.cf);if(c){D=va(k,".outlets");D=gb(D,".checkspan");n=0;for(m=D.length;n<m;)l=D[n++],Va(l,!1);D=c&&c.Mp||[];"string"===typeof D&&(D=[D]);n=0;for(m=D.length;n<m;)w(k,D[n++],"SHARE",!0);D=va(k,".private");Va(D,c.qu)}c&&c.pa&&u.Zl(k,c.pa,c.Wa);(D=T.la(k,".cancelbutton"))&&T.addListener(D,"click",L);k.setAttribute("sbooksetup","yes");y(k);(D=da(k,".metabookglossform"))&&ma(D,"modified");n=k}u.Ej(e)}c?b?ua(e,"glossreply"):(ua(e,"glossedit"),ua(u.jb,"editgloss")):ua(e,"glossadd");return n?e:!1}
function k(a,c,d){ra.Ma&&la("setGlossTarget %o form=%o selecting=%o",a,c,d);u.bb&&ma(u.bb,"mbglosstarget");ma("METABOOKHUD",/\bgloss\w+\b/);ma("METABOOKHUD","editgloss");if(a){var f=!1;"string"===typeof a&&Ea(a)?a=Ea(a):"string"===typeof a&&u.w.qa(a)?(f=u.w.G(a),a=Ea(f.s)):a.m===u.w&&(f=a,a=Ea(f.s));f&&c&&!c.nodeType&&(c=q(f,!0));if(c){var h=T.Tb(c,"FRAG");h.value!==a.id&&(b(c,!1),T.h(da(c,".metabookglossform"),"modified"),h.value=a.id)}else if(c=f?q(f):q(a),!c)return N.alert("There was a problem adding a gloss"),
!1;u.bb=a;u.nf=!1;ua(a,"mbglosstarget");f.Wa?u.Ab({target:a,offset:f.Wa},"addgloss",!0):u.Ab(a,"addgloss",!0);u.Fp(u.Ea,a);t(c);e(!1);u.rd(a);d?e(d):e(l(a));f&&f.pa&&f.pa.length?u.Yb.Xu(f.pa):d&&v(c,d);u.Yb.onchange=function(){v(c,this)};return c}if(a=qa("METABOOKLIVEGLOSS"))a.id="";u.bb=!1;u.nb=!1;e(!1)}function m(a){a=a.nodeType?a:N.c(a);a=da(a,"FORM");(a=da(a,".metabookglossform"))&&ua(a,"modified")}function e(a){u.Yb!==a&&(u.Yb&&((ra.selection||ra.Ma)&&la("setSelecting, replacing %o with %o",
u.Yb,a),u.Yb.clear()),u.Yb=a)}function v(a,b){var c=b.Fi();(ra.Ma||ra.selection)&&la("Updating excerpt for %o from %o: %s",a,b,b.ud());if(c){u.Zl(a,c.lm,c.Vb);var d=Sa(c.start,!0);if(d=d&&!Ua(u.bb,d)&&d)T.Tb(a,"FRAG").value=d.id,b&&"number"===typeof c.Vb&&(c=T.Tb(a,"EXOFF"),d=b.Ds(d),c.value=d)}else u.Zl(a,!1)}function l(a,b){a.nodeType&&(a=[a]);for(var c=[],d=0,f=a.length;d<f;)c=c.concat(u.ab(a[d++]));(ra.selection||ra.Ma)&&la("selectText %o, dups=%o",a,c);return new g.a.Nm(c,{au:A,cp:b&&b.cp,dp:b&&
b.dp,ob:u.ca||u.KF,Bi:u.ca,wd:150,ej:250})}function A(a){a=a||window.event;(ra.selection||ra.Ma||ra.g)&&la("gloss_selecting_ontap %o, mode=%o, livegloss=%o",a,u.mode,qa("METABOOKLIVEGLOSS"));"addgloss"!==u.mode?u.q("addgloss",!1):u.Cl&&1500>Ma()-u.Cl||u.Jb(!1);N.cancel(a)}function t(a){var b=qa("METABOOKLIVEGLOSS");b&&(b.id="");ra.Ma&&la("setGlossForm %o <== %o",a,u.nb);a?(a.id="METABOOKLIVEGLOSS",u.nb=a,qa("METABOOKGLOSSBODYTEXT").value=T.po(a,"DETAIL")||"",ya(a,"SYNC").value=u.pe+1,u.mc.complete(),
u.Ea.complete()):u.nb=!1}function y(a){a=va(a,".glossetc");N.Kq(a)}function w(a,b,c,d){"undefined"===typeof d&&(d=!0);var f=da(a,".metabookglossform");ua(f,"modified");ra.Ma&&la("addOutlet wrapper=%o form=%o outlet=%o formvar=%o checked=%o",f,a,b,c,d);var f=va(a,".outlets"),e="string"===typeof b?b:b.d;"string"===typeof b?"@"===b[0]||":"===b[0]&&"@"===b[0]?b=u.O.G(b):(b={name:b},c||(c="EMAIL")):b.nodeType&&(c||(c="NETWORK"),e=b.getAttribute("data-value"),b={name:b.getAttribute("data-key")||e});c||
(c="SHARE");a=cb(a,c);for(var h=0,k=a.length;h<k;){if(a[h].value===e)return b=da(a[h],".checkspan"),Va(b,d),b;h++}d=N.sa("span.checkspan.waschecked.ischecked.outlet."+c.toLowerCase(),c||"SHARE",e,d,T.Image(ha("share",32,32),"img.share","\u21a3"),b.El||b.name,T.Image(ha("redx",32,32),"img.redx","x"));d.title=b.El&&b.description?b.name+": "+b.description:b.description?b.description:b.name;T(f,d," ");ma(f,"empty");return d}function h(a,b,c,d){var f=va(a,".links"),e=c?b+" "+c:b,h=u.tq(b),k=u.oq(h),k=
T.Image(k,"img"),l=T("span.linktext",c||b),e=T.Aq(e),e=T("span.checkspan.ischecked.waschecked.glosslink",k,e,l);e.title=c||b;e.setAttribute("data-href",b);0===b.search(/https:\/\/glossdata./)&&ua(e,"glossdata");h&&ua(e,u.So(h));h=da(a,".metabookglossform");ra.Ma&&la("addOutlet wrapper=%o form=%o url=%o title=%o",h,a,b,c);ua(h,"modified");d?T.replace(d,e):T(f,e," ");ma(f,"empty");y(a)}function c(a,b,c){var d=T.la(a,"[data-href='"+u.Rb+"']");h(a,b,c,d)}function b(a,b,c){var d=da(a,".metabookglossform"),
e=va(a,".excerpt"),f=!1,h=ya(a,"EXCERPT"),k=ya(a,"EXOFF");if(!b||X.Ja(b))h.value&&(f=!0),h.value="",k.value="",h.disabled=k.disabled=!0,e&&(e.innerHTML="");else if(h.disabled=k.disabled=!1,h.value=b,f=!0,"number"===typeof c?k.value=c:(k.value="",k.disabled=!0),e){var l;var n=b.length;l||(l=20);if(n<l)l=b;else if(h=b.split(/\s+/),k=h.length,3>h.length)l=b.slice(0,Math.floor(l/2))+"..."+b.slice(Math.floor(n-l/2));else{for(var n=1,m=h[0].length+1,p=k-2,k=h[k-1].length+1;n<p&&m+k<l;)m+=h[n++].length,
k+=h[p--].length;l=h.slice(0,n).join(" ")+"..."+h.slice(p).join(" ")}e.innerHTML=l;e.title=b}(ra.Ma||ra.Yb)&&la("setExcerpt %o form=%o excerpt=%o off=%o",d,a,b,c);y(a);f&&ua(d,"modified")}function f(a,b,c,d,e){var f=!1;b||(b=a);b.prefix&&(f=b.prefix,b=b.tag);"FORM"!==a.tagName&&(a=da(a,"form")||a);e||(e=u.ro(u.e));"undefined"===typeof d&&(d=!0);var h=da(a,".metabookglossform");ra.Ma&&la("AddTag %o form=%o tag=%o var=%o checked=%o kno=%o",h,a,b,c,d,e);ua(h,"modified");var h=va(a,".tags"),k=!1,l="span.term";
c||(c="TAGS");b.nodeType&&Aa(b,"completion")&&(Aa(b,"outlet")?(c="SHARED",l="span.outlet"):Aa(b,"source")&&(c="SHARE",l="span.source"),b.title&&(k=b.title),b=u.Ea.Og(b));var n=b instanceof na?b:"string"===typeof b&&e.Sf(b),m=n?n.Ld&&n.Ld()||n.name||n.ta||n.title||n.eC||"string"===typeof n.Hh||n.Hh||n.Hh instanceof Array||n.Hh[0]||n.o||n.d:"string"===typeof b?b:b.toString(),p=b;n&&(p=n.$===e?n.ta:n.o||n.K());f&&(p=f+p);n&&n.m===u.O&&(c="SHARED");e=gb(h,".checkspan");f=0;for(n=e.length;f<n;){var q=
e[f++];if(q.getAttribute("data-varname")===c&&q.getAttribute("data-tagval")===p)return d&&ua(q,"waschecked"),q}p=N.sa("span.checkspan",c,p,d);d&&ua(p,"waschecked");k&&(p.title=k);p.setAttribute("data-varname",c);p.setAttribute("data-tagval",b);ua(p,"glosstag");ua(p,c.toLowerCase()+"var");"string"===typeof m?T.append(p,T(l,m)):T.append(p,m);T.append(p,T.Image(ha("redx",32,32),"img.redx","x"));T.append(h,p," ");ma(h,"empty");y(a);return p}function F(a,b,c,d){if(a&&a.length&&0<b){for(var e=!1,f=b-1,
h=!1,k=!1,l=a[f],n=a[f-1];0<=f;){if("\\"!==n)if(/\s/.test(l))e=f;else if("@"===l||"#"===l)break;else if(0===f)return!1;f--;l=n;n=a[f-1]}var l=a[f],m=a[f+1],n=a.length;if(oa[m]){d=oa[m];h=m;e=a.slice(f+2).indexOf(d);if(0>e)if(c)n=b,k=d;else return!1;else n=f+2+e;if(n<b)return!1}else{if(d&&e)return!1;d=a.slice(f).search(La);0<d&&(n=f+d)}a={text:a.slice(f,n),start:f,end:n,JC:b,prefix:l,content:h&&k?a.slice(f+2,n):h?a.slice(f+2,n-1):a.slice(f+1,n)};h&&(a.Qn=h);h&&c&&(a.gj=oa[h]);return a}return!1}function r(a){var b=
N.c(a),c=b.value,d=b.selectionStart,f=F(c,d);(ra.Ma||ra.g)&&la("glossinput_onfocus %o text=%o pos=%o taginfo=%o",a,c,d,f);ca(a);f&&(Ta&&clearTimeout(Ta),Ta=setTimeout(function(){K(b)},150))}function d(a){var b=N.c(a),c=da(b,"FORM"),d=b.value,f=b.selectionStart||0,e=a.charCode,h=String.fromCharCode(e),k=F(d,f,!0);(ra.Ma||2<ra.g)&&la("glossinput_onkeypress '%o' %o text=%o pos=%o taginfo=%o",e,a,d,f,k);13!==e&&(ua(da(c,".metabookglossform"),"focused"),ua(da(c,".metabookglossform"),"modified"));if(13===
e)if(k)b.value=d.slice(0,k.start)+d.slice(k.end),J(b,k.content,a.ctrlKey,"@"===k.prefix),g.a.cancel(a);else{if(a.shiftKey)return b.value=d.slice(0,f)+"\n"+d.slice(f),b.selectionStart++,N.cancel(a);N.cancel(a);O(c)}else k&&(La.test(h)?(k=F(d,f,!0))&&k.gj===h&&(b.value=d.slice(0,k.start)+d.slice(k.end),J(b,k.content,a.ctrlKey,"@"===k.prefix),N.cancel(a)):(Ta&&clearTimeout(Ta),Ta=setTimeout(function(){K(b)},150)))}function x(a){var b=a.keyCode,c=N.c(a);if(27===b)u.Ke(),N.cancel(a);else if(9===b||13===
b){var d=da(c,"FORM"),f=c.value,e=F(f,c.selectionStart||0,!0),h="@"===e.prefix?u.mc:u.Ea;(ra.Ma||2<ra.g)&&la("glossinput_onkeydown '%o' %o taginfo=%o cloud=%o",b,a,e,h);e&&(9===b?(d=e.content,h.complete(d),h.prefix&&h.prefix!==d?(a=e.start+(e.Qn?2:1),d=e.end-(e.gj?0:1),0<=h.prefix.search(/\s/)?c.value=f.slice(0,a)+(e.Qn?"":'"')+h.prefix+(e.gj?e.gj:"")+f.slice(d):c.value=f.slice(0,a)+h.prefix+f.slice(d)):(a.shiftKey?h.kh():h.ag(),N.cancel(a))):h.selection&&("@"===e.prefix?(b=h.selection.getAttribute("data-value"),
u.Cf(d,b,"SHARE")):u.Xh(d,h.selection),c.value=f.slice(0,e.start)+f.slice(e.end),ma("METABOOKHUD",/gloss(tagging|tagoutlet)/g),setTimeout(function(){h.complete("")},10),h.Ne(),N.cancel(a)))}else if(8===b||46===b||35<=b&&40>=b)m(a),Ta&&clearTimeout(Ta),Ta=setTimeout(function(){K(c)},150)}function K(a){if(a=F(a.value,a.selectionStart||0,!0)){var b;(b="@"===a.prefix)?Ya("METABOOKHUD",/gloss(tagging|tagoutlet)/g,"glosstagoutlet"):Ya("METABOOKHUD",/gloss(tagging|tagoutlet)/g,"glosstagging");b=b?u.mc.complete(a.content):
u.Ea.complete(a.content);ra.Ma&&la("Got %d completions for %s",b.length,a.content)}else ma("METABOOKHUD",/gloss(tagging|addoutlet)/g)}function J(a,b,c,d){a=da(a,"FORM");var e=!1;!d&&c?u.$.mi(b):0<b.indexOf("|")?d?la.warn("Can't define outlets (sources) from %s",b):u.$.mi(b):(c=(d?u.mc:u.Ea).complete(b),0!==c.length&&1===c.length&&(e=c[0]),d&&!e?la.warn("Unknown outlet %s",b):d?w(a,e):e?f(a,e):(e=u.$.G(b))?f(a,e):f(a,b));ma("METABOOKHUD",/gloss(tagging|addoutlet)/)}function G(a,b){var c=a.getAttribute("data-tagval");
if(c){var d=c.indexOf("@");return u.$&&0<d&&c.slice(d+1)===u.$.name?c.slice(0,d):c}c=b.indexOf("|");return 0<c?b.slice(0,c):b}function D(a,b){return function(c){return E(c,a,b)}}function E(a,b,c){(ra.hj||ra.Ma)&&la("Got AJAX gloss response %o from %o",a,a.hh);ra.Ju&&la("Gloss %o successfully added (status %d) to %o",ya(b,"UUID").value,a.status,ya(b,"FRAG").value);ma(b.parentNode,"submitting");if(200>a.status||300<=a.status)ua(b.parentNode,"submitfailed"),403===a.status?g.we.alert("Sorry, you're not allowed to save this gloss"):
g.we.alert("There was a problem saving your gloss"),b.parentNode&&b.parentNode&&T.remove(b.parentNode),k(!1),u.Oa(!1),u.q(!1);else{c?ua(b.parentNode,"submitdone"):(ua(b.parentNode,"submitclose"),u.Jb(!1,!1));a=JSON.parse(a.responseText);var d=u.w.Nb(a,!1,Z.Pd|Z.Rd|Z.Qd);a=document.getElementsByName(d.d);for(var e=0,f=a.length;e<f;){var h=a[e++];if(Aa(h,"mbcard")){var l=u.gh(d);l&&T.replace(h,l)}}d.save();u.Yb&&(u.Yb.Yg?u.Yb.Yg.push(function(){u.en(d)}):u.Yb.Yg=[function(){u.en(d)}]);b&&!c?setTimeout(function(){Aa(b.parentNode,
"submitclose")&&(b.parentNode&&b.parentNode&&T.remove(b.parentNode),k(!1),u.Oa(!1),u.q(!1))},1500):b&&setTimeout(function(){ma(b.parentNode,"submitdone")},1500)}}function P(a){var b=ya(a,"UUID");b&&(b.value="");if(b=ya(a,"NOTE"))b.value="";if(b=ya(a,"HREF"))b.value="";(a=gb(a,".tags"))&&a.length&&(a=gb(a[0],".checkspan"),T.remove(T.Array(a)))}function O(a,b){var c=!1,d=!1;if("undefined"===typeof a){c=qa("METABOOKLIVEGLOSS");if(!c)return;d=va(c,"FORM")}else a.nodeType||(a=N.c(a)),a.nodeType&&1===a.nodeType&&
"FORM"===a.tagName?(d=a,c=da(d,".metabookglossform")):a.nodeType&&1===a.nodeType&&"DIV"===a.tagName&&Aa(a,"metabookglossform")&&(c=a,d=va(c,"FORM"));if(d){var e=ya(d,"DETAIL"),f=qa("METABOOKGLOSSBODYTEXT");e.value=f.value||"";ua(c,"submitting");Ua(d,".glossedit")||Ua(d,".glossreply")||W(d,va("METABOOKADDGLOSSPROTOTYPE","FORM"));e=ya(d,"UUID");e&&e.value&&5<e.value.length||(la.warn("missing UUID"),e&&(e.value=ka.Hi(u.cf)));e=cb(d,"NOTE")[0];if(0===e.value.search(U)){var f=e.value,l=f.search(/\s/);
0>l?h(d,f):h(d,f.slice(0,l),f.slice(l+1));e.value=""}ab||navigator.onLine&&u.sd?navigator.onLine&&u.sd&&u.e&&g.Od.onsubmit(d,D(d,b))?ma(c,"modified"):M(d,a&&a.type&&a,b):(c=[],navigator.onLine&&c.push({label:"Login",eb:!0,S:function(){function a(){O(d,b)}setTimeout(function(){u.q("login")},0);u.Be?u.Be.push(a):u.Be=[a];ab=!0}}),u.e&&u.Xb?c.push({label:"Queue",eb:!navigator.onLine&&u.ub,S:function(){u.Wg&&u.nh("cacheglosses",!0);ab=!0;navigator.onLine&&u.sd?O(d,b):M(d,!1,b)}}):(c.push({label:"Cache",
eb:!navigator.onLine&&u.ub,S:function(){u.Wg&&u.nh("cacheglosses",!0,!0);ab=!0;M(d,!1,b)}}),u.Wg&&c.push({label:"Lose",eb:!navigator.onLine&&u.Wg,S:function(){var a=d,b=g.Od.jo(a),c={M:b.M,s:b.s,u:b.e,d:b.Pa,Pa:b.Pa,ru:b.Pa,be:b.Pa,vb:Ma()};c.Nc=Ma.Za();b.Ya&&!X.Ja(b.Ya)&&(c.Ya=b.Ya);b.pa&&!X.Ja(b.pa)&&(c.pa=b.pa,c.Wa=b.Wa);b.detail&&!X.Ja(b.detail)&&(c.detail=b.detail);b.ba&&0<b.ba.length&&(c.ba=b.ba);b.vf&&0<b.vf.length&&(c.vf=b.vf);u.w.Nb(c,!1,!1,!0);P(a);ma(a.parentNode,"submitting");k(!1);u.Oa(!1);
u.q(!1);ab=!0}})),c.push({label:"Cancel",S:function(){T.remove(d.parentNode);k(!1);u.Oa(!1);u.q(!1)}}),N.Uc(c,navigator.onLine&&!u.e&&[T("p.smaller","This book isn't currently associated with an sBooks account, ","so any highlights or glosses you add will not be permanently saved ","until you login."),T("p.smaller","You may either login now, cache your changes ","on this machine until you do login, ","lose your changes when this page closes, ","or cancel the change you're about to make.")],navigator.onLine&&
u.e&&[T("p.smaller","You aren't currently logged into your sBooks account from ","this machine, so any highlights or glosses you add won't ","be saved until you do."),T("p.smaller","In addition, you won't get updated glosses from ","your networks or layers."),T("p.smaller","You may either login now, queue any changes you make until ","you do login, or cancel the change you were trying to make.")],!navigator.onLine&&u.Wg&&[T("p.smaller","You are currently offline and have elected to not save ","highlights or glosses locally on this computer."),
T("p.smaller","You can either queue your changes by storing information locally, ","lose your changes when this page closes,","or cancel the change you were about to make.")]))}}function L(a){a=a||window.event;var b=N.c(a);z(b);N.cancel(a)}function z(a){var b=a||window.event||null,c=a?a.nodeType?a:N.c(a):qa("METABOOKLIVEGLOSS"),c=c&&T.getParent(c,".metabookglossform");k(!1);u.q(!1);a&&(a.cancelable||a.bubbles)&&N.cancel(b);c&&T.remove(c)}function W(a,b){var c,d;Ya(b,pa,a.className);c=ya(a,"POSTGLOSS");
d=ya(a,"POSTGLOSS");Va(d,c.checked);var e=cb(a,"NETWORKS");c=0;for(d=e.length;c<d;){var f=e[c++],h=Y(a,"NETWORKS",f.value);Va(h,f.checked)}c=va(b,".outlets");T.replace(c,T("span.outlets"));c=va(a,".outlets");e=gb(c,"INPUT");c=0;d=e.length;for(f=0;c<d;)if(h=e[c++],h.checked||5>=f){var k=w(b,h.value,h.name,h.checked);h.checked?ua(k,"waschecked"):f++}}function M(a,b,c){var d=g.Od.jo(a),e=g.Od.ls(a),f=u.Fc;f.push(d.Pa);u.ub?(ka.lc("mB("+d.Pa+").params",e),ka.lc("mB("+ob.B+").queued",f,!0)):Ba[d.Pa]=e;
e={M:d.M,s:d.s,d:d.Pa,Pa:d.Pa,u:d.e||u.e,ru:d.Pa,be:d.Pa,vb:d.vb||Ma()};e.Nc=Ma.Za();d.Ya&&!X.Ja(d.Ya)&&(e.Ya=d.Ya);d.pa&&!X.Ja(d.pa)&&(e.pa=d.pa,e.Wa=d.Wa);d.detail&&!X.Ja(d.detail)&&(e.detail=d.detail);d.ba&&0<d.ba.length&&(e.ba=d.ba);d.vf&&0<d.vf.length&&(e.vf=d.vf);u.w.Nb(e,!1,Z.Qd|Z.Rd|Z.Pd,!0);b&&N.cancel(b);ma(a.parentNode,"submitting");c||(P(a),k(!1),u.Oa(!1),u.q(!1))}function Q(){if(u.Fc.length){var a=va(qa("METABOOKADDGLOSSPROTOTYPE"),"form").getAttribute("ajaxaction"),b=u.Fc[0],c=u.Wg?
Ba[b]:ka.Da("mB("+b+").params");if(c){var d=new XMLHttpRequest;d.open("POST",a);d.withCredentials="yes";d.onreadystatechange=function(){if(4===d.readyState&&200<=d.status&&300>d.status){ka.Ib("mB("+b+").params");var a=u.Fc;if(a&&a.length){var c=a.indexOf(b);0<=c&&(a.splice(c,1),u.ub&&ka.lc("mB("+ob.B+").queued",a,!0),u.Fc=a)}E(d,!1,!1);a.length&&setTimeout(Q,200);ka.Ib("mB("+ob.B+").queued")}else 4===d.readyState&&u.oh(!1)};try{d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),
d.send(c)}catch(e){u.oh(!1)}}}}function C(a){a=a||window.event;var b=N.c(a);if(da(b,".checkspan"))return g.a.sa.onclick(a);da(b,".sharing")&&Na(da(b,".sharing"),"expanded")}function V(a){var b=N.c(a);if(b=da(b,".outlet")||da(b,".source")){var c=qa("METABOOKLIVEGLOSS"),c=c&&va(c,"form"),b=u.mc.Og(b);u.Cf(c,b);N.cancel(a)}}function ba(a){a=a||window.event;var b=N.c(a),c=b.alt;if(c){var d=da(b,".addglossmenu"),b=da(b,"form"),e=da(b,"div.metabookglossform");"downmenu"===c?(ua(d,"expanded"),ma(d,"held")):
"upmenu"===c?(ma(d,"expanded"),ma(d,"held")):"glossdelete"===c?ea(d,b,!1,!0):"glosscancel"===c?S(d,b,e):"glosspush"===c?(u.oe(b,!1),ma(d,"expanded")):"glossupdate"===c?(u.oe(b,!1),ma(d,"expanded")):"glossrespond"===c?aa(d):"glosscancel"===c?S(d,b,e):c===b.className?(u.xa(!1,b),ma(d,"expanded")):u.ml.exec(c)?(u.xa(c,b),ma(d,"expanded")):la.warn("Bad alt=%s in glossmode_tap",c);N.cancel(a)}}function H(a){a=a||window.event;a=N.c(a);var b=a.alt;bb&&(clearTimeout(bb),bb=!1);b&&(bb&&(clearTimeout(bb),bb=
!1),b=da(a,".addglossmenu"),Aa(b,"expanded")?(ua(b,"held"),ua(a,"held")):(ua(b,"expanded"),ua(b,"held")))}function R(a){a=a||window.event;a=N.c(a);var b=da(a,".addglossmenu"),c=da(a,"form"),d=da(c,"div.metabookglossform"),e=a.alt;ma(a,"held");Aa(a,"menutop")?u.xa(!1,c):"glossdelete"===e?ea(b,c):"glosscancel"===e?S(b,c,d):"glosspush"===e?u.oe(c,!1):"glossupdate"===e?u.oe(c,!1):"glossrespond"===e?aa(b):u.ml.exec(e)?u.xa(e,c):la.warn("Bad alt=%s in glossmode_release",e);ma(b,"expanded");ma(b,"held")}
function p(a){a=a||window.event;a=N.c(a);var b=da(a,".addglossmenu");ma(a,"held");bb||(bb=setTimeout(function(){bb=!1;ma(b,"held");ma(b,"expanded")},500))}function ea(a,b,c,d){b||(b=da(a,"FORM"));c||(c=da(b,".metabookglossform"));var e=T.L(c,"modified");ma(c,"modified");ma(a,"expanded");var f=Qa(b,"UUID")[0];(a=u.w.qa(f))&&a.vb?d?(Da(f),u.q(!1),T.remove(c),k(!1),u.Oa(!1)):g.a.Uc([{label:"Delete",S:function(){Da(f);u.q(!1);T.remove(c);k(!1);u.Oa(!1)},eb:!0},{label:"Cancel"}],e?"Delete this gloss?  Discard your changes?":
"Delete this gloss?",T("div.smaller","(Created ",Ma.Fj(a.vb),")")):(Da(f),u.q(!1),T.remove(c),k(!1),u.Oa(!1))}function S(a,b,c){b||(b=da(a,"FORM"));c||(c=da(b,".metabookglossform"));u.Ke();u.q(!1);T.remove(c);k(!1);u.Oa(!1)}function aa(a){(a=da(a,".metabookglossform"))&&(a=ya(a,"UUID"))&&(a=u.w.qa(a.value))&&k(a,u.us(a,!0))&&u.q("addgloss")}function ca(a){a=a||window.event;a=N.c(a);var b=(a=(a=da(a,"FORM"))&&da(a,".metabookglossform"))&&va(a,"TEXTAREA");a&&u.xa(!1);b&&u.dd(b);u.Jb(!0);u.Pf=!0}function ia(a){a=
a||window.event;var b=N.c(a),c=da(b,".submitclose");c&&ma(c,"submitclose");var d=(c=(c=da(b,"FORM"))&&da(c,".metabookglossform"))&&va(c,"TEXTAREA");Aa(c,"focused")?setTimeout(function(){d&&(u.dd(d),d.focus())},150):Ua(b,".addglossmenu")||Ua(b,".glossexposure")||(Ua(b,".textbox")||N.cancel(a),ua(c,"focused"),u.Jb(!0),ca(a))}function ja(a,b,c){if(a===b){u.w.Wc(b);if(a=qa("METABOOKEDITGLOSS_"+b))a=a.parentNode,a===qa("METABOOKLIVEGLOSS")&&(u.bb=!1,u.q(!1)),T.remove(a);var d=T.Array(document.getElementsByName(b));
a=0;var e=d.length;if(d)for(;a<e;){var f=d[a++];"METABOOKSKIM"===f.id?T.replace(f,T("div.mbcard.deletedgloss")):T.remove(f)}c=document.getElementsByName("METABOOK_GLOSSMARK_"+c);c=T.Array(c);a=0;for(e=c.length;a<e;)d=c[a++],f=Z.remove(d.Xa,b),0===f.length?T.remove(d):d.Xa=f;b=T.r(".mbexcerpt[data-glossid='"+b+"']");b=T.Array(b);a=0;for(e=b.length;a<e;)N.Pc.remove(b[a++])}else N.alert(a)}function Da(a){var b=u.w.qa(a);if(b&&b.vb&&b.u){var c=b.get("frag");g.Od.Eo(function(b){ja(b,a,c)},"https://"+u.Na+
"/1/delete","gloss",a)}else b&&b.s&&ja(a,a,b.s)}function n(a){a=a||window.event;var b=N.c(a),c=b.value,d=qa("METABOOKLIVEGLOSS");if(d){var d=va(d,"FORM"),e=u.mc,f=a.keyCode||a.charCode;X.Ja(c)&&13===f?e.selection?u.Cf(d,e.selection.getAttribute("data-value")):u.xa("editnote"):13===f&&e.selection?(u.Cf(d,e.selection),e.complete(""),b.value=""):13===f?(f=e.complete(c),f.length?u.Cf(d,f[0].getAttribute("data-value")):u.Cf(d,c),N.cancel(a),b.value="",e.complete("")):9===f?(e.complete(c),N.cancel(a),e.prefix&&
e.prefix!==c?(b.value=e.prefix,T.cancel(a)):a.shiftKey?e.kh():e.ag()):setTimeout(function(){e.complete(b.value)},100)}}function za(a){a=a||window.event;var b=N.c(a),c=b.value,d=qa("METABOOKLIVEGLOSS");if(d){var d=va(d,"FORM"),e=u.Ea,f=a.keyCode||a.charCode;X.Ja(c)&&13===f?(e.selection?u.Xh(d,e.selection):u.xa(!1),e.Ne()):13===f&&e.selection?(u.Xh(d,e.selection),e.complete(""),e.Ne(),b.value=""):13===f?(e.complete(c),0<=c.indexOf("|")||0<=c.indexOf("@")?u.Xh(d,c):u.Os(c,d),N.cancel(a),b.value="",e.complete("")):
9===f?(e.complete(c),N.cancel(a),e.prefix&&e.prefix!==c?(b.value=e.prefix,T.cancel(a)):a.shiftKey?e.kh():e.ag()):setTimeout(function(){e.complete(b.value)},100)}}function B(a){var b=qa("METABOOKLIVEGLOSS"),b=T.la(b,"FORM");T.pc(b,ub,a);b=qa("METABOOKATTACHFORM");a=T.oo(b,"ATTACHTYPE",a);g.a.sa.set(a,!0)}function Ha(a){a=a||window.event;var b=N.c(a);"FORM"!==b.tagName&&(b=da(b,"form"));var d=qa("METABOOKLIVEGLOSS"),e=T.Tb(b,"URL"),f=T.Tb(b,"TITLE"),k=f.value&&X.rf(f.value),l=T.Tb(b,"FILEOKAY"),f=e.value;
N.cancel(a);if(d)if(!k&&f&&(a=0<=f.indexOf("/")?f.search(/\/[^\/]+$/):0,k=0>a?f:f.slice(a)),Aa(b,"link"))/https?:[\/][\/](\w+[.])+\w+[\/]/.exec(e.value)?(u.Rb?(c(b,e.value,k),u.Rb=!1):h(b,e.value,k),T.h(d,"modified"),u.xa("editnote"),ta()):N.alert("This URL doesn't look right");else if(Aa(b,"upload"))if(u.Bc||u.Rb)if(u.Bc&&!l.checked)g.a.Uc([{label:"Yes",S:function(){N.sa.set(l,!0);Xa(k,d)}},{label:"Cancel"}],T("P","By choosing 'Yes,' I affirm that ","I have the right to use and share this ","file according to the sBooks ",
T.Gh("https://www.bookhub.io/legalia/TOS/","A[target='_blank']","Terms of Service"),"."));else if(u.Bc){var n=u.Bc.name;Ia(d).then(function(a){u.Rb?(c(d,a.hh,k),u.Rb=!1):h(d,a.hh,k||n||"attachment");T.h("METABOOKLIVEGLOSS","modified");u.xa("editnote");ta()}).catch(function(a){la("Trouble attaching file %o (%o)",u.Bc,a)})}else u.Rb?(T.h("METABOOKLIVEGLOSS","modified"),c(d,u.Rb,k),ta(),u.Rb=!1):la.warn("Fall through in attach_submit");else N.alert("You need to specify a file!");else la.warn("Fall through in attach_submit")}
function Oa(a){var b=qa("METABOOKLIVEGLOSS");ta();N.cancel(a);b&&u.xa("editnote")}function Wa(a){a=a||window.event;13===(a.keyCode||a.charCode)&&(N.cancel(a),qa("METABOOKLIVEGLOSS")&&(Ha(a),u.xa("editnote")))}function Xa(a,b){var d=u.Bc.name;Ia(b).then(function(e){u.Rb?(c(b,e.hh,a),u.Rb=!1):h(b,e.hh,a||d||"attachment");u.xa("editnote");ua(b,"modified");ta()}).catch(function(a){la("Trouble attaching file %o (%o)",u.Bc,a)})}function ga(a){var b=qa("METABOOKFILEINPUT"),c=document.createEvent("MouseEvents");
c.initMouseEvent("click",!0,!0,a.view);b.dispatchEvent(c);N.cancel(a)}function ta(){var a=qa("METABOOKATTACHURL"),b=qa("METABOOKATTACHTITLE"),c=qa("METABOOKUPLOADRIGHTS"),d=qa("METABOOKFILEINPUT");a.value="";b.value="";T.l("METABOOKGLOSSATTACH","haveupload");qa("METABOOKATTACHFILE").className="nofile";qa("METABOOKATTACHFILENAME").innerHTML="";g.a.sa.set(c,!1);u.Bc=!1;u.Rb=!1;d.value=""}function eb(b){var c=u.Rb,d=qa("METABOOKLIVEGLOSS"),c=T.la(d,"[data-href='"+c+"']");N.cancel(b);c&&(ua(d,"modified"),
N.sa.set(c,!1));ta();a("editnote")}function Ia(a){var b=u.Bc;a=T.po(a,"UUID");var c=ka.Hi(),d=b.type,e=new XMLHttpRequest,f="https://glossdata.bookhub.io/"+a+"/"+c+"/"+b.name,h=!1,k=!1;return new Promise(function(a,c){e.onreadystatechange=function(){h||k||4!==e.readyState||(200===e.status?(u.Bc=!1,k=!0,a(e)):(k=h=!0,c(e)))};e.ontimeout=function(a){c(a)};e.open("POST",f);e.setRequestHeader("content-type",d);e.withCredentials=!0;e.send(b)})}function mb(b){var c=N.c(b),d=da(c,".glosslink");if(d){c=d.getAttribute("data-href");
d=d.title;u.Rb=c;a("attach");if(0===c.search(/https:\/\/glossdata\./)){var e=/\/([^\/]+)$/.exec(c);B("upload");ua("METABOOKGLOSSATTACH","haveupload");qa("METABOOKATTACHFILENAME").innerHTML=e[1]}else 0<=c.search(/\/capture\.[A-Za-z0-9]+$/)?B("capture"):(B("link"),qa("METABOOKATTACHURL").value=c);g.a.sa.set(qa("METABOOKUPLOADRIGHTS"),!0);qa("METABOOKATTACHTITLE").value=d||c;ua(qa("METABOOKATTACHFORM"),"editlink");qa("METABOOKATTACHTITLE").focus();N.cancel(b)}else N.sa.onclick(b),b=da(c,"form"),ya(b,
"NOTE").focus()}function $a(a){a=a||window.event;var b=a.dataTransfer.types;b&&(0<=b.indexOf("Files")?g.a.cancel(a):0<=b.indexOf("text/uri-list")?g.a.cancel(a):0<=b.indexOf("text/plain")&&0===a.dataTransfer.getData("text/plain").search(/^\s*https?:\/\//)&&g.a.cancel(a))}function ib(a){a=a||window.event;var b=qa("METABOOKATTACHFORM"),c=a.dataTransfer.types;if(c)if(0<=c.indexOf("Files"))c=a.dataTransfer.files[0],N.cancel(a),u.Bc=c,B("uploadfile"),qa("METABOOKATTACHFILENAME").innerHTML=c.name,T.h("METABOOKGLOSSATTACH",
"haveupload"),Aa(b,"editlink")&&g.a.sa.set(qa("METABOOKUPLOADRIGHTS"),!1);else if(0<=c.indexOf("text/uri-list")){if(b=a.dataTransfer.getData("URL")||a.dataTransfer.getData("text/uri-list"))g.a.cancel(a),u.xa("attach"),B("linkurl"),qa("METABOOKATTACHURL").value=b,qa("METABOOKATTACHTITLE").focus()}else 0<=c.indexOf("text/plain")&&(c=a.dataTransfer.getData("text/plain"),g.a.cancel(a),0===c.search(/^\s*https?:\/\//)?(u.xa("attach"),Aa(b,"linkurl")||Aa(b,"copyurl")||B("linkurl"),qa("METABOOKATTACHURL").value=
c,qa("METABOOKATTACHTITLE").focus()):(a=qa("METABOOKLIVEGLOSS"),a=T.Tb(a,"NOTE"),u.xa(!1),a.value=c,a.focus()))}function jb(a){if(a=N.c(a).files[0])u.Bc=a,qa("METABOOKATTACHFILENAME").innerHTML=a.name,T.h("METABOOKGLOSSATTACH","haveupload"),Aa("METABOOKATTACHFORM","editlink")&&g.a.sa.set(qa("METABOOKUPLOADRIGHTS"),!1)}function rb(a){a=a||window.event;u.xa("editnote");N.cancel(a)}function Pa(a,b,c){if(u.bb===a)(ra.g||ra.Ma)&&la("startAddGloss/resume %o %o form=%o",c,a,u.nb),b&&u.xa(b,u.nb),u.q("addgloss",
!0),c&&N.cancel(c);else{var d=Ga[a.id];I(d);var d=k(a,"addgloss"===u.mode&&u.nb,d),e=va(d,"form");e&&(c&&N.cancel(c),(ra.g||ra.Ma)&&la("startAddGloss (%o) %o f=%o/%o",c,a,d,e),t(d),b&&(e.className=b),u.q("addgloss",!1))}}function Ra(){var a=T("div.message","Saving gloss");Za=!0;return Za=N.Uc({Le:[{label:"Save",S:function(){u.oe();Za=!1},value:"SAVE",eb:!0},{label:"Discard",value:"DISCARD",S:function(){u.Ke();Za=!1}}],timeout:u.vD||u.wr||7,Jc:"div.fdjtdialog.fdjtconfirm.savegloss"},a)}function I(a){for(var b=
0,c=Ga.length;b<c;){var d=Ga[b++];d!==a&&d.clear()}Ga=[];u.nf=!1}var X=g.String,ka=g.$a,Ma=g.Aa,la=g.t,T=g.b,N=g.a,Z=g.tb,na=g.Rc,qa=g.I,ob=u,Ea=ob.I,ra=u.da,ua=T.h,Aa=T.L,ma=T.l,Na=T.qc,Ya=T.pc,da=T.getParent,Ua=T.cb,gb=T.J,va=T.la,ya=T.Tb,cb=T.hl,Y=T.oo,hb=T.zs,Qa=T.ys,Ka=N.cancel,Va=N.sa.set,pa=u.ml,ha=u.icon,Sa=u.Ue,wa=u.vs,U=/(http:)|(https:)|(ftp:)|(urn:)/,Za=!1,Ga=[];u.mo=function(a){a||(a=qa("METABOOKLIVEGLOSS"));"string"===typeof a&&(a=qa(a));if(!a||!a.nodeType)return!1;"FORM"!==a.tagName&&
(a=va(a,"FORM"));return(a=pa.exec(a.className))&&0!==a.length&&a[0]?a[0]:!1};u.xa=a;u.us=q;u.$l=k;u.aE=e;u.a.Bp=l;u.XD=t;u.Cf=w;u.Zl=b;u.Xh=f;u.YD=function(a,b,c){"string"===typeof a&&(a=qa(a));a&&(a=ya(a,"NETWORKS",b))&&(a=da(a,".checkspan"))&&Va(a,c)};var oa={'"':'"',"'":"'","/":"/","<":">","[":"]","(":")","{":"}","\u00ab":"\u00bb"},La=/["'\/\[(<{}>)\]\u00ab\u00bb]/g,Ta=!1;u.Yy=F;var sa=X.rf;u.Os=function(a,b){var c="@"===a[0],d=c?u.mc:u.Ea,e="@"===a[0]||"#"===a[0]?a.slice(1):a,h=d.complete(e),
e=sa(e);if(c){for(var k=[],l=0,n=h.length;l<n;){var m=h[l++];Aa(m,"outlet")&&k.push(m)}h=k}if(h&&0!==h.length){c=!1;if(1===h.length)c=h[0];else if(h.Rk&&1===h.Rk.length)c=h.Rk[0];else for(c=h[0],d=0,k=h.length;d<k;)if(h[d++]!==c){c=!1;break}c&&c===h[0]&&u.Ea.getKey(h.matches[0]).toLowerCase()!==e.toLowerCase()?(f(b,e),u.Ea.complete("")):c?(h=f(b,c),u.Ea.complete(""),G(h,u.Ea.getKey(c))):(f(b,e),u.Ea.complete(""))}else c?w(b,e):f(b,e),d.complete("")};u.a.C.Ii=function(a){var b=N.c(a);if(b=da(b,".completion")){var c=
qa("METABOOKLIVEGLOSS"),c=c&&va(c,"form"),d=f(c,b);if(!Aa("METABOOKHUD","glossaddtag")&&(d=G(d,u.Ea.getKey(b)),(b=ya(c,"NOTE"))&&d)){var e,c=b.value;e||(e=b.selectionStart);if(e=F(c,e))b.value=c.slice(0,e.start)+c.slice(e.end)}}N.cancel(a)};u.a.jE=function(a){var b=N.c(a);if(b=da(b,".completion")){var c=qa("METABOOKLIVEGLOSS"),c=c&&va(c,"form"),d=b.getAttribute("data-value");Aa(b,"source")?d&&w(c,u.O.G(d),"SHARE"):Aa(b,"network")?w(c,b,"NETWORK"):Aa(b,"email")&&(d?w(c,b,"EMAIL"):w(c,b))}N.cancel(a)};
var ab=!1;u.oe=O;u.Ke=z;var Ba={};u.Am=Q;u.a.Sz=C;var bb=!1;u.a.Ix=function(a){a=a||window.event;a=N.c(a);var b=qa(T.cb(a,".metabookglossform")?"METABOOKNETWORKBUTTONS":"METABOOKLIVEGLOSS"),b=hb(b,"NETWORK",a.value);N.sa.set(b,a.checked)};u.a.Jx=function(a){a=N.c(a||window.event);var b=da(a,".metabookglossform");a.checked?T.h(b,"posted"):T.l(b,"posted")};u.a.Kx=function(a){a=a||window.event;a=N.c(a||window.event);var b=da(a,".metabookglossform"),c=va(b,".postgloss"),d=c&&ya(c,"POSTGLOSS");c&&(a.checked?
d&&(d.disabled=!0):d&&(d.disabled=!1));a.checked?T.h(b,"private"):T.l(b,"private")};u.a.Ks=ca;u.a.Tz=ia;u.a.Rz=ca;u.a.Qz=function(a){a=a||window.event;a=N.c(a);var b=(a=(a=da(a,"FORM"))&&da(a,".metabookglossform"))&&va(a,"TEXTAREA");a&&ma(a,"focused");b&&u.gi(b);u.Jb(!1,!1);Ma();u.Pf=!1};var ub=/\b(link|upload|body|capture)\b/g;u.a.Hx=function(a){a=a||window.event;a=N.c(a);var b=da(a,"form"),c=a.value;a.checked?T.pc(b,ub,c):ma(b,a.value)};u.SD=B;u.Vp=function(a){var b=u.a.Bp(a);u.D.body&&u.D.body.abort&&
u.D.body.abort();u.nf=a;Ga.push(b);Ga[a.id]=b;N.D.clear();Pa(a,!1,!1)};u.im=Pa;u.uD=Ra;u.nv=function(a,b){var c=u.a.Bp(a);u.D.body&&u.D.body.abort&&u.D.body.abort();u.nf=a;Ga.push(c);Ga[a.id]=c;N.D.clear();(ra.g||ra.Yb)&&la("body_held/select_wait %o %o %o",c,a,b);setTimeout(function(){(ra.g||ra.Yb)&&la("body_held/select_start %o %o %o",c,a,b);c.Up(b,250)},0)};u.gr=I;u.Nz=function(){return Ga};u.Kn=function(a){a||(a=u.nb);a&&!Za&&(Aa(a,"modified")?Aa(a,"glossadd")?Ra():u.oe(a):u.Ke())};g.b.lb(u.a.C.Dc,
{".metabookglossform":{click:ia,ha:ia},Pz:{dj:function(a){a=a||window.event;var b=N.c(a),b=Sa(b);"addgloss"===u.mode&&u.bb===b?(N.cancel(a),u.q(!0)):b&&(N.cancel(a),a=k(b))&&(u.q("addgloss"),t(a))},cj:Ka},"span.metabooksharegloss":{F:g.a.sa.onclick},".metabookglossform .response":{click:u.kq},".addglossmenu":{F:ba,wb:H,Gc:p,Fa:R,click:Ka},"div.glossetc":{click:mb},"div.glossetc div.sharing":{click:C},"div.glossetc div.notetext":{click:rb},"#METABOOKADDGLOSS":{Tn:$a,Un:$a,Wc:ib},"#METABOOKATTACHFILE":{click:ga},
"#METABOOKGLOSSATTACH":{Tn:$a,Un:$a,Wc:ib},"#METABOOKADDTAGINPUT":{yd:za},"#METABOOKADDSHAREINPUT":{yd:n},"#METABOOKATTACHFORM":{submit:Ha},"#METABOOKATTACHURL":{yd:Wa},"#METABOOKATTACHTITLE":{yd:Wa},"#METABOOKATTACHCANCEL":{click:Oa},"#METABOOKATTACHDELETE":{click:eb},"#METABOOKFILEINPUT":{Bg:jb},"#METABOOKGLOSSCLOUD":{F:u.a.C.Ii,Fa:u.a.C.Ii},"#METABOOKSHARECLOUD":{F:V,Fa:V}});g.b.lb(u.a.C.ca,{".metabookglossform .response":{click:u.kq},".addglossmenu":{F:ba,wb:H,Gc:p,Fa:R,click:Ka},"div.glossetc":{ha:mb,
Y:Ka},"div.glossetc div.sharing":{Y:C,click:Ka},"div.glossetc div.notetext":{Y:rb,click:Ka},"#METABOOKADDTAGINPUT":{yd:za},"#METABOOKADDSHAREINPUT":{yd:n},"#METABOOKATTACHFORM":{submit:Ha},"#METABOOKATTACHURL":{yd:Wa},"#METABOOKATTACHTITLE":{yd:Wa},"#METABOOKATTACHFILE":{click:ga},"#METABOOKATTACHCANCEL":{click:Oa},"#METABOOKATTACHDELETE":{click:eb},"#METABOOKADDGLOSS":{Tn:$a,Un:$a,Wc:ib},"#METABOOKFILEINPUT":{Bg:jb},"#METABOOKGLOSSCLOUD":{F:u.a.C.Ii,Fa:u.a.C.Ii},"#METABOOKSHARECLOUD":{F:V,Fa:V}})})();(function(){function a(a,b){if(!0===a)return Ta;a?Ta||setTimeout(function(){Ta=!1;a()},b||400):Ta&&(clearTimeout(Ta),Ta=!1)}function q(a,b){if(!0===a)return sa;a?sa||setTimeout(function(){sa=!1;a()},b||500):sa&&(clearTimeout(sa),sa=!1)}function k(a,b){Z.Fe(a,I.a.C[u.te][b])}function m(a){a=a||window.event;var b=na.c(a),c=a.clientX,d=a.clientY,e=T(),f=!1,h=Z.sb();a.changedTouches&&a.changedTouches.length&&(f=a.changedTouches[0],c=f.clientX,d=f.clientY);X.g&&N("body_tapped %o c=%d,%d now=%o p=%o %s",
a,c,d,e,I.N,f?"(touch)":"");if(I.N)return b=Ya(b),I.na("body_tapped/stop_preview",b||!0),na.D.clear(),U(a),!1;if(Aa(document.body,"mbSHOWHELP"))ma(document.body,"mbSHOWHELP");else if(I.ca&&I.ed)I.gi(I.ed);else{if(I.jf)return X.g&&N("body_tapped %o closing menu %o",a,I.jf),I.D.body&&u.D.body.abort(),U(a),w(a);if(I.ma)I.U?La(!1,!1):f&&c<h/4?Q(a,!0):f&&c<h/4?M(a,!0):La(!1);else if(I.bb)c=u.nb,Ua(b,I.bb)?oa("addgloss",!1):u.Kn(c);else{if(I.U||I.mode)return oa(!1),La(!1),Ea("METABOOKOPENGLOSSMARK")&&(I.target&&
u.rd(I.target),Ea("METABOOKOPENGLOSSMARK").id=""),U(a),Ba=T(),!1;if(Ea("METABOOKOPENGLOSSMARK"))Ea("METABOOKOPENGLOSSMARK").id="",I.target&&u.rd(I.target);else{if(Ua(b,".glossmark")||v(b))return U(a),!1;X.g&&N("body_tapped/fallthrough (%o) %o, m=%o, @%o,%o, vw=%o",a,b,I.mode,c,d,Z.sb());I.Ci&&!I.U&&(50>d||d>Z.zb()-50)?La(!0):c<.4*Z.sb()?Q(a,!0):M(a,!0)}}}U(a)}function e(a){var b=ra(a);if(b)return b;a=document.getElementsByName(a);if(0===a.length)return!1;if(1===a.length)return a[0];for(var c=b=0,
d=a.length,e=u.page;c<d;){var f=a[c++];if(Aa(f,"metabookdupstart"))return f;b||Ua(f,e)&&(b=4)}return b?b:a[0]}function v(a){if(Ba&&1E3>T()-Ba)return!0;var b=da(a,"A"),c,d=!1,d=b.rel,f=b.className;"string"!==typeof f&&(f="");"string"!==typeof d&&(d="");if(b&&b.href&&(c=b.getAttribute("href"))){X.g&&N("ctouch: follow link %s",c);if("#"===c[0])if(a=c.slice(1),"string"!==typeof f&&(f=""),"string"!==typeof d&&(d=""),0<=d.search(ub)||0<=f.search(pb)||I.Vt&&I.Vt.match(b)){a:{b=ra(a);c=Ea("METABOOKBODY");
d=document.body;if(!b){var h=document.getElementsByName(a);if(!c){c=!1;break a}if(h.length)for(f=0,h=h.length;f<h;)if(Ua(b[f],c)){b=b[f];break}else f++}if(b){for(var f=b,h=Z.Ac(b),k=!1,l=u.gC;f&&f!==c&&f!==d;){if(l&&l.match(f)){c=f;break a}k||"block"!==h.display||(k=f);f=f.parentNode;h=Z.Ac(f)}c=k?k:b}else c=void 0}b=c.id;u.b.mj.innerHTML="";c=c.cloneNode(!0);Z.th(c);ma(c,/\bmetabook\S+/g);ua(c,"metabooknotebody");u.b.mj.setAttribute("data-note",b||a);Z.append(ha.mj,c);oa("shownote");Ba=T()}else 0<=
d.search(vb)?(a=Ea(a),Z.Rl(ha.bi),Z.append(ha.bi,a.cloneNode(!0)),oa("showaside"),Ba=T()):u.Cm[a]?(a=u.Cm[a],Ba=T(),a()):(d=e(a))?(u.Jh(d),Ba=T()):N.warn("Couldn't resolve %s",a);else 0<=d.search(fa)||0<=f.search(db)||b.target||(b.target="_blank"),Z.Nv(b);return!0}if(b=da(a,"details,.html5details,.sbookdetails"))return Z.Rl(ha.Ut),u.b.Ut.innerHTML=b.innerHTML,oa("showdetails"),Ba=T(),!0;if(b=da(a,"aside,.html5aside,.sbookaside"))return Z.Rl(ha.bi),u.b.bi.innerHTML=b.innerHTML,oa("showaside"),Ba=T(),
!0;if(b=da(a,"[data-glossid]")){b=b.getAttribute("data-glossid");c=u.w.G(b);if(!c)return!1;b=Z("div.metabookglosses.metabookslice");c=new bb(b,[c],!1);b=Z("div.hudpanel#METABOOKPOINTGLOSSES",b);Z.replace("METABOOKPOINTGLOSSES",b);u.Oa(a);c.update();oa("openglossmark");return!0}return!1}function l(a){a=a||window.event;var b=g.a.c(a);da(b,"A[href]")||(U(a),a=I.b.mj,(b=a.getAttribute("data-note"))?(a.removeAttribute("data-note"),a.innerHTML="",I.q(!1),I.Ab(b,"jumpToNote",!0,!0)):I.q(!1))}function A(a){a=
a||window.event;var b=na.c(a),c=Ya(b);X.g&&N("body_held %o p=%o p.p=%o bc=%s hc=%s",a,c,c&&c.parentNode,document.body.className,u.jb.className);if(!I.N){if(Ua(b,"A")){var d=(b=da(b,"A"))&&b.getAttribute("href");U(a);if(d&&"#"===d[0]&&ra(d.slice(1))){X.g&&N("anchor_preview/body_held %o %o %o",a,b,d);I.Mj(d.slice(1),"content/anchor_held");return}}c&&(I.bb===c?"addgloss"!==I.mode&&oa("addgloss",!1):I.ma?(U(a),I.me(),La(!1),I.D.body.abort()):(I.nv(c,a),I.im(c,!1,a)))}}function t(a){var b=na.c(a),c=Ya(b);
X.g&&N("body_taptap %o p=%o p.p=%o bc=%s hc=%s t=%o gt=%o",a,c,c&&c.parentNode,document.body.className,I.jb.className,b,I.bb);Ua(b,"IMG,AUDIO,VIDEO,OBJECT")?(I.jm(da(b,"IMG,AUDIO,VIDEO,OBJECT")),U(a)):(I.bb&&(Ua(b,I.bb)?oa("addgloss",!1):u.Kn()),c&&(I.bb===c?"addgloss"!==I.mode&&oa("addgloss",!1):(b=[{label:"Add Gloss",Vc:"addgloss",S:function(){I.Vp(c)},eb:!0}],b.push({label:"Zoom content",Vc:"zoomcontent",S:function(){I.jm(c);U(a)}}),y(c,b),1===b.length?(U(a),I.Vp(c)):(U(a),b.push({label:"Cancel",
Vc:"cancel",S:function(){u.Ke()}}),u.jf=na.Uc({Le:b,Jc:"div.fdjtdialog.metabooktaptap"})))))}function y(a,b){for(var d=a;d;){var e=a.getAttribute("data-xref");if(e){var f=e.indexOf(" "),k=0<f?e.slice(0,f):e,e=0<f?e.slice(f+1):e,f={id:a.id,B:I.xc,M:I.M,ya:I.ya};I.e&&I.e.d&&(f.e=I.e.d);k={label:e,S:c(Ka(k,f))};b.push(k)}d=d.parentNode}d=ya(a,"a[href]");k=0;for(e=d.length;k<e;){var f=d[k++],l=Qa(f.getAttribute("href")),l=0===l.search("#")?h(l):c(f.href),n=Z("span.anchortext");n.innerHTML=f.title||f.innerHTML;
b.push({S:l,label:n,Vc:"anchor"})}}function w(a){a=a||window.event;if(!I.jf)return!1;if(a){var b=na.c(a);if(I.jf&&Ua(b,I.jf))return!1}b=I.jf;I.jf=!1;g.we.close(b);a&&U(a);return!0}function h(a){return function(){u.Ab(a)}}function c(a){return function(){window.open(a)}}function b(a){a=a||window.event;fb=!1;I.wf||"METABOOKBODY"===na.c(a).id&&(fb=T())}function f(a){a=a||window.event;if(!I.wf&&"METABOOKBODY"===na.c(a).id&&fb&&1E3>T()-fb){I.D.body&&u.D.body.abort();U(a);var b=a.clientX||a.changedTouches&&
a.changedTouches.length&&a.changedTouches[0].clientX,c=Z.sb();b>c/2?M(a):Q(a)}}function F(a){a=a||window.event;if(!I.wf){var b=na.c(a),c=!1;X.g&&N("body_released %o",a);if(I.N)I.na("body_released"),U(a);else if(Ua(b,"A"))U(a);else{c=Ua(b,".fdjtselecting")&&Ya(b);if(!c){c=ya(b,".fdjtselected");if(0===c.length){u.gr();return}b=c[0];c=Ya(b)}X.g&&N("body_released %o p=%o gt=%o gf=%o",a,c,I.bb,I.nb);I.bb===c?(I.nb&&(u.nb.id="METABOOKLIVEGLOSS"),"addgloss"!==I.mode&&oa("addgloss")):I.im(c,a.shiftKey&&"addtag",
a)}}}function r(a){for(var b=document.body;a&&a!==b&&1===a.nodeType;){if(a.name&&0===a.name.search("SBR")||a.getAttribute("name")&&0===a.getAttribute("name").search("SBR"))return a;a=a.parentNode}return!1}function d(a,b){for(var c=ya(a,".metabooktitle"),d=0,e=c.length;d<e;){var f=c[d++];if(f.name===b)return f}return!1}function x(a){a=a||window.event;var b=na.c(a);if(I.N)I.na("toc_tapped"),U(a);else if(b=r(b)){var c=(b.name||b.getAttribute("name")).slice(3),d=u.p[c].Sb||ra(c);d.id!==c&&(d=ra(c));X.g&&
N("toc_tapped %o about=%o ref=%s target=%o",a,b,c,d);u.Jh(d);U(a)}else X.g&&N("toc_tapped %o noabout",a)}function K(b){b=b||window.event;var c=na.c(b),e=r(c);a(!1);q(!1);if(e){var f=e.name||e.getAttribute("name"),c=f.slice(3),h=da(e,".metabooktoc"),f=d(h,f);X.g&&N("toc_held %o about=%o ref=%s toc=%o title=%s",b,e,c,h,f);ua(f,"metabookpreviewtitle");ua(e.parentNode,"metabookheld");e=da(e,".spanbar")||va(h,".spanbar");ua(e,"metabookvisible");ua(h,"metabookheld");I.Mj(ra(c),"toc_held");return U(b)}X.g&&
N("toc_held %o noabout",b)}function J(b){b=b||window.event;var c=r(na.c(b));a(!1);if(c){var e=c.name||c.getAttribute("name"),f=e.slice(3),h=da(c,".metabooktoc"),e=d(h,e);X.g&&N("toc_released %o ref=%o about=%o toc=%o title=%s",b,f,c,h,e);ma(e,"metabookpreviewtitle");ma(c.parentNode,"metabookheld");c=da(c,".spanbar")||va(h,".spanbar");ma(c,"metabookvisible");ma(h,"metabookheld");I.N&&I.na("toc_released")}else X.g&&N("toc_released %o noabout",b),I.na("toc_released");U(b)}function G(a){a=a||window.event;
sa||q(function(){sa=!1;X.g&&N("toc_slipped/timeout %o",a);I.na("toc_slipped")})}function D(a){a=a||window.event||null;var b=a.keyCode,c=na.c(a);if(27===a.keyCode)I.N&&(I.na("escape_key"),na.D.clear()),ma(document.body,"mbZOOM"),ma(document.body,"mbMEDIA"),I.wf=!1,"addgloss"===I.mode&&u.Ke(),I.mode&&(u.Wf=u.mode,oa(!1),u.Oa(!1),Ea("METABOOKSEARCHINPUT").blur());else if("TEXTAREA"!==c.tagName&&"INPUT"!==c.tagName&&"BUTTON"!==c.tagName&&!c.isContentEditable){X.g&&N("metabook_keydown %o: %o on %o",a,
b,c);if(I.Ln&&a.ctrlKey&&(99===b||67===b))I.N&&I.na("mb_onkeydown",!0),na.D.clear(),oa("console"),U(a);else{if(a.altKey||a.ctrlKey||a.metaKey)return!0;if(I.N)return I.na("mb_onkeydown",!0),na.D.clear(),La(!1),U(a),!1;if(Aa(document.body,"mbCOVER"))return u.wc(),u.Zc(),U(a),!1;if(Aa(document.body,"mbZOOM"))return 34===b?Z.gp(Ea("METABOOKZOOM"),1):33===b&&Z.gp(Ea("METABOOKZOOM"),-1),!1;if(I.nb){c=g.b.Tb(I.nb,"NOTE");u.a.Ks(I.nb);u.dd(c);c.focus();var d=document.createEvent("UIEvent");d.initUIEvent("keydown",
!0,!0,window);d.keyCode=b;c.dispatchEvent(d);U(a);return}if(34===b)M(a);else if(33===b)Q(a);else if(40===b)La(!1),M(a);else if(38===b)La(!1),u.Ol(a);else if(37===b)I.mode&&!I.ma&&pa[u.mode]?Ma.Zn(pa[u.mode]):u.Ij(a);else if(39===b)I.mode&&!I.ma&&pa[u.mode]?Ma.Sk(pa[u.mode]):u.Jj(a);else{if(Z.Si(Z.c(a)))return!0;if(32===b)I.mode&&!I.ma&&pa[u.mode]?a.shiftKey?Ma.Sk(pa[u.mode]):Ma.forward(pa[u.mode]):M(a,!0);else if(8===b||45===b)I.mode&&!I.ma&&pa[u.mode]?a.shiftKey?Ma.Zn(pa[u.mode]):Ma.He(pa[u.mode]):
Q(a,!0);else if(36===b)u.Jh(I.head);else if("addgloss"===I.mode){if(u.mo())return;c=(c=Ea("METABOOKLIVEGLOSS"))&&va(c,"FORM");if(!c)return;13===b?Sa(c):35===b||91===b?u.xa("addtag",c):32===b?u.xa("editnote",c):47===b||58===b?u.xa("attach",c):64===b&&u.xa("addoutlet",c)}else return}}U(a)}}function E(a){a=a||window.event||null;if(Z.Si(Z.c(a))||a.ctrlKey||a.altKey||a.metaKey)return!0}function P(a){var b=!1;a=a||window.event||null;var b=a.charCode||a.keyCode,c=Z.c(a);if(Z.Si(c)||a.altKey||a.ctrlKey||
a.metaKey)return!0;X.g&&N("metabook_onkeypress %o: %o on %o",a,b,c);if(72===b||104===b)return u.wc(),u.Zc(),Z.qc(document.body,"metabookhelp"),!1;if(67===b||99===b)return u.wc(),u.Ev(),!1;if(Aa(document.body,"mbZOOM")){if(43===b)return I.zoom(1.1);if(45===b)return I.zoom(.9)}b=Ca[b];"openheart"===b&&(b=u.ut||"about");c=oa();b&&(c===b?(oa(!1),c=!1):(oa(b),c=b));"searching"===c?u.dd(Ea("METABOOKSEARCHINPUT")):u.gi(Ea("METABOOKSEARCHINPUT"));Z.cancel(a)}function O(a){a=a||window.event;var b=na.c(a),
c=b.getAttribute("hudmode");X.g&&N("hudmodebutton() %o mode=%o cl=%o skim=%o sbh=%o mode=%o",a,c,gb(b),u.La,I.U,I.q());u.wc();Ga.gc&&Ga.fs();U(a);if(c)if(b=Aa(I.jb,c)||"search"===c&&Aa(I.jb,I.Ku),"click"===a.type||"tap"===a.type||"release"===a.type){ma(document.body,"_HOLDING");if(I.La&&!I.U){if("refinesearch"===c||"searchresults"===c){oa("searchresults");return}if("allglosses"===c){oa("allglosses");return}if("statictoc"===c){oa("statictoc");return}}b?Aa(document.body,"mbSKIMMING")?I.me():oa(!1,!0):
(Aa(document.body,"mbSKIMMING")&&I.me(),oa(c))}else"hold"===a.type?ua(document.body,"_HOLDING"):ma(document.body,"_HOLDING")}function L(a){a=a||window.event||null;ab&&ab&&(clearTimeout(ab),ab=!1,X.g&&N("clear_hold from %s","glossmark_tapped"));if(!(a.ctrlKey||a.altKey||a.metaKey||a.shiftKey)){var b=na.c(a),c=da(b,".glossmark"),d=c.name&&0===c.name.search("GLOSSMARK_NAME_")&&Ea(c.name.slice(15))||Ya(c.parentNode,!0);d&&d.getAttribute("data-baseid")&&(d=ra(d.getAttribute("data-baseid")));X.g&&N("glossmark_tapped (%o) on %o gmark=%o passage=%o mode=%o target=%o",
a,b,c,d,I.mode,I.target);if(!c)return!1;U(a);"openglossmark"===I.mode&&I.target===d?(oa(!1),u.Cg()):I.nf||u.fv(d,c)}}function z(a,b){if(a&&b){var c=Aa(a,"glossmark")?a:da(a,".glossmark");if(c&&tb!==c){Fa&&(clearInterval(Fa),Fa=tb=!1,lb&&na.fk.reset(lb));var d=va(c,"img.wedge");d&&(tb=c,lb=d,Fa=na.fk(d,750))}}else Fa&&(clearInterval(Fa),Fa=tb=!1,lb&&na.fk.reset(lb),lb=!1)}function W(a){I.N&&na.ij(a)}function M(a,b){a=a||window.event;ma(document.body,/\bmb(PAGE)?PREVIEW/g);var c=T();nb&&100>c-nb||(nb=
c,ma(document.body,/\bmb(PAGE)?PREVIEW/g),b&&(I.U||I.mode)&&g.va(function(){I.Jb(!1)}),I.Ql&&Z.ah("METABOOKPAGEORWARDAUDIO"),(X.g||X.zc)&&N("pageForward (on %o) c=%o n=%o",a,I.Ua,I.Wb),I.Tc&&"number"===typeof u.Ua?I.Ua>=(I.Tc&&(I.Wb||I.j.gf-1))||u.rc(u.Ua+1,"pageForward",!0,!0):(c=Z.zb()-50,0>c&&(c=Z.zb()),window.scrollTo(Z.vq(),Z.wq()+c)))}function Q(a,b){var c=T();ma(document.body,/\bmb(PAGE)?PREVIEW/g);nb&&100>c-nb||(nb=c,a=a||window.event,b&&g.va(function(){I.Jb(!1)}),I.Ql&&Z.ah("METABOOKPAGEBACKWARDAUDIO"),
(X.g||X.zc)&&N("pageBackward (on %o) c=%o n=%o",a,I.Ua,I.Wb),I.Tc&&"number"===typeof u.Ua?(c=!1,0!==I.Ua&&(c=u.Ua-1,u.rc(c,"pageBackward",!0,!0))):(c=Z.zb()-50,0>c&&(c=Z.zb()),window.scrollTo(Z.vq(),Z.wq()-c)))}function C(a){var b=T(),c=u.ga[u.mode];(X.g||X.ee)&&N("skimForward %o: mode=%s",a,I.mode);ma(document.body,/\bmb(PAGE)?PREVIEW/g);if(!(nb&&100>b-nb)&&(nb=b,I.Vj&&Z.ah("METABOOKSKIMFORWARDAUDIO"),c))return I.Vj&&Z.ah("METABOOKSKIMFORWARDAUDIO"),ua("METABOOKSKIMMER","flash"),ua("METABOOKNEXTSKIM",
"flash"),setTimeout(function(){ma("METABOOKSKIMMER","flash");ma("METABOOKNEXTSKIM","flash")},200),(a=c.forward())&&u.xe(a,1),a}function V(a){var b=T(),c=u.ga[u.mode];(X.g||X.ee)&&N("skimBackward %o: mode=%s",a,I.mode);ma(document.body,/\bmb(PAGE)?PREVIEW/g);if(!(nb&&100>b-nb)&&(nb=b,I.Vj&&Z.ah("METABOOKSKIMBACKWARDAUDIO"),c))return ua("METABOOKPREVSKIM","flash"),ua("METABOOKSKIMMER","flash"),setTimeout(function(){ma("METABOOKSKIMMER","flash");ma("METABOOKPREVSKIM","flash")},200),(a=c.He())&&u.xe(a,
-1),a}function ba(a){a=a||window.event;var b=na.c(a);if(!gb(b))if(da(b,".tool"))(a=Va(b))&&(a.name||a.getAttribute("name"))&&(a=a.name||a.getAttribute("name"),(a=ob.resolve(a,I.w))&&u.$l(a)&&(I.me(),oa("addgloss")));else{if(da(b,".mbmedia")){var c=da(b,".mbmedia"),d=c.getAttribute("data-src"),e=!1,f=c.getAttribute("data-type");if(Aa(c,"imagelink"))u.Gj(d,f),e=!0;else if(Aa(c,"audiolink")||Aa(c,"musiclink"))u.Gj(d,f),e=!0;if(e){U(a);return}}da(b,"mbcard_tochead")?(a=(a=da(b,".tocref"))&&a.getAttribute("data-tocref"))?
u.Gq(a):Na("METABOOKSKIMMER","expanded"):(I.U?I.me():La(!0,!1),U(a))}}function H(a){var b=a.deltaX,c=a.deltaY,d=Z.sb(),e=0>b?-b:b,f=0>c?-c:c;X.g&&N("skimmer_swiped d=%o,%o, ad=%o,%o, s=%o,%o vw=%o, n=%o",b,c,e,f,a.rb,a.qf,d,a.ef);if(e>2*f)b<-(I.pb||10)?u.Jj(a):b>(I.pb||10)&&u.Ij(a);else if(f>2*e){if(f<=(I.pb||10))return;0>c?I.Jb(!1):I.me()}U(a)}function R(a){a=a||window.event;I.U||I.mode||I.Pb?(U(a),oa(!1)):(U(a),I.U?oa(!1):oa("gotopage",!0))}function p(a){a=a||window.event;I.U||I.mode||I.Pb?(U(a),
oa(!1)):(U(a),I.U?oa(!1):oa("gotoref",!0))}function ea(a){a=a||window.event;I.U||I.mode||I.Pb?(U(a),oa(!1)):(U(a),I.U?oa(!1):oa("gotoloc",!0))}function S(a){a=a||window.event;I.U||I.mode||I.Pb?(U(a),oa(!1)):(U(a),I.U?oa(!1):oa("gotoloc",!0))}function aa(a){a=a||window.event;var b=na.c(a);X.g&&N("head_tap %o t=%o",a,b);if(I.N)I.na("head_tap"),U(a);else{if(na.Vf(b))return Wa(a);if(b===u.b.head||b===u.b.wv)I.mode?(U(a),oa(!1)):Z.L(document.body,"mbSHOWHELP")?(U(a),ma(document.body,"mbSHOWHELP")):I.U?
(U(a),oa(!1)):(U(a),oa(!0))}}function ca(a){X.g&&N("foot_tap %o",a);I.N?(I.na("foot_tap"),U(a)):gb(a)||Ua(na.c(a),"hudbutton")||!(I.U||I.mode||I.Pb)||(U(a),oa(!1))}function ia(a){a=a||window.event;U(a);"addgloss"===I.mode&&u.Ke();oa(!1);ma(document.body,"mbSHOWHELP")}function ja(){oa(!1)}function Da(a){a?I.ed!==a&&(u.ed=a,u.Pf=!0,a.focus()):(a=u.ed,u.ed=!1,u.Pf=!1,a&&a.blur())}function n(a){a||(a=u.ed);a&&I.ed===a&&(u.ed=!1,u.Pf=!1,a.blur())}function za(a){a=a||window.event;a=na.c(a);var b=da(a,"textarea");
b||(b=da(a,"input"));b&&"string"===typeof b.type&&0===b.type.search(Z.gq)&&Da(b)}function B(a){a=a||window.event;a=a.nodeType?a:na.c(a);var b=da(a,"textarea");u.N&&a===window&&I.na();b||(b=da(a,"input"));b&&"string"===typeof b.type&&0===b.type.search(Z.gq)&&n(b)}function Ha(a){a?(ua(document.body,"mbSHOWHELP"),u.Pb=!0):(ma(document.body,"mbSHOWHELP"),u.Pb=!1);return!1}function Oa(a){a=a||window.event;X.g&&N("toggleHelp %o",a);U(a);I.Pb?(ma(document.body,"mbSHOWHELP"),u.Pb=!1):(ua(document.body,"mbSHOWHELP"),
u.Pb=!0);return!1}function Wa(a){a=a||window.event;var b=na.c(a);if("TEXTAREA"===b.tagName||"INPUT"===b.tagName&&0<=b.type.search(Z.Bv))b.focus(),Za(a);else if("A"===b.tagName&&b.href){var c=b.href;if("#"===c[0]){var b=c.slice(1),c=I.Cm[b],d;if(c)U(a),c();else if(d=I.I(b))U(a),qa(function(){I.Ab(d)})}else if(I.Bm&&0<I.Bm.length){a=I.Bm;for(var e=0,f=a.length;e<f;){var h=a[e++];if(0<=c.search(h.pattern)&&h.S(c,b))break}}}}function Xa(a){if(!I.U&&!I.closed){var b=a.touches&&a.touches.length&&a.touches||
a.changedTouches&&a.changedTouches.length&&a.changedTouches,c=a.clientX||b&&b[0].clientX,b=a.clientY||b&&b[0].clientY,d=(c||b)&&document.elementFromPoint(c,b);1<I.da.g&&N("dombody_touched %o: %o @ <%o,%o>",a,d,c,b);if(d===document.body&&!(50>b||50>d.offsetHeight-b)){I.da.g&&N("dombody_touched(atedge) %o: %o @ <%o,%o>",a,d,c,b);if(10>c)return I.Ol();if(10>d.offsetWidth-c)return I.du()}}}function ga(a){a=a||window.event;if(!I.ca||I.U){if(!(a.shiftKey||a.touches&&2<=a.touches.length)){var b=u.uj("mB("+
I.B+").opened",!0);b&&6E5<b-T()&&(Ea("METABOOKCOVERHOLDER")?Ea("METABOOKCOVER").className="bookcover":Ea("METABOOKCOVER").className="titlepage")}u.wc();u.qh();U(a)}}function ta(a){a=a||window.event;a.shiftKey||a.touches&&2<=a.touches.length||(Ea("METABOOKCOVER").className="bookcover");u.wc();u.qh();U(a)}function eb(a){a=a||window.event;X.g&&N("raiseHUD %o",a);La(!0);U(a);return!1}function Ia(a){a=a||window.event;X.g&&N("saveGloss %o",a);u.oe()}function mb(a){a=a||window.event;U(a);X.g&&N("refreshLayout %o",
a);u.tu()}function $a(a){a=a||window.event;U(a);na.Uc({Le:[{label:"OK",eb:!0,S:function(){u.vu()}},{label:"Cancel"}],Jc:"div.fdjtdialog.mbsettings"},"Mark current location as ",Z("em","latest")," and ",Z("em","farthest"),"?",I.hc&&"for all syncing devices")}function ib(a){a=a||window.event;U(a);na.Uc({Le:[{label:"OK",eb:!0,S:function(){u.rp()}},{label:"Cancel"}],Jc:"div.fdjtdialog.mbsettings"},"Reload all glosses and layers?")}function jb(a){a=a||window.event;U(a);X.g&&N("clearOffline %o",a);u.Me()}
function rb(a){a=a||window.event;u.Yx(a)}function Pa(a){N("toggleDevMode %o",a);if(wb){var b=document.documentElement||document.body,c=T();1E3>c-wb?(I.Ig?(u.Ig=!1,la.Ib("mB.devmode"),ma(b,"_DEVMODE")):(u.Ig=!0,la.lc("mB.devmode",!0),ua(b,"_DEVMODE")),wb=!1):wb=c}else wb=T();U(a)}function Ra(a){var b=g.a.c(a);Ua(b,"A[href]")?Ba&&2E3>T()-Ba&&U(a):U(a)}var I=u,X=I.da,ka=g.String,Ma=g.of,la=g.$a,T=g.Aa,N=g.t,Z=g.b,na=g.a,qa=g.va,ob=g.tb,Ea=g.I,ra=u.I,ua=Z.h,Aa=Z.L,ma=Z.l,Na=Z.qc,Ya=u.Ue,da=Z.getParent,
Ua=Z.cb,gb=na.Vf,va=Z.la,ya=Z.J,cb=Z.Tb,Y=Z.Ra,hb=ka.Ja,Qa=ka.On,Ka=ka.$n,Va=u.a.lo,pa=u.qj,ha=u.b,Sa=na.vv,wa=g.a.ij,U=g.a.cancel,Za=g.a.Wo,Ga=na.tc,oa=u.q,La=u.Jb,Ta=!1;u.lp=a;var sa=!1;u.Sp=q;u.pF=/\b(metabookui|glossmark)\b/gi;u.ka("controlc",function(a,b){u.Ln=b});u.a.vk=k;u.Ej=function(a){var b=u.te;b||(u.te=b="mouse");!a&&(1<X.n||X.g)&&N("Setting up basic handlers for %s UI",b);a&&X.g&&N("Setting up %s UI handlers for %o",b,a);a||(k(!1,"window"),k(document,"document"),k(document.body,"body"),
k(Ea("METABOOKBODY"),"content"),u.D.body=na.D(Ea("METABOOKBODY"),{ff:!0,lj:!0,id:"METABOOKBODY",Al:3,Lc:!0,ej:10,Wj:!1}),u.D.zd=na.D(Ea("METABOOKMENU"),{ff:!0,lj:!1,id:"METABOOKMENU",Al:3,Lc:!1,ej:10,Wj:!1}),k(u.jb,"hud"));if(b){var b=u.a.C[b],c=[],d=[],e;for(e in b)b.hasOwnProperty(e)&&(0<=e.indexOf(".")||0<=e.indexOf("#"))&&c.push(e);for(var c=c.sort(function(a,b){return b.length-a.length}),f=0,h=c.length;f<h;){e=c[f++];var l=Z.r(e,a),n=b[e];e=new Y(e);a&&e.match(a)&&Z.Fe(a,n);e=0;for(var m=l.length;e<
m;){var p=l[e++];0>d.indexOf(p)&&(d.push(p),Z.Fe(p,n))}}}2<X.n&&N("Done with handler setup")};var ab=!1,Ba=!1,bb=u.og,ub=/\b(((sbook)|(book)|(mbook)|(metabook)|(foot)|(end)|())note)\b/,pb=/\b((((sbook)|(book)|(meta))book)|(foot)|(end)|())(note|noteref)\b/,vb=/\b((sidebar)|(breakout)|(tangent))\b/,fa=/\b((iframe)|(popin))\b/,db=/\b(()|(s)|(m)|(meta))book((iframe)|(popin))\b/;u.Tx=w;var fb=!1;u.NA=function(){var a=va("METABOOKLIVEGLOSS","form");if(a){var b=cb(a,"NOTE");b&&u.dd(b);u.xa(a.className)}};
var sb=Z.$v;u.zo=function(a,b,c,d){var e=[],f=[];if("string"===typeof a)e=d&&d[a]||[a];else{(c=c.kB)?c instanceof Array||(c=[c]):c=[];for(var h=0,k=c.length;h<k;){var l=c[h++];if(l===a||ob.contains(l.Ob,a)){var n=l.o,m=l.ta;(n=d&&(d[n]||d[m]))?"string"===typeof n?e.push(n):e=e.concat(n):((n=l.Hh)&&("string"===typeof n?e.push(n):e=e.concat(n)),(l=l.Ts)&&("string"===typeof l?e.push(l):e=e.concat(l)))}}0===e.length&&(e=!1)}if(!e)return[];"string"===typeof e&&(e=[e]);a=0;for(d=e.length;a<d;)if(h=e[a++],
k=sb(h),l=u.ab(b),c=Z.Se(l,k),c&&c.length||(k=sb(h,!0),c=Z.Se(l,k)),X.vd&&N("Trying to highlight %s (using %o) in %o, ranges=%o",h,k,b,c),c&&c.length)for(h=0;h<c.length;)k=na.Pc(c[h++],"mbhighlightsearch"),f=f.concat(k);return f};u.a.C.onkeyup=E;var Ca={63:"searching",102:"searching",65:"openheart",97:"openheart",83:"searching",115:"searching",80:"gotopage",112:"gotopage",76:"gotoloc",108:"gotoloc",70:"searching",100:"device",68:"device",116:"statictoc",84:"statictoc",72:"help",103:"allglosses",71:"allglosses",
67:"console",99:"console"};u.a.C.onkeypress=P;u.a.Wz=function(a){a=a||window.event||null;var b=na.c(a),c=a.charCode||a.keyCode,d=!1;"GOTOLOC"!==b.name&&"GOTOPAGE"!==b.name&&13===c&&U(a);13===c&&("GOTOPAGE"===b.name?(a=parseInt(b.value,10),"number"===typeof a?(d=!0,u.rc(a)):hb(b.value)&&(d=!0)):"GOTOREF"===b.name?(a=u.j.Yf[b.value])?(u.rc(a),d=!0):hb(b.value)&&(d=!0):"GOTOLOC"===b.name&&(a=parseFloat(b.value),"number"===typeof a&&0<=a&&100>=a?(a=Math.floor(a/100*u.R)+1,u.Jh(a),d=!0):hb(b.value)&&(d=
!0)),d&&(b.value="",oa(!1)))};u.a.zA=O;u.a.Pe=function(a){var b=na.c(a);gb(b)?X.g&&N("Clickable: don't dropHUD %o",a):(X.g&&N("dropHUD %o",a),U(a),oa(!1))};var tb=!1,Fa=!1,lb=!1;u.a.Oa=function(a){a?(a=va(a,".glossmark"))?z(a,!0):z(!1,!1):z(!1,!1)};u.a.fz=function(a){a=a||window.event;U(a);u.ks();navigator.onLine?I.sd?na.Td(7,"Sychronizing glosses, etc with the remote server"):na.Td(15,"You're not currently logged into sBooks.  Information will be synchronized when you've logged in."):na.Td(15,"You're currently offline; information will be synchronized when you're back online");
return!1};var nb=!1;u.lw=function(a){a||(a=window.event||!1);a&&U(a);X.ee&&N("Forward e=%o h=%o t=%o",a,u.head,I.target);I.ma?C(a):I.mode&&pa[u.mode]?Ma.forward(pa[u.mode]):a&&a.shiftKey?C(a):M(a)};u.fw=function(a){a||(a=window.event||!1);a&&U(a);X.ee&&N("Backward e=%o h=%o t=%o",a,u.head,I.target);I.ma?V(a):I.mode&&pa[u.mode]?Ma.He(pa[u.mode]):a&&a.shiftKey?V():Q()};u.du=M;u.Ol=Q;u.Jj=C;u.Ij=V;u.dd=Da;u.gi=n;u.a.focus=za;u.a.blur=B;u.$D=Ha;u.lq=Oa;u.xy=Xa;u.ZC=eb;u.CB=function(a){a=a||window.event;
X.g&&N("lowerHUD %o",a);La(!1);U(a);return!1};var wb=!1;g.b.lb(u.a.C.Dc,{window:{tt:E,yd:D,Fo:P,focus:za,Dl:function(a){a=na.c(a);(a===window||a===document.documentElement)&&u.N&&I.na()},blur:B},"#METABOOKBODY":{dj:function(a){a=a||window.event;I.wf||(I.hp?(clearInterval(I.hp),u.hp=!1):I.nf&&(I.im(u.nf,a.shiftKey&&"addtag",a),u.nf=!1))}},content:{F:m,pm:t,wb:A,Fa:F,cj:b,dj:f,click:Ra},Tj:{F:x,wb:K,Fa:J,Gc:G,Vo:na.Oc.onmouseover,Dl:na.Oc.onmouseout,click:U},".mbtocslice":{Vo:na.Oc.onmouseover,Dl:na.Oc.onmouseout},
Ls:{dj:L,click:U,cj:U,Vo:function(a){a=a||window.event;a=na.c(a);var b=Ya(a);Z.L(b,"mbtarget")||z(a,!0)},Dl:function(a){a=a||window.event;a=na.c(a);var b=Ya(a);Z.L(b,"mbtarget")||z(a,!1)}},ql:{click:Wa,F:Wa},"#METABOOKSTARTPAGE":{click:u.a.Pe},"#METABOOKMENU":{F:eb},"#METABOOKSHOWCOVER":{F:ga,Fa:ta},"#METABOOKHUDHELP":{click:u.a.Pe},".hudtip":{click:u.a.Pe},".metabookheart":{F:function(a){gb(a)||oa(!1)}},"#METABOOKPAGEREFTEXT":{F:p},"#METABOOKPAGENOTEXT":{F:R},"#METABOOKLOCPCT":{F:S},"#METABOOKLOCOFF":{F:ea},
"#METABOOKSKIMMER":{F:ba,Pj:H},"#METABOOKPAGEHEAD":{click:aa},"#METABOOKTABS":{click:aa},"#METABOOKHEAD":{click:aa},"#METABOOKFOOT":{F:ca},".searchcloud":{F:u.a.C.xj,Fa:u.a.C.xj},"#METABOOKHELPBUTTON":{F:Oa,wb:function(a){Ha(!0);U(a)},Fa:function(a){Ha(!1);U(a)},Gc:function(a){Ha(!1);U(a)}},"#METABOOKHELP":{click:Oa,cj:U,dj:U},"#MBPAGERIGHT":{click:function(a){Aa(document.body,"mbSKIMMING")?C(a):M(a);U(a)}},"#MBPAGELEFT":{click:function(a){Aa(document.body,"mbSKIMMING")?V(a):Q(a);U(a)}},"#METABOOKSHOWTEXT":{click:ia},
"#METABOOKGLOSSDETAIL":{click:u.a.Pe},"#METABOOKNOTETEXT":{click:l},".hudmodebutton":{F:O,wb:O,Gc:O,Fa:O},".hudbutton[alt='save gloss']":{F:Ia,wb:Ia},".metabookclosehud":{click:ia},"#METABOOKSETTINGS":{click:g.a.sa.onclick},".metabooktogglehelp":{click:Oa},"#METABOOKCONSOLETEXTINPUT":{focus:function(){g.b.h("METABOOKCONSOLEINPUT","uptop")},blur:function(){g.b.l("METABOOKCONSOLEINPUT","uptop")}},"#METABOOKCONSOLEBUTTON":{click:rb},"#METABOOKREFRESHOFFLINE":{click:ib},"#METABOOKREFRESHLAYOUT":{click:mb},
"#METABOOKRESETSYNC":{click:$a},".clearoffline":{click:jb},".metabookclearmode":{click:ja},"#METABOOKGOTOREFHELP":{click:ja},"#METABOOKGOTOPAGEHELP":{click:ja},"#METABOOKGOTOLOCHELP":{click:ja},".metabookshowsearch":{click:function(a){u.fm();U(a)}},".metabookrefinesearch":{click:function(a){oa("refinesearch");U(a)}},".metabookexpandsearch":{click:function(a){oa("expandsearch");U(a)}},".metabookclearsearch":{click:function(a){a=a||window.event;u.a.C.Jn(a);U(a);return!1}},"#METABOOKSEARCHINFO":{click:u.zp},
"#METABOOKINFOPANEL":{click:Pa},".metabooksettings input[type='RADIO']":{Bg:I.ji},".metabooksettings input[type='CHECKBOX']":{Bg:I.ji}});g.b.lb(u.a.C.ca,{window:{tt:E,yd:D,Fo:P,se:W,focus:za,blur:B},content:{F:m,wb:A,pm:t,Fa:F,Pj:function(a){if(!I.wf){var b=a.deltaX,c=a.deltaY,d=Z.sb(),e=0>b?-b:b,f=0>c?-c:c;X.g&&N("swiped d=%o,%o, ad=%o,%o, s=%o,%o vw=%o, n=%o",b,c,e,f,a.rb,a.qf,d,a.ef);e>2*f?b<-(I.pb||10)?2<a.ef?window.history.forward():1<a.ef?I.ma?u.Jj(a):window.history.forward():I.mode&&!I.ma&&
pa[u.mode]?2===a.touches?Ma.Sk(pa[u.mode]):Ma.forward(pa[u.mode]):M(a,!0):b>(I.pb||10)&&(2<a.ef?window.history.back():1<a.ef?I.ma?u.Ij(a):window.history.back():I.mode&&!I.ma&&pa[u.mode]?2===a.touches?Ma.Oy(pa[u.mode]):Ma.He(pa[u.mode]):u.Ol(a,!0)):f>2*e&&(I.U?c<-(I.pb||10)?oa("allglosses"):c>(I.pb||10)&&oa("search"):f<=(I.pb||10)||(a.rb<d/5&&0>c?oa("help"):a.rb<d/5&&0<c?oa("statictoc"):a.rb>.8*d&&0<c?oa("search"):a.rb>.8*d&&0>c?oa("allglosses"):0<c&&u.ma?I.me():0<c?(u.wc(),u.qh()):La(!0)))}},ha:b,
Y:f,se:wa,click:Ra},ql:{F:Wa},Tj:{F:x,wb:K,Gc:G,Fa:J,xh:function(b){b=b||window.event;a(!1);I.N&&(X.g&&N("toc_touchtoo %o noabout",b),I.na("toc_touchtoo",!0),U(b))},se:W},body:{ha:Xa},Ls:{ha:L,Y:U},"#METABOOKSTARTPAGE":{Y:u.a.Pe},"#METABOOKMENU":{F:eb},"#METABOOKSHOWCOVER":{F:ga,Fa:ta},"#METABOOKSEARCHINFO":{click:u.zp},"#METABOOKPAGEREFTEXT":{F:p},"#METABOOKPAGENOTEXT":{F:R},"#METABOOKLOCPCT":{F:S},"#METABOOKLOCOFF":{F:ea},"#METABOOKSKIMMER":{F:ba,Pj:H},"#METABOOKPAGEHEAD":{ha:aa},"#METABOOKTABS":{ha:aa},
"#METABOOKHEAD":{Y:aa},"#METABOOKFOOT":{F:ca,ha:wa,se:wa},"#METABOOKGLOSSDETAIL":{Y:u.a.Pe,click:U},".searchcloud":{F:u.a.C.xj,Fa:u.a.C.xj},"#MBPAGERIGHT":{ha:function(a){Aa(document.body,"mbSKIMMING")?C(a):M(a);U(a)}},"#MBPAGELEFT":{ha:function(a){Aa(document.body,"mbSKIMMING")?V(a):Q(a);U(a)}},"#METABOOKHELP":{F:Oa,Pj:U},"#METABOOKHELPBUTTON":{F:Oa,wb:function(a){Ha(!0);U(a)},Fa:function(a){Ha(!1);U(a)},Gc:function(a){Ha(!1);U(a)}},"#METABOOKNOTETEXT":{Y:l,click:U},"#METABOOKSHOWTEXT":{ha:ia,se:U,
Y:U},".hudmodebutton":{F:O,wb:O,Fa:O,Gc:O},".hudbutton[alt='save gloss']":{F:Ia,wb:Ia},".metabookclosehud":{click:ia,se:U,Y:U},"#METABOOKSETTINGS":{Y:g.a.sa.onclick},".metabooktogglehelp":{ha:U,Y:Oa},"#METABOOKCONSOLETEXTINPUT":{ha:function(){Ea("METABOOKCONSOLETEXTINPUT").focus()},focus:function(){g.b.h("METABOOKCONSOLEINPUT","ontop")},blur:function(){g.b.l("METABOOKCONSOLEINPUT","ontop")}},"#METABOOKCONSOLEBUTTON":{ha:U,Y:rb},"#METABOOKREFRESHOFFLINE":{ha:ib,Y:U},"#METABOOKREFRESHLAYOUT":{ha:mb,
Y:U},"#METABOOKRESETSYNC":{Y:U,ha:$a},".clearoffline":{ha:U,Y:jb},".metabookclearmode":{ha:U,Y:ja},"#METABOOKGOTOREFHELP":{ha:U,Y:ja},"#METABOOKGOTOPAGEHELP":{ha:U,Y:ja},"#METABOOKGOTOLOCHELP":{ha:U,Y:ja},".metabookshowsearch":{ha:U,Y:function(a){u.fm();U(a)}},".metabookrefinesearch":{ha:U,Y:function(a){oa("refinesearch");U(a)}},".metabookexpandsearch":{ha:U,Y:function(a){oa("expandsearch");U(a)}},".metabookclearsearch":{ha:U,Y:function(a){a=a||window.event;u.a.C.Jn(a);U(a);return!1}},summary:{se:W},
"#METABOOKINFOPANEL":{ha:Pa},".metabooksettings input[type='RADIO']":{Bg:I.ji},".metabooksettings input[type='CHECKBOX']":{Bg:I.ji}});var xb={window:{}};xb.window[Z.ue]=function(){document[Z.ec]&&u.N&&I.na()};g.b.lb(u.a.C.ca,xb);g.b.lb(u.a.C.Dc,xb)})();(function(){function a(a){var b=t("METABOOKPAGEBAR"),c=b.offsetWidth,e=f.Wb,k=a.clientX||a.touches&&a.touches.length&&a.touches[0].clientX,m=b.offsetLeft,q=k-m,r=q/c*e;(1<d.g||h(b,"metabooktrace"))&&l("pagebar_GoPage %o: %o-%o=%o/%o=%o => %o/%o",a,k,m,q,c,q/c,r,e);return Math.round(r+1)}function q(b,c){b=b||window.event;c||(c=A.c(b));if("mousemove"!==b.type||b.buttons){var e=t("METABOOKPAGEBAR");r(!1);if(!f.U&&!f.mode||f.Ci){3===c.nodeType&&(c=c.parentNode);var k=a(b);(d.g||h(e,"metabooktrace"))&&
l("pagebar_hold %o t=%o gopage: %o=>%o/%o, start=%o",b,c,x,k,f.Wb,K);K||(K=k);x!==k&&k&&(e.title=x?y("Release to go to this page (%d), move away to return to page %d",k,f.Ua):y(f.ca?"Release to return to page %d, tap the content or margin to settle here (page %d)":"Release to return to page %d, tap a key to settle here (page %d)",u.Ua,k),x=k,u.Mj("CODEXPAGE"+x,"pagebar_hold/timeout"))}else A.cancel(b),u.q(!1)}}function k(b,c){b=b||window.event;c||A.c(b);var e=t("METABOOKPAGEBAR");(d.g||h(e,"metabooktrace"))&&
l("pagebar_tap %o",b);r(!1);f.N&&!x?u.na("pagebar_tap",!0):f.U||f.mode||f.Pb?(d.g&&l("clearHUD %s %s %s",f.mode,f.U?"hudup":"",f.Pb?"hudup":""),A.cancel(b),u.q(!1)):(e=a(b),x!==e&&(u.rc(e,"pagebar_tap",!0),u.q(!1)))}function m(a,b){a=a||window.event;b||(b=A.c(a));var e=t("METABOOKPAGEBAR");(d.g||h(e,"metabooktrace"))&&l("pagebar_release %o, previewing=%o, ptarget=%o start=%o",a,f.N,f.he,K);r(!1);3===b.nodeType&&(b=b.parentNode);f.N?(w(b,"preview"),u.na("pagebar_release",!0),x=K=!1,A.cancel(a),c(b,
e)):K=!1}function e(a,e){a=a||window.event;e||(e=A.c(a));var k=a.relatedTarget,m=t("METABOOKPAGEBAR");r(!1);(d.g||h(m,"metabooktrace"))&&l("pagebar_slip %o, pre=%o, target=%o start=%o, rel=%o",a,f.N,f.he,K,k);f.N&&!b(k,F.hu)&&(k&&c(k,f.body)?r(function(){t("METABOOKPAGEBAR").title="";u.Ab(k,a)}):r(function(){t("METABOOKPAGEBAR").title="";w(e,"preview");u.Xp("pagebar_slip/timeout")}),x=!1)}var v=g.b,l=g.t,A=g.a,t=g.I,y=g.String,w=v.l,h=v.L,c=v.cb,b=v.getParent,f=u,F=u.b,r=f.lp,v=A.cancel,d=u.da,x=
!1,K=!1;g.b.lb(u.a.C.Dc,{"#METABOOKPAGEBAR":{F:k,wb:q,UB:q,Fa:m,Gc:e,click:v}});g.b.lb(u.a.C.ca,{"#METABOOKPAGEBAR":{F:k,wb:q,se:q,Fa:m,Gc:e,xh:function(a,b){a=a||window.event;b||A.c(a);if(f.N)return u.na("touchtoo"),A.D.clear(),u.Jb(!1),g.a.cancel(a),!1},click:v}})})();(function(){function a(a){f(document.body,"mbZOOM");u.wf=!1;a&&g.a.cancel(a)}function q(a,b,c){var e=r("METABOOKZOOM"),f=r("METABOOKZOOMBOX"),h=e.scrollLeft/e.scrollWidth,k=e.scrollTop/e.scrollHeight;"number"===typeof b?(F.Nd=b||0,F.ve=c||0):"number"===typeof F.Nd&&(b=F.Nd,c=F.ve);if(d.zoom||d.g)"number"===typeof b?y("setZoom(%o) @%o,%o %o",a,b,c,f):y("setZoom(%o) @%o,%o %o",a,h,k,f);a?(u.Fh=a,f.style[g.b.transform]="number"===typeof b?"transform("+b+"px,"+c+"px) scale("+a+")":"scale("+a+")",d.zoom&&
y("%s=%s %o",g.b.transform,f.style[g.b.transform],f)):(F.Nd=F.ve=!1,F.Fh=1,f.style[g.b.transform]="",a=.9*e.clientWidth/e.scrollWidth,c=.9*e.clientHeight/e.scrollHeight,a<c?q(a):q(c));"number"!==typeof b&&(F.Nd=F.ve=!1,e.scrollLeft=h*e.scrollWidth,e.scrollTop=k*e.scrollHeight)}function k(a){a?q((u.Fh||1)*a):q(!1)}function m(a){a=a||window.event;k(1.1);g.a.cancel(a)}function e(a){a=a||window.event;k(1/1.1);g.a.cancel(a)}function v(a){a=a||window.event;k(!1);g.a.cancel(a)}function l(a){a=a||window.event;
var b=r("METABOOKMEDIATARGET");L?(clearTimeout(L),L=!1,f(document.body,"mbMEDIA")):a.shiftKey?(clearTimeout(L),L=!1,f(document.body,"mbMEDIA")):b&&b.pause&&!b.paused?L=setTimeout(function(){b.pause();L=!1;f(document.body,"mbMEDIA")},1500):f(document.body,"mbMEDIA");g.a.cancel(a)}function A(a){a=a||window.event;a=h(a);var b=r("METABOOKMEDIATARGET");a===b&&t.ot(a)&&(f(document.body,"mbMEDIA"),F.jm(b))}var t=g.b,y=g.t,w=t.cancel,h=t.c,c=t.cb,b=t.h,f=t.l,F=u,r=g.I,d=F.da;u.jm=function(c){var e=r("METABOOKZOOMTARGET"),
f;(d.zoom||d.mode)&&y("startZoom %o",c);if(c){u.dw===c&&(u.wf=c,b(document.body,"mbZOOM"));u.dw=c;if(u.j){var h=u.j,k=c.getAttribute("data-baseid")||c.id;h.Xf&&h.Xf[k]?f=h.Xf[k].cloneNode(!0):h.sh[k]&&(f=h.sh[k].cloneNode(!0))}f||(f=c.cloneNode(!0));t.th(f,!1,"data-baseid");f.setAttribute("style","");f.id="METABOOKZOOMTARGET";g.b.replace(e,f);b(document.body,"mbZOOM");f=r("METABOOKZOOM");c=r("METABOOKZOOM");e=.9*f.clientWidth/f.scrollWidth;f=.9*f.clientHeight/f.scrollHeight;F.Fh=1;c.style[g.b.transform]=
"";e<f?q(e):q(f)}else a()};u.pv=a;u.zoom=k;var x,K,J,G,D,E,P,O;g.b.lb(u.a.C.Dc,{"#METABOOKZOOMCLOSE":{click:a},"#METABOOKZOOMHELP":{click:u.lq},"#METABOOKZOOMIN":{click:m},"#METABOOKZOOMOUT":{click:e},"#METABOOKUNZOOM":{click:v}});g.b.lb(u.a.C.ca,{"#METABOOKZOOM":{ha:function(a){if(a&&a.touches&&1<=a.touches.length){var b=r("METABOOKZOOMCONTROLS"),e=h(a);if(!c(e,b)){var f=a.touches,e=f[0],b=e.clientX,e=e.clientY;if(2===a.touches.length){var k=f[1],f=k.clientX,k=k.clientY,l=f-b,m=k-e,l=Math.sqrt(l*
l+m*m);J=(b+f)/2;G=(e+k)/2;(d.zoom||d.g)&&y("zoom_touchstart(2) %o: d=%o@[%o,%o] [%o,%o]-[%o,%o]",a,l,J,G,b,e,f,k);K=x=l;D=E=P=O=!1;w(a)}else 1===a.touches.length&&(D=b,E=e,(d.zoom||d.g)&&y("zoom_touchstart(1) %o: [%o,%o]",a,b,e),w(a))}}},se:function(a){if(a&&a.touches&&1<=a.touches.length){var b=r("METABOOKZOOMBOX"),c=b.style,e=F.Fh||1,f=t.transform,h=a.touches,k=h[0],l=k.clientX,k=k.clientY,m=F.Nd||0,p=F.ve||0;if(2===a.touches.length&&"number"===typeof K){var q=h[1],h=q.clientX,q=q.clientY,v=(l+
h)/2,A=(k+q)/2,L=h-l,ia=q-k,L=Math.sqrt(L*L+ia*ia),ia=L/x*e,m=m+(v*e-v*ia),p=p+(A*e-A*ia);(d.zoom||1<d.g)&&y("zoom_touchmove(2) %o: d=%o->%o@[%o,%o] [%o,%o] [%o,%o]",a,K,L,v,A,l,k,h,q);c[f]="translate3d("+m+"px,"+p+"px) scale("+ia+",0)";d.zoom&&y("%s %o: %s",f,b,c[f]);J=v;G=A;K=L;w(a)}else 1===a.touches.length&&"number"===typeof D&&(P=l-D,O=k-E,m+=P,p+=O,(d.zoom||1<d.g)&&y("zoom_touchmove(1) %o: [%o,%o]=[%o,%o]+([%o,%o]=[%o,%o]-[%o,%o])",a,m,p,F.Nd,F.ve,P,O,l,k,D,E),c[f]="translate3d("+m+"px,"+p+
"px) scale("+e+",0)",d.zoom&&y("%s %o: %s",f,b,c[f]),w(a))}},Y:function(a){var b=F.Fh||1,c=F.Nd||0,e=F.ve||0;if(K&&x){var f=K/x,c=c+(J*b-J*f*b),e=e+(G*b-G*f*b);(d.zoom||d.g)&&y("zoom_touchend(2) %o: %o=%o/%o@[%o,%o] zx=%o zy=%o",a,f,K,x,J,G,c,e);q(f*b,c,e);K=x=!1}else"number"===typeof D&&(b=F.Nd||0,c=F.ve||0,(d.zoom||d.g)&&y("zoom_touchend(2) %o: [%o,%o]=[%o,%o] start [%o,%o]",a,b+P,c+O,P,O,D,E),F.Nd=b+P,F.ve=c+O,P=O=D=E=!1)}},"#METABOOKZOOMCLOSE":{click:u.pv},"#METABOOKZOOMHELP":{click:u.lq},"#METABOOKZOOMIN":{Y:m},
"#METABOOKZOOMOUT":{Y:e},"#METABOOKUNZOOM":{Y:v}});u.Gj=function(a,c){function d(){h?e.parentNode&&g.b.replace(e,h):r("METABOOKMEDIA").appendChild(e);b(document.body,"mbMEDIA")}var e=r("METABOOKMEDIATARGET"),h=!1,k=!1;u.Pp===a?b(document.body,"mbMEDIA"):(0===c.search("image")?k=h=t("IMG"):0===c.search("audio")?(k=t("SOURCE"),h=t("AUDIO",k),h.setAttribute("CONTROLS","CONTROLS"),h.setAttribute("AUTOPLAY","AUTOPLAY"),k.type=c):0===c.search("video")?(k=t("SOURCE"),k.type=c,h=t("VIDEO",k),h.setAttribute("CONTROLS",
"CONTROLS"),h.setAttribute("AUTOPLAY","AUTOPLAY")):0===a.search("https://www.youtube.com/embed/")?(a="https://www.youtube-nocookie.com/"+a.slice(24),a=0<a.indexOf("?")?a+"&rel=0":a+"?rel=0"):k=h=t("IFRAME"),h.id="METABOOKMEDIATARGET",u.Pp=a,k&&F.Yc[a]?(k.src=F.Yc[a],d()):k?(b(r("METABOOKMEDIA"),"loadingcontent"),b(k,"loadingcontent"),u.ts(a).then(function(a){f(r("METABOOKMEDIA"),"loadingcontent");f(k,"loadingcontent");k.src=a;d()}).catch(function(b){g.t("Couldn't fetch glossdata from %s: %o",a,b);
u.Pp=a;f(r("METABOOKMEDIA"),"loadingcontent");f(k,"loadingcontent")})):d())};u.nA=function(){f(document.body,"mbMEDIA")};var L=!1;g.b.lb(u.a.C.Dc,{"#METABOOKCLOSEMEDIA":{cj:l},"#METABOOKMEDIA":{click:A}});g.b.lb(u.a.C.ca,{"#METABOOKCLOSEMEDIA":{Y:l},"#METABOOKMEDIA":{Y:A}})})();u.jd=function(){function a(a,b){var c=E("METABOOKLAYOUTMESSAGE");g.a.zf.Bj(c,a);"number"===typeof b&&g.a.zf.Cj(c,b)}function q(b){var c=b.Md,e=b.Kc,f=b.gf;if(f){var h=J(),e=p((h-e)/1E3),h=E("METABOOKLAYOUTINDICATOR");if(b.Hb)h&&(h.style.width="100%"),D.replace("METABOOKPAGENOTEXT",D("div.metabookpageno#METABOOKPAGENOTEXT",u.Ua||"?","/",f)),a(d("Finished laying out %d %dx%d pages in %s",f,b.width,b.height,p((b.Hb-b.Kc)/1E3)),100),G("Finished laying out %d %dx%d pages in %s",f,b.width,b.height,p((b.Hb-
b.Kc)/1E3));else if(b.Vi&&u.p&&u.p[b.Vi]){var k=u.p,k=100*k[b.Vi].H/k.qk,l=Math.floor(k);h&&(h.style.width=l+"%");D.replace("METABOOKPAGENOTEXT",D("div.metabookpageno#METABOOKPAGENOTEXT",u.Ua||"?","/",f," (",l,"%)"));u.Ig?a(d("Formatted %d %dx%d pages (%d%%)",f,b.width,b.height,l),k):a(d("Formatting for your device (%d%%)",l),k);c&&G("Formatted %d %dx%d pages (%d%%) in %s",f,b.width,b.height,l,e)}else a(d("Formatted %d %dx%d pages in %s",b.gf,b.width,b.height,e)),c&&G("Formatted %d pages in %s",b.gf,
e)}}function k(b,c){function e(a){var b=a.Kc;E("CODEXPAGE").style.visibility="";E("CODEXCONTENT").style.visibility="";C(document.body,"mbLAYOUT");u.j=a;u.Wb=a.qb.length;G("Restored %d-page layout %s in %ds, adding glosses",a.qb.length,I,(J()-b)/1E3);a=a.Xf.Oh;for(var b=0,c=a.length;b<c;){var d=u.a.uk,f=a[b++];if((f=u.w.find("frag",f))&&f.length)for(var h=0,k=f.length;h<k;){var l=u.w.qa(f[h++]);if(l){var n=u.ab(l.s);Q(n,"glossed");for(var m=0,p=n.length;m<p;)d(n[m++],l)}}}r.n&&G("Finished adding glossmarks to saved layout");
w();u.Ug&&(a=u.Ug,u.Ug=!1,a());u.state&&u.ih(u.state,"layoutRestored");return u.j.xp=!1}function h(a){var b="mB("+u.nc+").layouts",c=ea(b,!0);if(c){var d=c.indexOf(a);0<=d&&c.splice(d,1);c.push(a);if(3<c.length){for(a=c.length-3-1;0<=a;)G("Dropping layout #%d %s",a,c[a]),O.si(c[a--]);c=c.slice(c.length-3)}S(b,c,!0)}else S(b,[a],!0)}function k(a,b){var c=b.qb,d=ca(a.getAttribute("data-pagenum"),10),e=F.p,f=l(a),c=d&&1<d&&c[d-2];f&&a.setAttribute("data-lastid",f);!a.getAttribute("data-sbookloc")&&c&&
((e=(f=c.getAttribute("data-lastid"))&&e[f])?a.setAttribute("data-sbookloc",e.R):(e=c.getAttribute("data-sbookloc"))?a.setAttribute("data-sbookloc",e):a.setAttribute("data-sbookloc","0"))}function l(a,b){!M(a,"codexpage")&&a.id&&!a.fa&&u.p[a.id]&&(b=a.id);if(1!==a.nodeType)return b;var c=a.childNodes;if(c)for(var d=0,e=c.length;d<e;){var f=c[d++];1===f.nodeType&&(b=l(f,b))}return b}function m(){function c(){if(p>=r){P.Eq();q(P);for(var a=P.qb,b=0,d=a.length;b<d;)k(a[b++],P);if(a=u.Gn)b=P.Hb-P.Kc,
("number"===typeof a?b>a:5E3<b)&&P.Gu(function(a){h(a.bd)});E("CODEXPAGE").style.visibility="";E("CODEXCONTENT").style.visibility="";C(document.body,"mbLAYOUT");u.j=P;u.Wb=P.qb.length;w();u.Ug&&(a=u.Ug,u.Ug=!1,a());u.state&&u.ih(u.state,"layoutDone");u.j.xp=!1;aa&&setTimeout(f,100);return!1}a=n[p++];return 3===a.nodeType&&!R(a.nodeValue)||1===a.nodeType&&"LINK"!==a.tagName&&"META"!==a.tagName&&"SCRIPT"!==a.tagName&&"BASE"!==a.tagName?(P.dn(a,W,ba,P.Md,q,aa&&c),aa?c:!0):aa?c():!0}C(document.body,"_SCROLL");
Q(document.body,"_BYPAGE");var e=u.content.style.width;u.content.style.width=L(u.page).width+"px";var l=u.content,n=V(l.childNodes);G("Laying out %d root nodes into %dx%d pages (%s), id=%s, async=%s",n.length,P.width,P.height,b||"",I,W?d("%d(%d)",W,ba):"no");a("Starting new layout",0);g.b.Ef(l);u.content.style.width=e;var p=0,r=n.length;if(aa)c();else for(e=!0;e;)e=c()}if(!u.j||u.j.Hb){b||(b="because");r.j&&G("Starting pagination (%s) with %j",b,c);a("Preparing your book",0);C(document.body,"_SCROLL");
Q(document.body,"mbLAYOUT");A(!1);r.j&&G("Unscaled layout");var p=c&&c.ho,t=L(E("CODEXPAGE"),!1,!0),x=t.ad,y=t.width,z=u.Sj,D=u.Ck,t=u.Ie||"normal",H=u.ui?"opendyslexic":u.If||"default";!u.j&&r.n&&G("Page layout requires %dx%d %s pages",y,x,t);if(u.j){var K=u.j;if(!(p||y!==K.width||x!==K.height||t!==K.Ie||H!==K.If||D&&D!==K.Ck)&&(z&&K.pt||!z&&!K.pt)){C(document.body,"mbLAYOUT");G("Skipping redundant pagination for %s",K.bd);return}r.j&&G("Reverting current layout");u.j.Kh();u.j=!1}r.j&&G("Sizing the content");
u.bg();x=v();c&&c.hasOwnProperty("timeslice")&&(x.yb=c.yb);r.j&&G("Starting content layout");var P=new O(x);P.Ie=t;P.If=H;u.j=P;var W=P.hasOwnProperty("timeslice")?P.yb:O.yb,ba="number"===typeof W&&(P.hasOwnProperty("timeskip")?P.re:O.re),aa="number"===typeof W,I=P.bd;if(!u.Gn||u.io||p)if(aa)setTimeout(m,10);else return m();else r.j&&G("Fetching layout %s",I),O.as(I).then(function(b){if(!b)return m();r.j&&G("Got layout %s",I);h(I);try{G("Using saved layout %s",I),E("CODEXCONTENT").style.display="none",
a("Using cached layout",0),C(document.body,"_SCROLL"),Q(document.body,"_BYPAGE"),P.Kc=J(),P.Bu(b).then(e)}catch(c){return G("Layout restore error: %o",c),m()}}).catch(function(){return m()})}}function m(a,b){!0===b?D.h(u.body,"metabook"+a):b?D.pc(u.body,new RegExp("metabook"+a+"\\w*"),"metabook"+a+b):D.l(u.body,new RegExp("metabook"+a+"\\w*"));u[a]=b;u.kc&&u.content?(0>u.kc.indexOf(u.bg)&&(u.kv=!1),u.kc.push(u.bg)):u.content&&u.bg();u.j&&(u.kc?u.kc.push(function(){u.jd(a)}):u.jd(a));g.va(function(){u.fd(a,
b)})}function e(a,b,c,e,f,h,k){var l=E("CODEXPAGE"),m=l.style.left,p=l.style.right,q=u.xc,r=u.nc,t=g.Mb.lv;l.style.left="";l.style.right="";a||(a=L(l,!1,!0).width);b||(b=L(E("CODEXPAGE"),!1,!0).ad);e||(e=u.Ie||"normal");k||u.nc||K.Qg(u.ya);h||(h=u.Sj);f||(f=u.Jo);l.style.left=m;l.style.right=p;return d("%s%dx%d-%s-%s%s%s%s%s",q?q+":":"",a,b,c,e,h?"-j":"",f?"-l"+f:"",r?"#"+r:"",t?"/"+t:"")}function v(){function a(b){var c=!1;M(b,"codexpage")||(b.id&&t[b.id]||b.fa&&t[b.fa])&&H(b,!0)&&(c=b);if(b=b.childNodes)for(var d=
0,e=b.length;d<e;){var f=b[d++];if(1===f.nodeType&&(f=a(f)))return f}return c}function b(a,c){var d;if(1!==a.nodeType)return!1;if(a.fa===c)return a;if(d=a.childNodes)if(d.length)for(var e=0,f=d.length;e<f;){var h=b(d[e++],c);if(h)return h}else return!1;else return!1}function c(a,d,e){for(var f=d.id,h=0,k=d,l=d;k&&!M(k,"codexpage");)k=k.parentNode;if(k)d=parseInt(k.getAttribute("data-pagenum"),10);else return h;for(;l&&l!==e;)if((k=ba(l))&&(h+=k),k=a[d++])l=b(k,f);else break;return h}var e=L(E("CODEXPAGE"),
!1,!0).width,f=L(E("CODEXPAGE"),!1,!0).ad,h=D("div#CODEXCONTENT"),k=D("div.metabookpages#METABOOKPAGES"),l=u.xc,m=u.nc,p=u.Jo,q=g.Mb.lv,l=d("%s%dx%d-%s-%s%s%s%s%s",l?l+":":"",e,f,u.ui?"opendyslexic":u.If||"default",u.Ie||"normal",u.Sj?"-j":"",p?"-l"+p:"",m?"#"+m:"",q?"/"+q:""),t=u.p,v=!1,w=D.la,y=d.tv,z=x.Da("mB("+F.B+").sourceid");if(z&&m&&m!==m){p=x.Da("fdjtmetaBook.layouts",!0);q=[];if(p)for(var z=new RegExp("\\("+z+"\\)$"),A=0,C=p.length;A<C;){var J=p[A++];0<J.search(z)?O.si(J):q.push(J)}q.length?
x.lc("fdjtmetaBook.layouts",q):x.Ib("fdjtmetaBook.layouts",q)}m&&x.lc("mB("+F.B+").sourceid",m);e={eu:f,gu:e,orientation:D.Es(),Z:k,origin:h,hf:u.CSS.hf,Md:r.j,bd:l,ju:function(b,d){var e=d.qb,f=d.gf,h=a(b),k=h.fa||h.id,l=f&&1<f&&e[f-2],n=w(b,".staticpageref"),m=!1;n?((l=n.getAttribute("data-pageref"))||(l=y(n.innerHTML)),l&&(d.Yf||(d.Yf={}),b.setAttribute("data-staticpageref",l),d.Yf[l]||(d.yl=l),d.Yf[l]=b)):l&&(n=l.getAttribute("data-staticpageref"))&&b.setAttribute("data-staticpageref",n);h&&(m=
P(k),e=m===h?0:c(e,m,h),m=t[k].H+e,k&&b.setAttribute("data-topid",k),b.setAttribute("data-sbookloc",m));"number"===typeof m&&f&&!u.Ua&&u.state&&v!==u.state&&u.state.hasOwnProperty("location")&&m>=u.state.location&&(v=u.state,setTimeout(function(){u.rc(f,"layout",!1)},10))},Yi:G};D.replace("METABOOKPAGES",k);u.qb=k;(k=aa("alwaysbreakbefore",!0,!0).concat(aa("forcebreakbefore",!0,!0)))&&k.length&&(e.Ai=D.Ed(k));(k=aa("alwaysbreakafter",!0,!0).concat(aa("forcebreakafter",!0,!0)))&&k.length&&(e.zi=D.Ed(k));
(k=aa("avoidbreakbefore",!0,!0).concat(aa("dontbreakbefore",!0,!0)))&&k.length&&(e.xg=D.Ed(k));(k=aa("avoidbreakafter",!0,!0).concat(aa("dontbreakafter",!0,!0)))&&k.length&&(e.Hf=D.Ed(k));(k=aa("avoidbreakinside",!0,!0).concat(aa("dontbreakinside",!0,!0)))&&k.length&&(e.pd=k);k=[".sbookfullpage",".sbooktitlepage",".sbookpage"].concat(aa("codexfullpage",!0));e.ko=D.Ed(k);(k=[".codexfloatpage"].concat(aa("codexfloatpage",!0)))&&k.length&&(e.eo=D.Ed(k));(k=[".codexfloating",".codexfloat"].concat(aa("codexfloat",
!0)).concat(aa("codexfloating",!0)))&&k.length&&(e.Mg=D.Ed(k));aa("metaBook.dontbreakblocks")||aa("metaBook.keepblocks")||aa("~=metaBook.dontbreakblocks")||aa("~=metaBook.keepblocks")||aa("~dontbreakblocks")||aa("~keepblocks")?e.di=!1:e.di=!0;aa("metaBook.dontscalepages")||aa("~=metaBook.dontscalepages")||aa("dontscalepages")?e.wj=!1:e.wj=!0;e.Pk=g.b.Ra(".glossmark");return e}function l(){var a=u.page,b=L(a),c=b.height,d=D.zb(),b=b.width,b=D.sb()-b;50!==b?(a.style.left=b/2+"px",a.style.right=b/2+
"px"):a.style.left=a.style.right="";u.Ci=80>d-c?!0:!1;u.Te=80>b?!0:!1;u.Te?Q(document.body,"_FULLWIDTH"):C(document.body,"_FULLWIDTH");u.Ci?Q(document.body,"_FULLHEIGHT"):C(document.body,"_FULLHEIGHT")}function A(a){var b=u.CSS.Au;"undefined"===typeof a&&(a=!0);if(!a||!M(document.body,"_SCALEDLAYOUT"))if(a||M(document.body,"_SCALEDLAYOUT"))if(b&&(b.style[D.transform]="",b.style[D.transformOrigin]="",b.style.left="",b.style.top=""),a){l();var c=u.j,d=L(E("CODEXPAGE"),!1,!0);a=d.width;var d=d.ad,e=
c.width,c=c.height,f=d/c,h=a/e,f=f<h?f:h;b||(u.CSS.Au=b=D.De("#CODEXPAGE div.codexpage, body._ANIMATE.mbPREVIEW #CODEXPAGE div.codexpage",""));b.style[D.transformOrigin]="left top";b.style[D.transform]="scale("+f+","+f+") translateZ(0)";e*=f;e<a&&(b.style.left=(a-e)/2+"px");c*f<d&&(b.style.top="0px");b=u.Wb;b=E("METABOOKPAGEBAR").offsetWidth/b;1>b&&(b=1);u.CSS.Zg?u.CSS.Zg.style.width=b+"px":u.CSS.Zg=D.De("div.metabookpagespans > span","width: "+b+"px;");Q(document.body,"_SCALEDLAYOUT")}else C(document.body,
"_SCALEDLAYOUT"),l()}function t(a,b,c,e){var f=!e;e||(e="METABOOKCURPAGESPAN");var h=u.Wb,k=u.j.yl,l=E(e);if("number"===typeof c){var m=u.R;e=100*c/m;var p=Math.round(Math.log(m/40)/Math.log(10))-2;0>p&&(p=0);e=D("span.metabookloc#METABOOKLOCPCT",(0===p?Math.floor(e):d.ip(e,p))+"%");e.title=c+"/"+m}else e=D("span.metabookloc#METABOOKLOCPCT");l&&(l.innerHTML=a,l.style.left=100*(a-1)/h+"%");c=D("span#METABOOKPAGENOTEXT.metabookpageno",a,"/",h);c.title="select to change page number";D.replace("METABOOKPAGENOTEXT",
c);if(b=b&&k&&D("span#METABOOKPAGEREFTEXT.metabookpageno",b+"("+k+")"))b.title="Reference page number (from some print version)",D.replace("METABOOKPAGEREFTEXT",b);D.replace("METABOOKLOCPCT",e);e.title=(e.title||"")+(e.title?"; ":"")+" select to change %";f&&(k=E("METABOOKPAGEPROGRESS"))&&(k.style.width=100*(a-1)/h+"%");if(f&&(a=(a=(a=E("CODEXPAGE"+a))&&a.getAttribute("data-topid"))&&u.p[a])){l=(f=(a=a.fc?a:a.head)&&a.head)&&f.head;a=y(a);f=y(f);for(k=y(l);k&&f&&1>=a.width;){m=l.head&&y(l.head);if(!m)break;
l=l.head;a=f;f=k;k=m}l=E("METABOOKSECTMARKER1");m=E("METABOOKSECTMARKER2");p=E("METABOOKSECTMARKER3");a&&a.width?(l.style.left=(a.start-1)/h*100+"%",l.style.width=a.width/h*100+"%",l.style.display="block"):l.style.display="none";f&&f.width?(m.style.left=(f.start-1)/h*100+"%",m.style.width=f.width/h*100+"%",m.style.display="block"):m.style.display="none";k&&k.width?(p.style.left=(k.start-1)/h*100+"%",p.style.width=k.width/h*100+"%",p.style.display="block"):p.style.display="none"}h=u.a.C[u.te];D.Fe(e,
h["#METABOOKLOCPCT"]);D.Fe(c,h["#METABOOKPAGENOTEXT"]);b&&D.Fe(b,h["#METABOOKPAGEREFTEXT"])}function y(a){for(var b=a,d,e={};b;)if(b.next){d=b.next;break}else b=b.head;if(a=c(a.s,a.H))e.start=parseInt(a.getAttribute("data-pagenum"),10);else return!1;d&&(d=c(d.s,d.H))&&(e.end=parseInt(d.getAttribute("data-pagenum"),10));e.end||(e.end=u.j.qb.length+1);e.width=e.end-e.start;return e}function w(){var a=u.j,b=a.qb,c=0,d=b.length,e=E("METABOOKGOTOPAGEMAX");e&&(e.innerHTML=""+d);e=E("METABOOKPAGEBAR").offsetWidth/
d;1>e&&(e=1);for(u.CSS.Zg?u.CSS.Zg.style.width=e+"px":u.CSS.Zg=D.De("div.metabookpagespan","width: "+e+"px;");c<d;){var e=b[c],f=e.getAttribute("data-staticpageref");if(f){var h=a.Yf,k=E("METABOOKGOTOPAGEREFMAX");k&&(k.innerHTML=""+f);h||(a.Yf=h={});a.yl=f;h[f]=e}c++}a.yl?Q(document.body,"mbPAGEREFS"):C(document.body,"mbPAGEREFS")}function h(a){if(a){if("string"===typeof a){if(u.j&&u.j.Jg){var b=u.j.Jg[a];return b?[P(a)].concat(b):[P(a)]}return[P(a)]}return h(a.fa||a.id)}return!1}function c(a,b){var c=
a&&(a.nodeType?a:"string"===typeof a?P(a):!1),c=c&&z(c,".codexpage");if(!b||!c)return c;var d=parseInt(c.getAttribute("data-sbookloc"),10);if(d===b)return c;var e=u.j.qb,f=e.length,h=c?parseInt(c.getAttribute("data-pagenum"),10):1;h--;for(var k=c;h<f;){var l=e[h++],d=parseInt(l.getAttribute("data-sbookloc"),10);if("number"!==typeof d)return k;if(d===b)return l;if(d>b)return k;k=l}return c}function b(a,b,c){var d={ho:!0};b&&(d.yb=b);c&&(d.re=c);u.jd(a||"refreshLayout",d)}function f(){if(!u.j.xp){var a=
L(E("CODEXPAGE"),!1,!0),c=a.width;u.j.height===a.ad&&u.j.width===c||b("checkLayout")}}var F=u,r=F.da,d=g.String,x=g.$a,K=g.ng,J=g.Aa,G=g.t,D=g.b,E=g.I,P=u.I,O=g.Mb,L=D.mb,z=D.getParent,W=D.J,M=D.L,Q=D.h,C=D.l,V=D.Jd,ba=D.Av,H=D.ol,R=d.Ja,p=J.Qu,ea=x.Da,S=x.lc,aa=D.dc,ca=parseInt;u.jd=k;O.prototype.onresize=function(){u.Tc?u.jd("resize"):g.b.Ef(u.content)};u.ka("layout",function(a,b){u.fu=b;"bypage"===b?u.p?u.Tc||(u.Tc=!0,u.kc?u.kc.push(k):u.jd("config")):u.Tc=!0:(u.j?(u.j.Kh(),u.j=!1):u.j&&!u.j.Hb&&
(u.j.za&&(clearTimeout(u.j.za),u.j.za=!1),u.j.Kh(),u.j=!1),u.Tc=!1,u.j&&(u.j.Kh(),u.j=!1),C(document.body,"_BYPAGE"),Q(document.body,"_SCROLL"),g.b.Ef(u.content))});u.ka("bodysize",m);u.ka("bodyfamily",m);u.ka("bodyspacing",m);u.ka("textjustify",m);u.yz=e;u.wt=function(a){a?"number"===typeof a&&(a=e.apply(null,arguments)):a=e();var b=ea("mB("+u.nc+").layouts",!0);return b&&0<=b.indexOf(a)};u.hi=function(a){"undefined"===typeof a&&(a=u.nc);if(a){for(var b=ea("mB("+a+").layouts",!0),c=0,d=b.length;c<
d;){var e=b[c++];G("Dropping layout %s",e);O.si(e)}x.Ib("mB("+a+").layouts")}else O.hi(),O.zr(),x.Ib(/^mB.layouts\(/g)};O.xz=v;u.jv=l;u.Ul=A;u.wF=t;u.dE=w;u.ab=h;var ia=!1;u.rc=function(a,b,c,d){"undefined"===typeof c&&(c=!0);u.N&&u.na("GoToPage",!1);C(document.body,"mbSHOWHELP");u.Cg();var e=u.j&&(u.j.Qf(a)||u.j.Qf(1));if(e&&e!==ia){var f=parseInt(e.getAttribute("data-pagenum"),10);"addgloss"===u.mode&&u.q(!1,!1);c&&u.wc();r.zc&&G("GoToPage/%s Flipping to %o (%d) for %o",b,e,f,a);if(ia)if(F.ri||
!M(document.body,"_ANIMATE"))C(ia,"curpage"),Q(e,"curpage");else{b=ia.getAttribute("data-pagenum");b=parseInt(b,10);C(ia,/\b(oldpage|newpage|onleft|onright)\b/g);C(e,/\b(oldpage|newpage|onleft|onright)\b/g);Q(e,f<b?"onleft":"onright");Q(ia,"oldpage");Q(e,"newpage");var h=ia;setTimeout(function(){var a=u.qb.getElementsByClassName("curpage");a.length&&C(V(a),"curpage");C(h,"curpage");Q(e,"curpage");C(e,"newpage");C(e,/\bon(right|left)\b/)},50);setTimeout(function(){C(h,"oldpage")},500)}else b=u.qb.getElementsByClassName("curpage"),
b.length&&C(V(b),"curpage"),Q(e,"curpage");"number"===typeof a&&(a=(a=e.getAttribute("data-sbookloc"))&&parseInt(a,10))&&u.ph(a);a=e.getAttribute("data-staticpageref");t(f,a,u.location);ia=e;u.Ua=f;(f=P(e.getAttribute("data-lastid"))||P(e.getAttribute("data-topid")))&&u.zj(f);c&&(u.lu=f,u.U||u.mode||(u.La=!1));c&&e&&(c=e.getAttribute("data-sbookloc"),a=e.getAttribute("data-pagenum"),u.Cd({location:ca(c,10),page:ca(a,10),target:f&&(f.getAttribute("data-baseid")||f.id)},d));if(d=D.r(".glossed",e))for(c=
u.a.uk,f=0,a=d.length;f<a;)c(d[f++])}};var ja=!1;u.mv=function(a,b){var c=a.nodeType&&z(a,".codexpage")||u.j.Qf(a)||u.j.Qf(1);(r.Pl||r.zc)&&G("startPagePreview for %o from %s",c,a);if(c){var d=parseInt(c.getAttribute("data-pagenum"),10),e=parseInt(c.getAttribute("data-sbookloc"),10);ja!==c&&(ja&&C(ja,"previewpage"),C(W(u.qb,".previewpage"),"previewpage"),(r.zc||r.g)&&G("startPagePreview/%s to %o (%d) for %o",b||"nocaller",c,d,a),ia&&Q(ia,"hidepage"),Q(c,"previewpage"),u.N=ja=c,Q(document.body,"mbPREVIEW"),
c=c.getAttribute("data-staticpageref"),t(d,c,e,"METABOOKPRVPAGESPAN"))}};u.Xp=function(a,b){var c=parseInt(ia.getAttribute("data-pagenum"),10);(r.zc||r.g)&&G("stopPagePreview/%s from %o to %o (%d)",a||"nocaller",ja,ia,c);var d=!1;if(ja){b&&b.nodeType?(C(ia,"curpage"),C(ia,"hidepage"),Q(ja,"curpage"),d=M(b,"codexpage")?b:z(b,".codexpage")):b?(C(ia,"curpage"),C(ia,"hidepage"),Q(ja,"curpage"),d=ia):(C(ja,"preview"),C(ia,"hidepage"));C(ja,"previewpage");C(W(u.qb,".previewpage"),"previewpage");u.N=ja=
!1;C(document.body,"mbPREVIEW");C(document.body,"mbPAGEPREVIEW");if(d){var c=parseInt(d.getAttribute("data-pagenum"),10),e=u.qo(b);t(c,d.getAttribute("data-staticpageref"),e&&e.H)}else t(c,ia.getAttribute("data-staticpageref"),u.location);"number"===typeof d&&u.rc(d)}};u.Qf=c;u.tu=b;u.GE=function(a){u.jd(a,{ho:!0,yb:!1})};u.Mr=function(){u.Wb&&u.Ua&&u.rc(u.Ua,"displaySync",!1)};return k}();u.V.Ou='<div class=\'query\'>\n  <input id="METABOOKSEARCHINPUT"\n         type="TEXT" class="autoprompt searchinput"\n         name="QTEXT" value="" isempty="yes" autocomplete="off"\n         onfocus="metaBook.UI.handlers.search_focus(event);"\n         onblur="metaBook.UI.handlers.search_blur(event);"\n         onkeydown="metaBook.UI.handlers.search_keydown(event);"\n         onkeyup="metaBook.UI.handlers.search_keyup(event);"\n         onkeypress="metaBook.UI.handlers.search_keypress(event);"\n         completeopts="anywhere cloud" enterchars=";" maxcomplete="45"\n         placeholder="type or tap tags or terms"\n         completions="METABOOKSEARCHCLOUD"\n         results="METABOOKSEARCHRESULTS"\n         info="METABOOKSEARCHINFO"/>\n  <img class="metabookclearsearch" alt="X" title="clear search"\n       src="{{bmg}}metabook/redx.svgz"\n       onerror="this.src=\'{{bmg}}metabook/redx64x64.png"/\'>\n</div>\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n\n';u.V.jn='<form action="https://glosses.bookhub.io/glosses"\n      ajaxaction="https://glosses.bookhub.io/glosses"\n      method="POST" target="addgloss"\n      accept-charset="utf-8">\n  <div class="messageoverlay">\n    <div class="saving">Saving...</div>\n    <div class="saved">Saved</div>\n  </div>\n  <div class="hidden">\n    <input type="HIDDEN" name="FRAG"/>\n    <input type="HIDDEN" name="WSNID"/>\n    <input type="HIDDEN" name="REFURI"/>\n    <input type="HIDDEN" name="DOCURI"/>\n    <input type="HIDDEN" name="SYNC"/>\n    <input type="HIDDEN" name="UUID"/>\n    <input type="HIDDEN" name="TAGLINE"/>\n    <input type="HIDDEN" name="LOCATION"/>\n    <input type="HIDDEN" name="LOCLEN"/>\n    <input type="HIDDEN" name="DOCTITLE"/>\n    <input type="HIDDEN" name="MYCOPYID"/>\n    <input type="HIDDEN" name="MAKER"/>\n    <input type="HIDDEN" name="RE"/>\n    <input type="HIDDEN" name="THREAD"/>\n    <input TYPE="HIDDEN" NAME="DETAIL" VALUE=""/>\n    <input TYPE="HIDDEN" NAME="EXCERPT" VALUE=""/>\n    <input TYPE="HIDDEN" NAME="EXOFF" VALUE=""/>\n    \x3c!-- Force IE to send the form in UTF-8 --\x3e\n    <input type="HIDDEN" name="IEHACK" VALUE="&#9760;"/>\n  </div>\n  <div class="response">\n    Responding to <span class="respmaker"></span>\n    <span class="respdate"></span> <span class="respnote"></span> \n    <span class="resptags"></span> <span class="resplinks"></span>\n  </div>\n  <div class="metabookglossformbody">\n    <div class="addglossmenu" data-touchable="img">\n      <img src="{{bmg}}metabook/upmenu.svgz"\n           onerror="this.src=\'{{bmg}}metabook/upmenu64x64.png\'"\n           class="button menutop" alt="upmenu"/>\n      <img src="{{bmg}}metabook/downmenu.svgz"\n           onerror="this.src=\'{{bmg}}metabook/downmenu64x64.png\'"\n           class="button menutop" alt="downmenu"/>\n      <img src="{{bmg}}metabook/holdmenu.svgz"\n           onerror="this.src=\'{{bmg}}metabook/holdmenu64x64.png\'"\n           class="button menutop" alt="holdmenu"/>\n      <img src="{{bmg}}metabook/gloss_save_titled.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_save_titled64x64.png\'"\n           title="save this gloss" class="button" alt="glosspush"\n           tabindex="2"/>\n      <img src="{{bmg}}metabook/gloss_save_titled.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_save_titled64x64.png\'"\n           title="update this gloss" class="button" alt="glossupdate"\n           tabindex="2"/>\n      <img src="{{bmg}}metabook/gloss_tag_titled.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_tag_titled64x64.png\'"\n           title="add tags" class="button" alt="addtag"\n           tabindex="3"/>\n      <img src="{{bmg}}metabook/gloss_attach_titled.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_attach_titled64x64.png\'"\n           title="attach files" class="button" alt="attach"\n           tabindex="4"/>\n      <img src="{{bmg}}metabook/gloss_share_titled.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_share_titled64x64.png\'"\n           title="add outlets/share this gloss" class="button" alt="addoutlet"\n           tabindex="6"/>\n      <img src="{{bmg}}metabook/gloss_respond_toptitle.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_respond_toptitle64x64.png\'"\n           title="respond to this gloss" class="button" alt="glossrespond"\n           tabindex="7"/>\n      <img src="{{bmg}}metabook/gloss_delete_titled.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_delete_titled64x64.png\'"\n           title="delete gloss" class="button" alt="glossdelete"\n           tabindex="9"/>\n      <img src="{{bmg}}metabook/gloss_cancel_titled.svgz"\n           onerror="this.src=\'{{bmg}}metabook/gloss_cancel_titled64x64.png\'"\n           title=" cancel gloss" class="button" alt="glosscancel"\n           tabindex="8"/>\n    </div>\n    <div class="textbox">\n      <textarea\n         name="NOTE"\n         placeholder="Use #tag or @share or to add tags or shares.  Markdown to format, Enter to save, Escape to cancel."\n         title="Add text (using markdown), using @share and #tag to add outlets and tags."\n         class="markdowninput"\n         wrap="virtual"\n         tabindex="0"></textarea>\n    </div>\n    <div class="glossetc">\n      <span class="glossexposure">\n        <span class="checkspan private" tabindex="5">\n          <input type="CHECKBOX" name="PRIVATE" value="yes"\n                 onchange="metaBook.UI.changeGlossPrivacy(event);"/>\n          <span class="checked"\n                title="this gloss won\'t be shared with my associated networks">\n            Private</span>\n          <span class="unchecked"\n                title="this gloss will be shared with my associated networks">\n            Shared</span>\n        </span>\n      </span>\n      <span class="glossdate"></span>\n      <span class="tags empty"></span>    \n      <span class="links empty"></span>\n      <span class="outlets empty"></span>\n      <span class="excerpt"></span>\n    </div>\n  </div>\n</form>\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n';u.V.ql='<div id="METABOOKHEAD">\n  <div id="METABOOKTOC" class="hudpanel"></div>\n  <div id="METABOOKSEARCH" class="searchbox hudpanel notags">\n    \x3c!-- This content comes from searchbox.html --\x3e\n  </div>\n  <div id="METABOOKNOTETEXT" class="hudpanel"\n       title="tap/click to jump to the note">\n    \x3c!-- This displays the text for a "note" --\x3e\n  </div>\n  <div id="METABOOKGLOSS" class="hudpanel">\n    <div class="editbar">\n      <span class="deletebutton">Delete</span>\n      <span class="deletebutton">Edit</span>\n      <span class="deletebutton">Reply</span>\n    </div>\n    <div id="METABOOKTARGETGLOSS">\n      \x3c!-- This is generated on demand --\x3e\n    </div>\n  </div>\n  <div id="METABOOKSOURCES" class="hudpanel metabooksources">\n    <img src="{{bmg}}metabook/sbookspeople.svgz"\n         onerror="this.src=\'{{bmg}}metabook/sbookspeople50x50.png\'"\n         class="button everyone selected"\n         alt="show all" title="show all glosses"/>\n  </div>\n  <div id="METABOOKADDGLOSS" class="metabookaddgloss hudpanel">\n  </div>\n  <div class="metabookglossform" id="METABOOKADDGLOSSPROTOTYPE">\n    \x3c!-- This content comes from addgloss.html --\x3e\n  </div>\n</div>\n<div id="METABOOKSKIMMER">\n  <div id="METABOOKSKIM"></div>\n</div>\n<div id="METABOOKTOPHELPCONTENT">\n  <div id="METABOOKSLICEHELP" class="hudpanel">\n    Press to see the context, tap to start skimming\n  </div>\n  <div id="METABOOKSEETHRUHELP" class="metabookhelp helpbox">\n    <p><span class="action">Release</span> to\n      <span class="result">return</span>.\n      <span class="notouch action">Press any key</span>\n      <span class="fortouch action">Tap anywhere else</span>\n      to <span class="result">settle</span> here.</p>\n  </div>\n  <div id="METABOOKPAGEBARHELP" class="metabookhelp helpbox">\n    <p><span class="action">Release</span>\n      <span class="fortouch action">or tap the text</span>\n      to <span class="result">settle</span> here.\n      <span class="action notouch">Press any key</span>\n      <span class="notouch">or</span>\n      <span class="notouch action">move the pointer away</span>\n      <span class="action fortouch">Move your finger away</span>\n      to <span class="result">return</span> to where you were.</p>\n  </div>\n  <div id="METABOOKPREVIEWHELP" class="helpbox">\n    <p>You\'re <em>previewing</em> a reference. <strong>Let go</strong>\n      to <em>go back</em> to the\n      reference, <strong class="fortouch">tap anywhere\n        else</strong> <strong class="notouch">tap any key</strong>\n      to <em>settle here</em>.</p>\n  </div>\n</div>\n</div>\n<div id="METABOOKHEART">\n  <div id="METABOOKRIBBON">\n    <div class="inputbox" ID="METABOOKADDTAGHOLDER">\n      <input TYPE="TEXT" NAME="TAG" VALUE=""\n             placeholder="Type or define a tag, with completion"\n             autocomplete="off"\n             ID="METABOOKADDTAGINPUT"/>\n    </div>\n    <div class="inputbox" ID="METABOOKADDSHAREHOLDER">\n      <input TYPE="TEXT" NAME="OUTLET" VALUE=""\n             placeholder="Type a group or individual name"\n             autocomplete="off"\n             ID="METABOOKADDSHAREINPUT"/>\n    </div>\n    <div class="resultinfo notags noresults" id="METABOOKSEARCHINFO">\n      <span class="noresults">No results</span>\n      <span class="noquery">\n        <span class="fortouch">Tap</span> <span class="notouch">Click</span>\n        tags or start typing to begin a search</span>\n      <span class="stats">\n        <span class="resultcount metabookshowsearch"></span>\n        <span class="refinecount metabookrefinesearch"></span>\n        <span class="showalltags metabookexpandsearch">all<br/>tags</span>\n      </span>\n      <span id="METABOOKSEARCHTAGS" class="qtags"></span>\n    </div>\n  </div>\n  <div id="METABOOKHEARTBODY"></div>\n</div>\n<div id="METABOOKHELPCONTENT">\n  <div id="METABOOKHELP" class="metabookhelp">\n    \x3c!-- This is the help text for reading the book as a whole (it get\'s\n         displayed for help when there isn\'t an active reader mode) --\x3e\n    <div id="METABOOKAPPHELP"></div>\n  </div>\n  <div id="METABOOKHUDHELP" class="helpbox"></div>\n  <div id="METABOOKKEYBOARDHELPBOX" class="closed">\n    <span class="keep" onclick="metaBook.keyboardHelp(true);">keep</span>\n    <span class="close" onclick="metaBook.keyboardHelp(false);">close</span>\n    <div id="METABOOKKEYBOARDHELP"></div>\n    <div class="checkspan">\n      <input TYPE="CHECKBOX" NAME="METABOOKKEYBOARDHELP" VALUE="yes"\n             CHECKED>\n      Show keyboard help\n    </div>\n  </div>\n  <div class="hudtip topcenter">\n    <span class="fortouch">Tap</span><span class="notouch">Click</span>\n    at the top of the page to see the &metaBook; <em>tools</em>\n  </div>\n  <div class="hudtip topleft" data-hudmode="toc">\n    <span class="nobreak"><span class="arrow">&#x2190;</span>navigate</span><br/>\n    <span class="nobreak">outline</span></div>\n  <div class="hudtip topright" data-hudmode="search">\n    <span class="nobreak"><span class="arrow">&#x2192;</span>search</span><br/>\n    for&nbsp;tags\n  </div>\n  <div class="hudtip leftmiddle">\n    back page\n  </div>\n  <div class="hudtip rightmiddle">\n    next page\n  </div>\n</div>\n<div id="METABOOKFOOT" data-xtouchable="span.metabookpagespan,span.metabookpageno,span.metabookloc,img.hudbutton">\n  <div id="METABOOKSHOWTEXT">\n    <span>\n      <span class="justreading">close tools</span>\n      <span class="stopskimming">stop skimming</span>\n      <span class="cancelgloss">cancel gloss</span>\n      <span class="cancelchanges">discard changes</span>\n    </span>\n  </div>\n  <div class="hudtip botcenter">\n    <span style="font-size: 200%; font-weight: bold; position: absolute; left: 2px; bottom: 2px;" class="arrow">\n      &#x2193;</span>\n    this bar shows where you are in the book;\n    <span class="fortouch">tap</span><span class="notouch">click</span>\n    to jump, press to skim, and <span class="fortouch">tap</span>\n      <span class="notouch">click</span> numeric indicators to change\n      them.\n  </div>\n  <div id="METABOOKPAGEBAR">\n    <div class="textfoot">\n      <div id="METABOOKLAYOUTADJUST">Updating layout</div>\n      <span id="METABOOKPAGEREFTEXT" class="metabookpageno"></span>\n      <span id="METABOOKPAGENOTEXT" class="metabookpageno">p/n</span>\n      <span class="metabookloc" id="METABOOKLOCPCT">??.??%</span>\n      <div id="METABOOKGOTOLOC" class="metabookgoto">\n        <span class="gototext">\n          <input type="text" name="GOTOLOC" value="" placeholder="loc"\n                 title="Enter a percent (<= 100) or an immediate location (> 100)"\n                 id="METABOOKLOCINPUT"\n                 onkeypress="metaBook.UI.goto_keypress(event);"/>%</span>\n      </div>\n      <div id="METABOOKGOTOPAGE" class="metabookgoto">\n        <span class="gototext">\n          <input type="text" name="GOTOPAGE" value=""\n                 id="METABOOKPAGEINPUT" placeholder="page#"\n                 onkeypress="metaBook.UI.goto_keypress(event);"/>/\n          <span id="METABOOKGOTOPAGEMAX"></span></span>\n      </div>\n      <div id="METABOOKGOTOREF" class="metabookgoto">\n        <span class="gototext">\n          <input type="text" name="GOTOREF" value=""\n                 id="METABOOKREFINPUT" placeholder="pg ref#"\n                 onkeypress="metaBook.UI.goto_keypress(event);"/>/\n          <span id="METABOOKGOTOPAGEREFMAX"></span></span>\n      </div>\n    </div>\n    <hr class="metabooklayoutindicator" id="METABOOKLAYOUTINDICATOR"/>\n    <div class="metabookpageprogress" id="METABOOKPAGEPROGRESS"></div>\n    <div class="metabooksectmarker" id="METABOOKSECTMARKER1"></div>\n    <div class="metabooksectmarker" id="METABOOKSECTMARKER2"></div>\n    <div class="metabooksectmarker" id="METABOOKSECTMARKER3"></div>\n    <div class="metabookpagespan" id="METABOOKCURPAGESPAN"></div>\n    <div class="metabookpagespan" id="METABOOKPRVPAGESPAN"></div>\n  </div>\n  <img src="{{bmg}}metabook/allglosses.svgz"\n       onerror="this.src=\'{{bmg}}metabook/allglosses50x50.png\'"\n       alt="allglosses" title="show all glosses"\n       class="hudbutton hudmodebutton botright"\n       id="METABOOKALLGLOSSESBUTTON"\n       hudmode="allglosses"/>\n  <img src="{{bmg}}metabook/tagsearch.svgz"\n       onerror="this.src=\'{{bmg}}metabook/tagsearch50x50.png\'"\n       alt="searchresults" title="show searchresults"\n       class="hudbutton hudmodebutton botright"\n       hudmode="searchresults"/>\n  <img src="{{bmg}}metabook/tocicon.svgz"\n       onerror="this.src=\'{{bmg}}metabook/tocicon50x50.png\'"\n       alt="statictoc" title="show TOC"\n       class="hudbutton hudmodebutton botright"\n       hudmode="statictoc"/>\n  <img src="{{bmg}}metabook/gloss_save_titled.svgz"\n       onerror="this.src=\'{{bmg}}metabook/gloss_save_titled50x50.png\'"\n       alt="save gloss" title="save gloss"\n       class="hudbutton botright"/>\n  <img src="{{bmg}}metabook/help.svgz"\n       onerror="this.src=\'{{bmg}}metabook/help50x50.png\'"\n       alt="help" title="show contextual help"\n       class="hudbutton hudmodebutton botleft"\n       id="METABOOKHELPBUTTON"\n       hudmode="help"/>\n  <div class="hudtip botright" data-hudmode="toc">\n    <span class="nobreak">browse</span><br/>\n    <span class="nobreak">glosses<span class="arrow">&#x2192;</span></span></div>\n  <div class="hudtip botleft">\n    <span class="nobreak">toggle</span><br/>\n    <span class="nobreak"><span class="arrow">&#x2190;</span>help</span></div>\n</div>\n<div id="METABOOKAUDIO">\n  <audio id="METABOOKPAGEFORWARDAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/pageforward.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/pageforward.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKPAGEBACKWARDAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/pagebackward.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/pagebackward.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKSKIMFORWARDAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/skimforward.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/skimforward.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKSKIMBACKWARDAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/skimbackward.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/skimbackward.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKSKIMSTOPAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/skimstop.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/skimstop.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKTEXTSELECTAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/selecting.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/selecting.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKRAISEHUDAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/raisehud.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/raisehud.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKDROPHUDAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/drophud.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/drophud.ogg" type="audio/ogg"/>\n  </audio>\n  <audio id="METABOOKGLOSSEDAUDIO" volume="0.5" preload="auto">\n    <source src="{{bmg}}metabook/glossed.wav" type="audio/wave"/>\n    <source src="{{bmg}}metabook/glossed.ogg" type="audio/ogg"/>\n  </audio>\n</div>\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n --\x3e\n';u.V.Mi='<div id="METABOOKALLGLOSSES" class="metabookslice mbsyncslice hudpanel">\n  \x3c!-- This is filled in on startup --\x3e\n</div>\n<div id="METABOOKGLOSSDETAIL" class="hudpanel">\n  \x3c!-- This displays detail text for a gloss --\x3e\n</div>\n<div id="METABOOKASIDE" class="hudpanel">\n  \x3c!-- This displays the text for an aside --\x3e\n</div>\n<div id="METABOOKGLOSSEDITDETAIL" class="hudpanel">\n  \x3c!-- This is for editing the detail text for a gloss --\x3e\n  <textarea NAME="METABOOKDETAILTEXT" class="markdowninput"\n            ID="METABOOKDETAILTEXT">\n  </textarea>\n</div>\n<div id="METABOOKGLOSSATTACH" class="hudpanel"></div>\n<div id="METABOOKSEARCHCLOUD" class="completions cloud searchcloud"></div>\n<div id="METABOOKALLTAGS" class="completions searchcloud cloud noinput">\n</div>\n<div id="METABOOKSEARCHRESULTS" class="metabookslice mbsyncslice hudpanel"></div>\n<div id="METABOOKSHARECLOUD" class="hudpanel completions cloud showall"></div>\n<div id="METABOOKGLOSSCLOUD" class="hudpanel completions cloud showall">\n  <div class="nomatchmsg">(no matches)</div>\n</div>\n<div class="tabcontent flyleaftab hudpanel" id="METABOOKSTATICTOC"\n     data-touchable=".mbtoc"></div>\n<iframe name="METABOOKGLOSSCOMM" id="METABOOKGLOSSCOMM"\n        frameborder="0" scrolling="auto"\n        class="hudpanel tabcontent"></iframe>\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n';u.V.lr='<form id="METABOOKATTACHFORM" target="METABOOKGLOSSCOMM"\n      method="POST" enctype="multipart/form-data" accept-charset="utf-8"\n      action="https://glossdata.bookhub.io/1/attach"\n      class="link">\n  <table class="fdjtform"\n         onclick="fdjt.UI.CheckSpan.onclick(event);">\n    <input TYPE="HIDDEN" NAME="GLOSSID" VALUE="" id="METABOOKUPLOADGLOSSID"/>\n    <input TYPE="HIDDEN" NAME="ITEMID" VALUE="" id="METABOOKUPLOADITEMID"/>\n    <tr class="attachtype">\n      <th class="headcell">\n        Attach<img src="{{bmg}}metabook/gloss_attach.svgz"/></th>\n      <td>\n        <button id="METABOOKATTACHDELETE" NAME="ATTACH" VALUE="DELETE">\n          Delete</button>\n        <span class="checkspan ischecked mbaddlink"\n              title="Attach a link to this gloss">\n          <input type="RADIO" NAME="ATTACHTYPE" VALUE="link"\n                 onchange="metaBook.UI.changeAttachment(event);"\n                 CHECKED/>\n          Link</span>\n        <span class="checkspan mbupload"\n              title="Upload a file and attach it to this gloss">\n          <input type="RADIO" NAME="ATTACHTYPE" VALUE="upload"\n                 onchange="metaBook.UI.changeAttachment(event);"/>\n          File</span>\n        <span class="checkspan mbeditbody"\n              title="Create or edit a \'body\' for this gloss">\n          <input type="RADIO" NAME="ATTACHTYPE" VALUE="body"\n                 onchange="metaBook.UI.changeAttachment(event);"/>\n          Body</span>\n        <span class="checkspan mbcapture"\n              title="Attach audio or video recorded on this device">\n          <input type="RADIO" NAME="ATTACHTYPE" VALUE="capture"\n                 onchange="metaBook.UI.changeAttachment(event);"/>\n          Capture</span>\n      </td>\n      <th class="button">\n        <button id="METABOOKATTACHLINK" NAME="ATTACH" VALUE="LINK">\n          Link</button>\n        <button id="METABOOKUPLOADOK" NAME="ATTACH" VALUE="UPLOAD">\n          Save</button>\n        <button id="METABOOKUPLOADOK" NAME="ATTACH" VALUE="SAVE">\n          Save</button>\n        <button id="METABOOKATTACHLINK" NAME="ATTACH" VALUE="BODY">\n          Save</button>\n        <button id="METABOOKATTACHLINK" NAME="ATTACH" VALUE="DONE">\n          Done</button>\n        <button id="METABOOKATTACHCANCEL" VALUE="CANCEL">\n          Cancel</button></th>\n    </tr>\n    <tr class="title">\n      <th>Label</th>\n      <td colspan="2">\n        <INPUT TYPE="TEXT" NAME="TITLE" VALUE="" ID="METABOOKATTACHTITLE"\n               placeholder="a descriptive label"/></tr>\n    <tr class="checkspan uploadrights"\n        id="METABOOKUPLOADRIGHTS">\n      <th><input TYPE="CHECKBOX" NAME="FILEOKAY" VALUE="yes"/></th>\n      <td colspan="2">\n        I affirm that I have the right to use and share this\n        content according to the bookhub.io\n        <a href="https://www.bookhub.io/legalia/TOS/" target="_blank">\n          Terms of Service</a>.</td>\n    </tr>\n    <tr class="url">\n      <th>URL</th>\n      <td colspan="2">\n        <input TYPE="TEXT" NAME="URL" VALUE=""\n               ID="METABOOKATTACHURL" class="fdjturlinput"\n               placeholder="a URL to attach"/>\n      </td>\n    </tr>\n    <tr class="capturefile">\n      <th>Capture</th>\n      <td id="METABOOKCAPTUREFILE" class="nofile" colspan="2">\n\t<button NAME="CAPTURE" VALUE="AUDIO">Audio</button>\n\t<button NAME="CAPTURE" VALUE="VIDEO">Video</button>\n\t<button NAME="CAPTURE" VALUE="IMAGE">Photo</button>\n    </td></tr>\n    <tr class="uploadfile">\n      <th>Upload<input TYPE="FILE" NAME="UPLOAD" ID="METABOOKFILEINPUT"/></th>\n      <td id="METABOOKATTACHFILE" class="nofile" colspan="2">\n        <span class="mbdragmessage">Drag a file here or click to browse</span>\n        <span class="mbmessage">Tap to find files or media</span>\n        <span class="mbfilename" id="METABOOKATTACHFILENAME"></span>\n    </td></tr>\n    <tbody class="glossbody" id="METABOOKGLOSSBODY">\n      <tr>\n        <td colspan="3"><textarea NAME="BODYTEXT" ID="METABOOKGLOSSBODYTEXT"></textarea></td>\n      </tr>\n    </tbody>\n  </table>\n</form>\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n';u.V.Ni='<h1><span class="metabooktogglehelp">Ok</span>Using &metaBook;</h1>\n\n<p><img src="{{bmg}}metabook/browser_edges.svgz"\n        onerror="this.src=\'{{bmg}}metabook/browser_edges32x32.png\'"\n        alt="top of browser" class="floatright"/>\n  <strong>Move by pages</strong>\n  <span class="fortouch">by swiping left or right</span>\n  <span class="notouch">using the Space or Backspace keys</span> or\n  <span class="fortouch">tapping</span> <span class="notouch">clicking</span>\n  on the left or right regions of the page.</p>\n\x3c!--\n<p><img src="{{bmg}}metabook/browser_corners.svgz" \n        onerror="this.src=\'{{bmg}}metabook/browser_corners32x32.png\'"\n        alt="top of browser" class="floatright"/>\n  <strong>Open the <dfn>book tools</dfn></strong> by\n  <span class="fortouch">tapping</span>\n  <span class="notouch">clicking</span> at the top of the\n  page.  <strong>Navigate, search, or skim</strong> using the icons\n  in the corners of the page.</p>\n<p><strong>Show this and other help</strong> by\n  <span class="fortouch">tapping</span><span class="notouch">clicking</span>\n  the <img src="{{bmg}}metabook/help.svgz" alt="top of browser"\n  onerror="this.src=\'{{bmg}}metabook/help50x50.png\'" class="inline"/>\n  icon in the lower left corner of the page.</p>\n--\x3e\n<p class="glossexample">\n  <strong style="color: blue;">Blue <dfn>gloss bars</dfn></strong> in\n  the right margin indicate glosses already overlaid on your\n  book.  <strong><span class="fortouch">Tap or drag\n  left</span> <span class="notouch">Click to the left</span></strong>\n  of the blue bar to see associated notes, tags, links, etc.</p>\n\n<p><strong>Add your own glosses</strong> by\ndouble <span class="fortouch">tapping</span>\n  <span class="notouch">clicking</span> on the content or pressing and\n  holding to select text.  <strong>Enter notes, tags, links,\n  etc</strong> in the <dfn>gloss box</dfn> appearing at the top of the\n  page. <strong>Drag <span class="fortouch">your finger</span>\n  <span class="notouch">the pointer</span></strong> to select adjust\n  the <span class="fdjtselected"><span class="fdjtselectstart">beginning</span>\n  and <span class="fdjtselectend">end</span></span> of highlighted\n  text.</p>\n\n<p class="helphelp">\n  <strong>Show this and other help</strong> by\n  <span class="fortouch">tapping</span><span class="notouch">clicking</span>\n  the <img src="{{bmg}}metabook/help.svgz" alt="top of browser"\n           onerror="this.src=\'{{bmg}}metabook/help50x50.png\'" class="inline"/>\n  icon in the lower left of the page.</p>\n\n\x3c!--\n<p class="tightbottom">\n  <img src="{{bmg}}metabook/docs/pagebar_zoom.png" class="floatright"/>\n  <strong>Browse the book</strong> using the <dfn>pagebar</dfn> along\n  the bottom.  The dark blue line show the current location with\n  lighter regions around for the current section and its parent.\n  <img src="{{bmg}}metabook/docs/pagebar_wide.png" class="wideimage"/>\n  <img src="{{bmg}}metabook/docs/pagebar_wide.png"\n  class="narrowimage"/><br/>\n  <span class="subpara">\n    <span class="fortouch">Tap</span><span class="notouch">Click</span>\n    the page number (in the middle) or percentage (on the right) to move\n    precisely.  Press and hold the pagebar to see a particular page,\n    moving <span class="fortouch">your\n      finger</span> <span class="notouch">the pointer</span> to skim\n    through pages.  <span class="notouch">Release</span>\n    <span class="fortouch">Lift your finger</span> to settle where you\n    are or <span class="fortouch">move\n      it</span> <span class="notouch">drag the mouse</span> out of the\n    pagebar to return to where you were.</span></p>\n--\x3e\n\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n';u.V.Us='<div id="METABOOKADDGLOSSHELP" class="helpbox">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    Add your own gloss to a passage</h2>\n  <p><strong class="fortouch">Tap</strong>\n    <strong class="notouch">Click</strong>\n    or <strong><span class="fortouch">touch</span> \n      <span class="notouch">press</span> and drag</strong> the menu\n    button <img src="{{bmg}}metabook/downmenu.svgz"\n    onerror="this.src=\'{{bmg}}metabook/downmenu64x64.png"\n    class="inline" style="border: solid black 1px; padding: 0px;"/>\n    for more options (<strong>release</strong> to select).</p>\n  <p><img src="{{bmg}}metabook/remark.svgz"\n          onerror="this.src=\'{{bmg}}metabook/remark64x64.png" class="screengrab"\n          alt="the balloon icon"/> Type your comments in the input\n          box, ending with <kbd>Enter</kbd> and using\n    <kbd>Shift-Enter</kbd> to insert a newline.  Specify **bold** or\n    *italics* and other formatting using\n    <a href="http://daringfireball.net/projects/markdown/syntax"\n       target="_blank">\n      Markdown syntax</a>.</p>\n  <p><img src="{{bmg}}metabook/tagicon.svgz"\n          onerror="this.src=\'{{bmg}}metabook/tagicon64x64.png\'"\n          class="screengrab" alt="the tag icon"/>\n    <strong>Add simple tags</strong> as <tt>#tag</tt> or even\n    &ldquo;<tt>#compound tag</tt>,&rdquo; pressing <kbd>Enter</kbd>\n    when done.</p>\n  <p><strong><span class="fortouch">Tap</span> \n      <span class="notouch">Click</span> the passage</strong> to\n    show or hide the gloss form; press and drag the \n    <span class="fdjtselected"><span class="fdjtselectstart">ends</span>\n      of the <span class="fdjtselectend">highlight</span></span> to change\n    it.  <strong><span class="fortouch">Tap</span>\n      <span class="notouch">Click</span> anywhere else</strong> to close\n    the gloss (and save or discard your changes).</p>\n</div>\n<div id="METABOOKGLOSSATTACHHELP" class="helpbox">\n  <p><img src="{{bmg}}metabook/diaglink.svgz"\n          onerror="this.src=\'{{bmg}}metabook/diaglink64x64.png\'"\n          class="inline" alt="the link icon"/>\n    <strong>Add links</strong>\n    as <strong>[@</strong><em><tt>uri</tt></em>\n    <em>title</em><strong>]</strong>,\n    e.g. <strong>[@</strong><tt>http://www.whitehouse.gov/</tt>\n    The White House<strong>]</strong>.</p>\n</div>\n<div id="METABOOKGLOSSTAGHELP" class="helpbox">\n  <p><img src="{{bmg}}metabook/tagicon.svgz"\n          onerror="this.src=\'{{bmg}}metabook/tagicon64x64.png\'"\n          class="inline" alt="the tag icon"/>\n    Specify <strong>synonyms</strong> for your tags (e.g.\n    <span class="tagsample"><strong>[</strong>airplane|plane|aircraft<strong>]</strong></span>)\n    or describe <strong>relations</strong>\n    (e.g. <span class="tagsample">\n      <strong>[</strong>sloop|^sailboat|^boat<strong>]</strong></span>)\n    to make your tags <strong>more useful</strong> for browsing\n    and search by yourself or others.</p>\n</div>\n<div id="METABOOKSKIMTOCHELP" class="helpbox fdjtadjustfont">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    Skimming by sections</h2>\n  <p>You\'re <span>skimming</span> through your book based on the\n    chapters, sections, and subsections in the table of contents.</p>\n  <p class="fortouch">\n    <span>Swipe left or right with two fingers</span> to move forward\n    and backward by sections or use the\n    <img src="{{bmg}}metabook/skim_left.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_left100x100.png"\n    class="inline"/\'> and <img src="{{bmg}}metabook/skim_right.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_right100x100.png"\n    class="inline"/\'> arrows on the sides of the page. These also\n    indicate the number of sections in each direction.</p>\n  <p class="notouch">\n    Use the <span>arrow keys</span> to move forward and backward by\n    sections or use the <img src="{{bmg}}metabook/skim_left.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_left100x100.png"\n    class="inline"/> and <img src="{{bmg}}metabook/skim_right.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_right100x100.png"\n    class="inline"/> arrows on the sides of the page.  These also\n    indicate the number of sections in each direction.</p>\n  <p><span class="fortouch">Tap</span><span class="notouch">Click</span>\n    the book text to minimize the interface;\n    <span class="fortouch">tap</span><span class="notouch">click</span>\n    again to stop skimming altogether.</p>\n  <p>The <img src="{{bmg}}metabook/tocicon.svgz"\n              onerror="this.src=\'{{bmg}}metabook/tocicon50x50.png"\n              class="inline"> in\n              the lower right corner returns to the table of contents.\n              The <strong>overleaf</strong> at the top of the page\n              shows the current point in the table of\n              contents; <span class="fortouch">tap</span>\n    <span class="notouch">click</span> once to expand it and again to\n    return to the TOC.</p>\n</div>\n<div id="METABOOKSKIMSEARCHHELP" class="helpbox fdjtadjustfont">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    Skimming your search</h2>\n  <p>You\'re currently <span>skimming</span> through the results of\n    your search.  The current search result is shown in\n    the <strong>overleaf</strong> at the top of the page and the\n    matching text is highlighted in the body.</p>\n  <p class="fortouch">\n    <span>Swipe left or right with two fingers</span> to move to the\n    next (or previous) result or use the\n    <img src="{{bmg}}metabook/skim_left.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_left100x100.png"\n    class="inline"/\'> and <img src="{{bmg}}metabook/skim_right.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_right100x100.png"\n    class="inline"/\'> arrows on the sides of the page.  These also\n    indicate the number of search results in each direction.</p>\n  <p class="notouch">\n    Use the <span>arrow keys</span> to to the next or previous search\n    result or use the <img src="{{bmg}}metabook/skim_left.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_left100x100.png"\n    class="inline"/> and <img src="{{bmg}}metabook/skim_right.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_right100x100.png"\n    class="inline"/> arrows on the sides of the page.  These also\n    indicate the number of search results in each direction.</p>\n  <p><span class="fortouch">Tap</span><span class="notouch">Click</span>\n    the book text to minimize the interface;\n    <span class="fortouch">tap</span><span class="notouch">click</span>\n    again to stop skimming altogether.</p>\n  <p>The <img src="{{bmg}}metabook/tagsearch.svgz"\n              onerror="this.src=\'{{bmg}}metabook/tagsearch50x50.png"\n              class="inline">\n    icon in the lower right corner returns to the search results.\n    The <strong>overleaf</strong> at the top of the page\n    shows the result being\n    displayed; <span class="fortouch">tap</span>\n    <span class="notouch">click</span> it once to expand it and again\n    to return to the list of results.</p>\n</div>\n<div id="METABOOKSKIMGLOSSESHELP" class="helpbox fdjtadjustfont">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    Skimming Glosses</h2>\n  <p>You\'re <span>skimming</span> through your book based on the\n    glosses (highlights, notes, etc) which you or others have added.\n    The <strong>overleaf</strong> at the top of the page shows the\n    current gloss and the text itself shows any highlights.</p>\n  <p class="fortouch">\n    <span>Swipe left or right with two fingers</span> to move to the\n    next (or previous) gloss or use the\n    <img src="{{bmg}}metabook/skim_left.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_left100x100.png"\n    class="inline"/\'> and <img src="{{bmg}}metabook/skim_right.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_right100x100.png"\n    class="inline"/\'> arrows on the sides of the page.  These also\n    indicate the number of glosses in each direction.</p>\n  <p class="notouch">\n    Use the <span>arrow keys</span> to to the next or previous gloss\n    or use the <img src="{{bmg}}metabook/skim_left.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_left100x100.png"\n    class="inline"/> and <img src="{{bmg}}metabook/skim_right.svgz"\n    onerror="this.src=\'{{bmg}}metabook/skim_right100x100.png"\n    class="inline"/> arrows on the sides of the page.  These also\n    indicate the number of glosses in each direction.\n  </p>\n  <p><span class="fortouch">Tap</span><span class="notouch">Click</span>\n    the book text to minimize the interface;\n    <span class="fortouch">tap</span><span class="notouch">click</span>\n    again to stop skimming\n    altogether.</p>\n  <p>The <img src="{{bmg}}metabook/allglosses.svgz"\n              onerror="this.src=\'{{bmg}}metabook/allglosses50x50.png"\n              class="inline">\n              button in the lower right corner returns to the list of\n              glosses.  The <strong>overleaf</strong> at the top of\n              the page shows the gloss you\'re\n              seeing; <span class="fortouch">tap</span>\n    <span class="notouch">click</span> it once to expand it and again\n    to return to the list of results.</p>\n</div>\n<div id="METABOOKGOTOPAGEHELP" class="helpbox">\n  <p>Enter a page number at the top of the page to jump directly to that\n    page.<br/> Use the escape key or <span class="fortouch">tap</span>\n    <span class="notouch">click</span> at the bottom of the page to\n    cancel.</p>\n</div>\n<div id="METABOOKGOTOREFHELP" class="helpbox">\n  <p>Enter a reference page number (from the reference version of the\n    book) at the top of the page to jump to that part of the book.<br/>\n    Use the escape key or <span class="fortouch">tap</span>\n    <span class="notouch">click</span> at the bottom of the page to\n    cancel.</p>\n</div>\n<div id="METABOOKGOTOLOCHELP" class="helpbox">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    Got to a specific location</h2>\n  <p>Enter a numeric percentage (in the field at the top of the page)\n    to jump directly to that point within the book.<br/>  These\n    percentages will remain stable even as page layout or font size\n    changes.  Use the escape key or <span class="fortouch">tap</span>\n    <span class="notouch">click</span> at the bottom of the page to\n    cancel and return to the text.</p>\n</div>\n<div id="METABOOKSEARCHINPUTHELP" class="helpbox">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    Searching tags and text</h2>\n  <p>You are searching for passages or glosses within your book, using\n    either semantic <span class="dterm">tags</span> or\n    literal <span class="rawterm">terms</span>.  As you type or edit\n    the text in the search box, the cloud of tags and phrases will\n    grow or shrink to display matching phrases, tags, or tag\n    synonyms.</p>\n  <p><span class="fortouch">Tapping</span>\n    <span class="notouch">Clicking</span>\n    <span>a term or tag</span> adds it to the current search,\n    generating both new results and an updated cloud of associated\n    terms and tags.  Tags may be related to other tags (for\n    example, <span class="dterm">dachshund</span>\n    to <span class="dterm">dog</span>) and those relationships are\n    used in your search.</p>\n</div>\n<div id="METABOOKSEARCHRESULTSHELP" class="helpbox">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    Browsing search results</h2>\n  <p>The results of your search are ordered by relevance and position\n    within the book.  Refine or change your search by selecting one of\n    the tabs (\'co-tags\' or \'all tags\') above the\n    results<img src="/static/g/metabook/searchtabs.png"\n    class="screengrab"/> or by simply entering more text.  Co-tags are\n    tags which occur among the current search results; all tags are\n    all tags used throughout the book.</p>\n  <p class="notouch">Use <strong>the space and backspace keys</strong>\n    to move through the list of results page-by-page; <strong>combine\n    with the shift key</strong> or use the <strong>arrow keys</strong>\n    to move in larger increments. Use the <strong>percentage\n    indicator</strong> <img src="{{bmg}}/metabook/pagecontrol.png"\n    class="inlineright"/> to move page-by-page or to enter a specific\n    percentage (just click on the number).</p>\n  <p class="fortouch"><strong>Swipe left or right</strong> to move\n    page-by-page through the search results; <strong>swipe with two\n    fingers</strong> to move in larger increments.  Use\n    the <strong>percentage indicator</strong>\n    <img src="{{bmg}}/metabook/pagecontrol.png" class="inlineright"/>\n    to move page-by-page or to enter a specific percentage (just tap\n    on the number).</p>\n  <p><strong><span class="fortouch">Tap</span>\n    <span class="notouch">Click</span> a search result</strong> to\n    jump to that part of the book and begin <span>skimming</span>\n    through the search results starting at that point.</p>\n  <p><strong><span class="notouch">Hold the mouse button down\n      on</span><span class="fortouch">Press and hold</span> a\n      result</strong> to preview the result in in its context;\n      <strong>release</strong> to return to the list of results.</p>\n</div>\n<div id="METABOOKALLGLOSSESHELP" class="helpbox">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    All glosses</h2>\n  <p>These are <span>all of the glosses</span> applied to your\n    copy of this book.</p>\n  <p>The <strong>row of icons</strong> at the top of the screen show\n    the <span>creators or layers</span> where different glosses\n    originate. <span class="fortouch">Tap</span>\n    <span class="notouch">Click</span> the icons to just see glosses\n    from a single source or double <span class="fortouch">tap</span>\n    <span class="notouch">click</span> to add glosses from other\n    sources.</p>\n  <p class="notouch">The <strong>space and backspace keys</strong>\n    move through the list of glosses page-by-page; combine them with\n    the shift key or use the <strong>arrow keys</strong> to move in\n    larger increments. Use the <strong>percentage indicator</strong>\n    <img src="{{bmg}}/metabook/pagecontrol.png" class="inlineright"/>\n    to move page-by-page or to enter a specific percentage (just click\n    on the number).</p>\n  <p class="fortouch"><strong>Swipe left or right</strong> to move\n    page-by-page through the glosses; <strong>swipe with two\n    fingers</strong> to move in larger increments.  Use\n    the <strong>percentage indicator</strong>\n    <img src="{{bmg}}/metabook/pagecontrol.png" class="inlineright"/>\n    to move page-by-page or to enter a specific percentage (just tap\n    on the number).</p>\n  <p><span class="fortouch">Tap</span>\n    <span class="notouch">Click</span> a particular gloss to jump to\n    that part of the book and begin <span>skimming</span> through the\n    displayed glosses starting at that point.</p>\n  <p><span class="notouch">Hold the mouse button down\n      on</span><span class="fortouch">Press and hold</span> a a gloss\n      to see it in in context; <strong>release</strong> to return to the list of\n      glosses.</p>\n</div>\n<div id="METABOOKSTATICTOCHELP" class="helpbox">\n  <h2><span class="metabooktogglehelp">Ok</span>\n    The Table of Contents</h2>\n  <p>The <strong>table of contents</strong> (TOC) displays a\n    hierarchical map of your book created by the author or publisher.\n    Red lines indicate your current reading location; the\n    light-colored bars indicate the subsection\'s size and position\n    within its parent.</p>\n  <p class="notouch">Use <strong>the space and backspace keys</strong>\n    to move through the TOC page-by-page; <strong>combine with the\n    shift key</strong> or use the <strong>arrow keys</strong> to move\n    in larger increments. You can also use the <strong>percentage\n    indicator</strong> <img src="{{bmg}}/metabook/pagecontrol.png"\n    class="inlineright"/> to move page-by-page or enter a specific\n    percentage (just click on the number).</p>\n  <p class="fortouch"><strong>Swipe left or right</strong> to move\n    page-by-page through the TOC; <strong>swipe with two\n    fingers</strong> to move in larger increments.  You can also use\n    the <strong>percentage indicator</strong>\n    <img src="{{bmg}}/metabook/pagecontrol.png" class="inlineright"/>\n    to move forward or backward or to enter a specific percentage\n    (just tap on the number).</p>\n  <p><strong><span class="fortouch">Tap</span>\n    <span class="notouch">Click</span> a line</strong> in the TOC to\n    jump to that section.  You\'ll start <em>skimming</em> through the\n    table of contents while seeing the content of the book.</p>\n  <p><strong>\n      <span class="notouch">Hold the mouse button down\n        on</span><span class="fortouch">Press and hold</span> a TOC\n        line</strong> to preview the section without leaving the table\n        of contents.  <strong>Release</strong> to return to the TOC\n        listing.</p>\n</div>\n\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n';u.V.zd='<img src="{{bmg}}metabook/tocicon.svgz"\n     onerror="this.src=\'{{bmg}}metabook/tocicon50x50.png\'"\n     alt="toc" title="navigate sections"\n     class="hudbutton hudmodebutton topleft"\n     id="METABOOKTOCBUTTON"\n     hudmode="statictoc"/>\n<div id="METABOOKBREVET"\n     title="Open the meta layer for navigation, search, etc.">\n  &nbsp;</div>\n<div id="METABOOKCOVERTAB">\n  <img src="{{bmg}}metabook/mbsettings.svgz"\n       onerror="this.src=\'{{bmg}}metabook/mbsettings50x50.png\'"\n       alt="toc" title="book settings"\n       class="hudbutton hudmodebutton left"\n       id="METABOOKSETTINGSBUTTON"\n       hudmode="settings"/>\n  <div class="hudbutton" id="METABOOKSHOWCOVER">Cover</div>\n  <img src="{{bmg}}metabook/overlay.svgz"\n       onerror="this.src=\'{{bmg}}metabook/overlay50x50.png\'"\n       alt="toc" title="see book layers"\n       class="hudbutton hudmodebutton right"\n       id="METABOOKLAYERSBUTTON"\n       hudmode="layers"/>\n</div>\n<img src="{{bmg}}metabook/tagsearch.svgz"\n     onerror="this.src=\'{{bmg}}metabook/tagsearch50x50.png\'"\n     alt="search" title="search tags"\n     class="hudbutton hudmodebutton topright"\n     hudmode="search"/>\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n --\x3e\n';u.V.console='<h1>metaBook Console</h1>\n<div class=\'message\' id=\'METABOOKCONSOLEMESSAGE\'></div>\n<div id="METABOOKCONSOLELOG" class=\'sbookmessagelog\'></div>\n<div id="METABOOKCONSOLEINPUT">\n  <span class="button" id="METABOOKCONSOLEBUTTON">run</span>\n  <textarea id="METABOOKCONSOLETEXTINPUT">\n  </textarea>\n</div>\n\n\x3c!--\n/* Emacs local variables\n;;;  Local variables: ***\n;;;  compile-command: "cd ../..; make" ***\n;;;  indent-tabs-mode: nil ***\n;;;  End: ***\n*/\n--\x3e\n\n';u.V.aj='<div class="startupmessage fdjtprogress" id="METABOOKSTARTUPSCAN">\n  <div class="indicator"></div>\n  <div class="message">\n    Scanning the book content for structure and metadata.</div>\n</div>\n<div class="startupmessage fdjtprogress" id="METABOOKSTARTUPTOC">\n  <div class="indicator"></div>\n  <div class="message">\n    Setting up tables of content for book navigation.</div>\n</div>\n<div class="startupmessage fdjtprogress" id="METABOOKSTARTUPKNO">\n  <div class="indicator"></div>\n  <div class="message">\n    Processing embedded or referenced knowledge bases.\n    <div id="METABOOKSTARTUPKNODETAILS"></div>\n  </div>\n</div>\n<div class="startupmessage fdjtprogress" id="METABOOKSTARTUPTAGGING">\n  <div class="indicator"></div>\n  <div class="message">Indexing with published tags.</div>\n</div>\n<div class="startupmessage fdjtprogress" id="METABOOKSTARTUPCLOUDS">\n  <div class="indicator"></div>\n  <div class="message">Setting up tag clouds for search and glossing.</div>\n</div>\n</div>\n<div class="startupmessage fdjtprogress" id="METABOOKNEWGLOSSES">\n  <div class="indicator"></div>\n  <div class="message">Applying your glosses to your book.</div>\n</div>\n\x3c!--\n     /* Emacs local variables\n     ;;;  Local variables: ***\n     ;;;  compile-command: "cd ../..; make" ***\n     ;;;  End: ***\n     */\n  --\x3e\n\n';u.V.ki='<div id="METABOOKCOVERMESSAGE" class="controls">\n  <div id="METABOOKOPENTAB"\n       style="width: 7em; margin-left: auto; margin-right: auto; color: white; background-color: gray; margin-top: 0.2ex; padding:  0px 1em 0px 1em; border: solid transparent 2px; font-variant: small-caps; border-radius: 1ex; box-sizing: border-box;">\n    Open\n  </div>\n  <div id="METABOOKREADYMESSAGE" class="message"\n       style="width: 7em; margin-left: auto; margin-right: auto; color: white; background-color: gray; margin-top: 0.2ex; padding:  0px 1em 0px 1em; border: solid transparent 2px; font-variant: small-caps; border-radius: 1ex; box-sizing: border-box;">\n    Loading\n  </div>\n  <div id="METABOOKBUSYMESSAGE" class="message"\n       style="width: 7em; margin-left: auto; margin-right: auto; color: white; background-color: gray; margin-top: 0.7ex; padding:  0px 1em 0px 1em; border: solid transparent 2px; font-variant: small-caps; border-radius: 1ex; box-sizing: border-box;">\n    Busy\n  </div>\n  <div class="metabookstatus" id="METABOOKLAYOUTMESSAGE" class="message">\n    <div class="metabookprogressbox"><div class="indicator"></div></div>\n    <div class="message" style="font-size: 24px; font-size: 5vmin;"></div>\n  </div>\n  <div class="metabookstatus" id="METABOOKINDEXMESSAGE" class="message">\n    <div class="metabookprogressbox"><div class="indicator"></div></div>\n    <div class="message" style="font-size: 24px; font-size: 5vmin;"></div>\n  </div>\n  <div class="metabookstatus" id="METABOOKGLOSSMESSAGE" class="message">\n    <div class="metabookprogressbox"><div class="indicator"></div></div>\n    <div class="message" style="font-size: 24px; font-size: 5vmin;"></div>\n  </div>\n</div>\n<div id="METABOOKCOVERPAGE" class="flap"\n     style="position: absolute; top: 75px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto; overflow: hidden;">\n  <img src="{{coverimage|}}" alt="{{covertext|}}"\n       style="max-width: 95%; width: auto; height: 90%;"\n       id="METABOOKCOVERIMAGE"/>\n</div>\n<div id="METABOOKTITLE" class="flap"\n     style="position: absolute; top: 75px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto; overflow: hidden;">\n</div>\n<div id="METABOOKCREDITS" class="flap metabookcredits"\n     style="position: absolute; top: 75px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto; overflow: hidden;">\n</div>\n<div id="METABOOKBLURB" class="scrolling flap"\n     style="position: absolute; top: 50px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto;">\n</div>\n<div id="METABOOKAPPHELP" class="metabookhelp scrolling flap"\n     style="position: absolute; top: 75px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto;">\n  <h1><span class="adjustfont">Welcome to the &metaBook; web-based\n      e-reader</span></h1>\n  \n  <p>You\'re using &metaBook;, a web-based e-reader created to deepen\n    reading and engagement while connecting to networks of knowledge,\n    conversation, and commmunity.  &metaBook; aims to reclaim the\n    virtues of physical books for electronic books, making them\n    natural to navigate, annotate, search, and personalize.</p>\n  <div id="METABOOKCOVERHELP"></div>\n</div>\n<div id="METABOOKSETTINGS" class="scrolling flap"\n     style="position: absolute; top: 50px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto;">\n</div>\n<div id="METABOOKCONSOLE" class="scrolling flap"\n     style="position: absolute; top: 75px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto;">\n</div>\n<div id="METABOOKLAYERS" class="scrolling flap"\n     style="position: absolute; top: 75px; left: 50px; right: 50px; width: auto; bottom: 100px; height: auto;">\n  <iframe name="BOOKHUBAPP" id="BOOKHUBAPP" frameborder="0" scrolling="auto"></iframe>\n</div>\n<div id="METABOOKCOVERCONTROLS" class="adjustfonts" \n     style="position: absolute; bottom: 40px; left: 50px; right: 50px; width: auto; height: 60px; top: auto; font-size: 0.8em; font-size: 1.5rem; font-size: 3vw;">\n  <span class="control" data-mode="coverpage" title="see the cover"\n        tabindex="1">\n    Cover</span>\n  <span class="control" data-mode="titlepage"\n        title="this book\'s title page and other information"\n        tabindex="2">\n    Title</span>\n  <span class="control" data-mode="creditspage"\n        title="Credits to people and organizations contributing to this book, including bibliographic information"\n        tabindex="3">\n    Credits</span>\n  <span class="control" data-mode="blurb"\n        title="learn more about this book and its background"\n        tabindex="4">\n    About</span>\n  <span class="control" data-mode="layers"\n        title="manage added layers of glosses for your sBook"\n        tabindex="5">\n    Layers</span>\n  <span class="control" data-mode="console"\n        title="the debugging console (advanced)"\n        tabindex="6">\n    Console</span>\n  <span class="control" data-mode="settings"\n        title="alter this e-reader\'s appearance and interactions"\n        tabindex="7">\n    Settings</span>\n  <span class="control" data-mode="help"\n        title="simple help for using metaBook"\n        tabindex="8">\n    Help</span>\n</div>\n<div class="userbox controls"\n     data-maxfont="120%" id="METABOOKUSERBOX">\n  <span class="bookplate">\n    <a href="https://www.bookhub.io/" target="_blank"\n       class="bookplate__bookref metabookref"\n       title="Learn more about the metaBook reader and bookhub.io" tabindex="9">\n      This book</a>\n    <span class="bookplate__text">is personalized for</span>\n    <a href="https://my.bookhub.io/profile/"\n       class="bookplate__username metabookusername"\n       title="Edit your profile, add social networks, etc"\n       target="_blank" tabindex="10">\n      you</a></span>\n</div>\n<div class="loginbox controls" data-maxfont="120%" id="METABOOKLOGINBOX">\n  <div class="loginmessage">\n    Login to bookhub.io to read smarter</div>\n  <form action="https://auth.bookhub.io/" method="POST">\n    <input TYPE="HIDDEN" NAME="FRESHLOGIN" VALUE="yes"/>\n    <input TYPE="HIDDEN" NAME="LOGINFORM" VALUE="yes"/>\n    <input TYPE="TEXT" NAME="LOGIN" VALUE=""\n           PLACEHOLDER="email/cell login"\n           ONKEYPRESS="fdjt.UI.submitOnEnter(event);"\n           AUTOCOMPLETE="off"\n           tabindex="9"/>\n    <span>or use</span>\n    <select NAME="AUTHORITY">\n      <option value="" selected="SELECTED">Using account</option>\n      <option value=":FACEBOOK">Facebook</option>\n      <option value=":TWITTER">Twitter</option>\n      <option value=":YAHOO">Yahoo!</option>\n      <option value=":GOOGLE">Google</option>\n      <option value=":GPLUS">Google+</option>\n      <option value=":LINKEDIN">Linked In</option>\n      <option value=":AMAZON">Amazon</option>\n      <option value=":PAYPAL">PayPal</option>\n    </select>\n    <button name="AUTHORITY" TABINDEX="11"\n            value=":FACEBOOK">\n      <img src="{{bmg}}metabook/facebook64x64.png" class="nosvg"\n           alt="Facebook" class="noautoscale"/>\n      <img src="{{bmg}}metabook/facebook.svgz" class="svg"\n           alt="Facebook" class="noautoscale"/>\n    </button>\n    <button NAME="AUTHORITY" TABINDEX="12"\n            VALUE=":TWITTER">\n      <img src="{{bmg}}metabook/twitter64x64.png"\n           alt="Twitter" title="login with Twitter"\n           class="nosvg"/>\n      <img src="{{bmg}}metabook/twitter.svgz"\n           alt="Twitter" title="login with Twitter"\n           class="svg"/>\n    </button>\n    <button NAME="AUTHORITY" TABINDEX="13"\n            VALUE="https://open.login.yahooapis.com/openid/op/auth">\n      <img src="{{bmg}}metabook/yahoo64x64.png" class="nosvg"\n           alt="Yahoo!" title="login using Yahoo!"/>\n      <img src="{{bmg}}metabook/yahoo.svgz" class="svg"\n           alt="Yahoo!" title="login using Yahoo!"/>\n    </button>\n    <button NAME="AUTHORITY" TABINDEX="14"\n            VALUE=":GOOGLE">\n      <img src="{{bmg}}metabook/google64x64.png"\n           alt="Google" title="login using your Google account"\n           class="nosvg"/>\n      <img src="{{bmg}}metabook/google.svgz"\n           alt="Google" title="login using your Google account"\n           class="svg"/>\n    </button>\n    <button NAME="AUTHORITY" TABINDEX="15"\n            VALUE=":GPLUS">\n      <img src="{{bmg}}metabook/googleplus64x64.png"\n           alt="Google" title="login using Google+"\n           class="nosvg"/>\n      <img src="{{bmg}}metabook/googleplus.svgz"\n           alt="Google" title="login using Google+"\n           class="svg"/>\n    </button>\n    <button NAME="AUTHORITY" VALUE=":LINKEDIN" TABINDEX="16">\n      <img src="{{bmg}}metabook/linkedin64x64.png"\n           alt="Linked In" title="login with Linked In"\n           class="nosvg"/>\n      <img src="{{bmg}}metabook/linkedin.svgz"\n           alt="Linked In" title="login with Linked In"\n           class="svg"/>\n    </button>\n    <button name="AUTHORITY" TABINDEX="17"\n            value=":AMAZON">\n      <img src="{{bmg}}metabook/amazon64x64.png"\n           alt="Amazon" title="login with your Amazon account"/>\n    </button>\n    <button name="AUTHORITY" TABINDEX="18"\n            value=":PAYPAL">\n      <img src="{{bmg}}metabook/paypalsquare64x64.png" class="nosvg"\n           alt="PayPal" title="login with PayPal"/>\n      <img src="{{bmg}}metabook/paypalsquare.svgz" class="svg"\n           alt="PayPal" title="login with PayPal"/>\n    </button>\n  </form>\n</div>\n\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n';u.V.Lp='<form onsubmit="fdjt.UI.cancel(event); return false;" class="metabooksettings">\n  <h1 class="cf">\n    Settings\n    <span class="message" ID="METABOOKSETTINGSMESSAGE"></span></h1>\n  <div class="fontsizes body"\n       title="Set the font sizes used for the body text.">\n    <span class="label" id="METABOOKBODYSIZELABEL">\n      Body text<br/>\n      <button name="REFRESH" value="Layout"\n              id="METABOOKREFRESHLAYOUT">\n        <img src="{{bmg}}metabook/refresh.svgz" \n             onerror="this.src=\'{{bmg}}metabook/refresh50x50.png\'"\n             alt="Update">\n        Layout</button></span>\n    <span class="samples">\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="bodysize"\n               VALUE="xlarge"/>\n        <span class="sample xlarge">Aa</span></span>\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="bodysize" \n               VALUE="large"/>\n        <span class="sample large">Aa</span></span>\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="bodysize" \n               VALUE="normal"/>\n        <span class="sample normal">Aa</span></span>\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="bodysize" \n               VALUE="small"/>\n        <span class="sample small">Aa</span></span>\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="bodysize"\n               VALUE="tiny"/>\n        <span class="sample tiny">Aa</span></span>\n    </span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="contrast checkspans"\n       title="Select the contrast level for body text">\n    <span class="label smaller">Text Contrast</span>\n    <span class="checkspan highcontrast">\n      <input TYPE="RADIO" NAME="bodycontrast"\n             VALUE="high"/>\n      <span class="sample">High</span></span>\n    <span class="checkspan normalcontrast">\n      <input TYPE="RADIO" NAME="bodycontrast" \n             VALUE="medium"/>\n      <span class="sample">Normal</span></span>\n    <span class="checkspan lowcontrast">\n      <input TYPE="RADIO" NAME="bodycontrast"\n             VALUE="low"/>\n      <span class="sample">Low</span></span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="textlayout checkspans">\n    <span class="label smaller">Layout</span>\n    <span class="checkspans">\n      <span class="checkspan codex">\n        <input TYPE="RADIO" NAME="METABOOKLAYOUT"\n               VALUE="bypage"/>\n        by pages</span>\n      <span class="checkspan scrolling">\n        <input TYPE="RADIO" NAME="METABOOKLAYOUT" \n               VALUE="scrolling"/>\n        just scroll</span>\n      <span class="checkspan scrollio">\n        <input TYPE="RADIO" NAME="METABOOKLAYOUT"\n               VALUE="scrollio"/>\n        hybrid (<em>scrollio</em>)</span>\n    </span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="also checkspans">\n    <span class="label smaller">Other Options</span>\n    <span class="checkspan opendyslexical"\n          title="OpenDyslexic is a font designed to increase readability for readers with dyslexia">\n      <input TYPE="CHECKBOX" NAME="dyslexical" VALUE="yes"/>\n      <span class="checktext">Use OpenDyslexic font</span>\n      <a href="http://opendyslexic.org/"\n         title="The Open Dyslexic font site">(about)</a>\n    </span>\n    <span class="sep">//</span>\n    <span class="checkspan justify"\n          title="left/right justify paragraphs of body text">\n      <input TYPE="CHECKBOX" NAME="textjustify" VALUE="yes"/>\n      Justify paragraphs</span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="fontsizes device"\n       title="Set the font sizes used by the interface components of metaBook">\n    <span class="label">Application</span>\n    <span class="samples">\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="uisize" VALUE="large"/>\n        <span class="sample xlarge">Aa</span></span>\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="uisize" VALUE="normal"/>\n        <span class="sample normal">Aa</span></span>\n      <span class="checkspan">\n        <input TYPE="RADIO" NAME="uisize" VALUE="small"/>\n        <span class="sample small">Aa</span></span>\n    </span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="animation">\n    <span class="label smaller">Animate</span>\n    <span class="checkspan">\n      <input TYPE="CHECKBOX" NAME="animatecontent" VALUE="yes"/>\n      <span class="checktext">content (page flips, etc)</span></span>\n    <span class="checkspan">\n      <input TYPE="CHECKBOX" NAME="animatehud" VALUE="yes"/>\n      <span class="checktext">interface (overlays, controls, etc)</span></span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="header dataheader cf">\n    <button NAME="CLEARDATA" VALUE="ALL">Erase all</button>\n    <span class="label">Storage</span>\n  </div>\n  <div class="checkspan syncloc cf">\n    <button id="METABOOKRESETSYNC" name="SYNC" VALUE="RESET"\n            class="reset floatright"\n            title="Reset synchronized location information.">\n      <img src="{{bmg}}metabook/reset.svgz" \n           onerror="this.src=\'{{bmg}}metabook/reset50x50.png" alt=""/>\n      Reset</button>\n    <input TYPE="CHECKBOX" NAME="locsync" VALUE="yes"/>\n    <span class="checktext">\n      Sync your <strong>reading location</strong> with other devices</span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="checkspan saveglosses cf">\n    <button id="METABOOKREFRESHOFFLINE" class="refresh floatright"\n            title="Reload glosses and layers for this book from the cloud.">\n      <img src="{{bmg}}metabook/refresh.svgz" \n           onerror="this.error=\'{{bmg}}metabook/refresh50x50.png" alt=""/>\n      Reload</button>\n    <input TYPE="CHECKBOX" NAME="cacheglosses" VALUE="yes" CHECKED/>\n    <span class="checktext">\n      Save copies of <strong>glosses</strong>\n      and <strong>layers</strong> on this device</span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="checkspan showconsole cf">\n    <span class="label">Developer</span>\n    <input TYPE="CHECKBOX" NAME="showconsole" VALUE="yes"/>\n    <span class="checktext">Show the application console</span>\n  </div>\n  <div class="clearfloats"></div>\n  <div class="info" id="METABOOKINFOPANEL">\n    <span class="label">Info</span>\n    <p class="metabookrefinfo"></p>\n    <p class="metabooksourceinfo"></p>\n    <p class="metabookbuildinfo"></p>\n    <p class="metabookappinfo"></p>\n    <p class="metabookserverinfo"></p>\n  </div>\n  <div class="metabookcopyright">\n    <p class="metabookcopyrightinfo"></p>\n  </div>\n\n</form>\n\n\x3c!--\n    /* Emacs local variables\n    ;;;  Local variables: ***\n    ;;;  compile-command: "cd ../..; make" ***\n    ;;;  indent-tabs-mode: nil ***\n    ;;;  End: ***\n    */\n  --\x3e\n';g.kD="1.5-1562-geb59d45";g.Ek="moby.dc.beingmeta.com";g.ei="Sat Mar 5 14:31:20 EST 2016";g.Bx="fcba98bb-5c19-476c-9270-ff9fe921cf0c";zb.version="v0.8-156-ga7eef6e";u.version="v0.8-260-gc023e3f";u.zx="37d2b2bf-ca21-484e-abf3-bdc2570f5cb3";u.ei="Sat Mar  5 15:04:18 EST 2016";u.Ek="moby.dc.beingmeta.com";
